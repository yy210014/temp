globals
constant boolean LIBRARY_YDTriggerSaveLoadSystem=true
hashtable YDHT
constant boolean LIBRARY_YDWEAbilityState=true
constant integer YDWEAbilityState___ABILITY_STATE_COOLDOWN=1
constant integer YDWEAbilityState___ABILITY_DATA_TARGS=100
constant integer YDWEAbilityState___ABILITY_DATA_CAST=101
constant integer YDWEAbilityState___ABILITY_DATA_DUR=102
constant integer YDWEAbilityState___ABILITY_DATA_HERODUR=103
constant integer YDWEAbilityState___ABILITY_DATA_COST=104
constant integer YDWEAbilityState___ABILITY_DATA_COOL=105
constant integer YDWEAbilityState___ABILITY_DATA_AREA=106
constant integer YDWEAbilityState___ABILITY_DATA_RNG=107
constant integer YDWEAbilityState___ABILITY_DATA_DATA_A=108
constant integer YDWEAbilityState___ABILITY_DATA_DATA_B=109
constant integer YDWEAbilityState___ABILITY_DATA_DATA_C=110
constant integer YDWEAbilityState___ABILITY_DATA_DATA_D=111
constant integer YDWEAbilityState___ABILITY_DATA_DATA_E=112
constant integer YDWEAbilityState___ABILITY_DATA_DATA_F=113
constant integer YDWEAbilityState___ABILITY_DATA_DATA_G=114
constant integer YDWEAbilityState___ABILITY_DATA_DATA_H=115
constant integer YDWEAbilityState___ABILITY_DATA_DATA_I=116
constant integer YDWEAbilityState___ABILITY_DATA_UNITID=117
constant integer YDWEAbilityState___ABILITY_DATA_HOTKET=200
constant integer YDWEAbilityState___ABILITY_DATA_UNHOTKET=201
constant integer YDWEAbilityState___ABILITY_DATA_RESEARCH_HOTKEY=202
constant integer YDWEAbilityState___ABILITY_DATA_NAME=203
constant integer YDWEAbilityState___ABILITY_DATA_ART=204
constant integer YDWEAbilityState___ABILITY_DATA_TARGET_ART=205
constant integer YDWEAbilityState___ABILITY_DATA_CASTER_ART=206
constant integer YDWEAbilityState___ABILITY_DATA_EFFECT_ART=207
constant integer YDWEAbilityState___ABILITY_DATA_AREAEFFECT_ART=208
constant integer YDWEAbilityState___ABILITY_DATA_MISSILE_ART=209
constant integer YDWEAbilityState___ABILITY_DATA_SPECIAL_ART=210
constant integer YDWEAbilityState___ABILITY_DATA_LIGHTNING_EFFECT=211
constant integer YDWEAbilityState___ABILITY_DATA_BUFF_TIP=212
constant integer YDWEAbilityState___ABILITY_DATA_BUFF_UBERTIP=213
constant integer YDWEAbilityState___ABILITY_DATA_RESEARCH_TIP=214
constant integer YDWEAbilityState___ABILITY_DATA_TIP=215
constant integer YDWEAbilityState___ABILITY_DATA_UNTIP=216
constant integer YDWEAbilityState___ABILITY_DATA_RESEARCH_UBERTIP=217
constant integer YDWEAbilityState___ABILITY_DATA_UBERTIP=218
constant integer YDWEAbilityState___ABILITY_DATA_UNUBERTIP=219
constant boolean LIBRARY_YDWEBase=true
string bj_AllString=".................................!.#$%&'()*+,-./0123456789:;<=>.@ABCDEFGHIJKLMNOPQRSTUVWXYZ[.]^_`abcdefghijklmnopqrstuvwxyz{|}~................................................................................................................................"
unit bj_lastAbilityCastingUnit=null
unit bj_lastAbilityTargetUnit=null
unit bj_lastPoolAbstractedUnit=null
unitpool bj_lastCreatedUnitPool=null
item bj_lastPoolAbstractedItem=null
itempool bj_lastCreatedItemPool=null
attacktype bj_lastSetAttackType=ATTACK_TYPE_NORMAL
damagetype bj_lastSetDamageType=DAMAGE_TYPE_NORMAL
weapontype bj_lastSetWeaponType=WEAPON_TYPE_WHOKNOWS
real yd_MapMaxX=0
real yd_MapMinX=0
real yd_MapMaxY=0
real yd_MapMinY=0
string array YDWEBase___yd_PlayerColor
trigger array YDWEBase___AbilityCastingOverEventQueue
integer array YDWEBase___AbilityCastingOverEventType
integer YDWEBase___AbilityCastingOverEventNumber=0
constant boolean LIBRARY_YDWEEventDamageData=true
constant integer YDWEEventDamageData___EVENT_DAMAGE_DATA_VAILD=0
constant integer YDWEEventDamageData___EVENT_DAMAGE_DATA_IS_PHYSICAL=1
constant integer YDWEEventDamageData___EVENT_DAMAGE_DATA_IS_ATTACK=2
constant integer YDWEEventDamageData___EVENT_DAMAGE_DATA_IS_RANGED=3
constant integer YDWEEventDamageData___EVENT_DAMAGE_DATA_DAMAGE_TYPE=4
constant integer YDWEEventDamageData___EVENT_DAMAGE_DATA_WEAPON_TYPE=5
constant integer YDWEEventDamageData___EVENT_DAMAGE_DATA_ATTACK_TYPE=6
constant boolean LIBRARY_YDWEGeneralBounsSystem=true
integer array YDWEGeneralBounsSystem___ABILITY_COUNT
integer array YDWEGeneralBounsSystem___ABILITY_NUM
integer array YDWEGeneralBounsSystem___BonusAbilitys
integer array YDWEGeneralBounsSystem___PowersOf2
integer YDWEGeneralBounsSystem___PRELOAD_DUMMY_UNIT='hpea'
integer array YDWEGeneralBounsSystem___YDWEBONUS_MyChar
boolean YDWEGeneralBounsSystem___PRELOAD_ABILITYS=true
constant integer YDWEGeneralBounsSystem___BONUS_TYPES=4
integer array YDWEGeneralBounsSystem___MaxBonus
integer array YDWEGeneralBounsSystem___MinBonus
constant boolean LIBRARY_YDWEGetItemOfTypeFromUnitBJNull=true
item yd_NullTempItem
constant boolean LIBRARY_YDWEGetPlayersMatchingNull=true
force yd_NullTempForce
constant boolean LIBRARY_YDWEGetUnitsInRangeOfLocMatchingNull=true
constant boolean LIBRARY_YDWEGetUnitsInRectMatchingNull=true
constant boolean LIBRARY_YDWEGetUnitsOfPlayerAndTypeIdNull=true
group yd_NullTempGroup
constant boolean LIBRARY_YDWEGetUnitsOfPlayerMatchingNull=true
constant boolean LIBRARY_YDWEGetUnitsOfTypeIdAllNull=true
constant boolean LIBRARY_YDWEPauseAllUnitsBJNull=true
constant boolean LIBRARY_YDWEPlaySoundNull=true
constant boolean LIBRARY_YDWEPolledWaitNull=true
constant boolean LIBRARY_YDWEReplaceUnitBJNull=true
constant boolean LIBRARY_YDWESetUnitFacingToFaceLocTimedNull=true
constant boolean LIBRARY_YDWETriggerEvent=true
trigger yd_DamageEventTrigger=null
trigger array YDWETriggerEvent___DamageEventQueue
integer YDWETriggerEvent___DamageEventNumber=0
item bj_lastMovedItemInItemSlot=null
trigger YDWETriggerEvent___MoveItemEventTrigger=null
trigger array YDWETriggerEvent___MoveItemEventQueue
integer YDWETriggerEvent___MoveItemEventNumber=0
constant boolean LIBRARY_YDWEUnitHasItemOfTypeBJNull=true
constant boolean LIBRARY_YDWEYDWEJapiOther=true
constant integer YDWEYDWEJapiOther___CHAT_RECIPIENT_ALL=0
constant integer YDWEYDWEJapiOther___CHAT_RECIPIENT_ALLIES=1
constant integer YDWEYDWEJapiOther___CHAT_RECIPIENT_OBSERVERS=2
constant integer YDWEYDWEJapiOther___CHAT_RECIPIENT_REFEREES=2
constant integer YDWEYDWEJapiOther___CHAT_RECIPIENT_PRIVATE=3
constant boolean LIBRARY_MeatHook=true
group MeatHook___Except=CreateGroup()
location MeatHook___Point=Location(.0,.0)
constant boolean LIBRARY_YDWEAdvancedUnitDataSystem=true
constant real YDWEAdvancedUnitDataSystem___ARMOR_REDUCTION_MULTIPLIER1=.02
constant real YDWEAdvancedUnitDataSystem___ARMOR_REDUCTION_MULTIPLIER2=.98
constant real YDWEAdvancedUnitDataSystem___NATLOG_094=-.020203
constant real YDWEAdvancedUnitDataSystem___ARMOR_INVULNERABLE=917451.519
constant real YDWEAdvancedUnitDataSystem___DAMAGE_TEST=160.
constant real YDWEAdvancedUnitDataSystem___DAMAGE_LIFE=300.
constant boolean LIBRARY_YDWEGetUnitsOfPlayerAllNull=true
constant boolean LIBRARY_YDWEJumpTimer=true
integer MoveMoreLevel_JumpTimer=3
constant boolean LIBRARY_YDWESetUnitFacingToFaceUnitTimedNull=true
constant boolean LIBRARY_YDWETimerSystem=true
integer YDWETimerSystem___CurrentTime
integer YDWETimerSystem___CurrentIndex
integer YDWETimerSystem___TaskListHead
integer YDWETimerSystem___TaskListIdleHead
integer YDWETimerSystem___TaskListIdleMax
integer array YDWETimerSystem___TaskListIdle
integer array YDWETimerSystem___TaskListNext
integer array YDWETimerSystem___TaskListTime
trigger array YDWETimerSystem___TaskListProc
trigger YDWETimerSystem___fnRemoveUnit
trigger YDWETimerSystem___fnDestroyTimer
trigger YDWETimerSystem___fnRemoveItem
trigger YDWETimerSystem___fnDestroyEffect
trigger YDWETimerSystem___fnDestroyLightning
trigger YDWETimerSystem___fnRunTrigger
timer YDWETimerSystem___Timer
integer YDWETimerSystem___TimerHandle
integer YDWETimerSystem___TimerSystem_RunIndex=0
timer array udg_Jishiqi
integer array udg_Number
force array udg_group_of_players
string array udg_yanse
item array udg_wupin
integer array udg_help
integer array udg_provoke
integer array udg_death
integer array udg_sw
integer array udg_go
integer array udg_affirm
integer array udg_backup
integer array udg_fallback
integer array udg_followme
integer array udg_nagative
real array udg_a
real array udg_f
integer array udg_i
group array udg_gun_group
integer udg_gun_Index=0
player array udg_gun_Player
timer udg_gun_Timer=null
unit array udg_gun_Units
real array udg_gun_VelocityX
real array udg_gun_VelocityY
location array udg_gun_dian
player array udg_p
real array udg_Speed
unit array udg_u
real array udg_x
real array udg_X
real array udg_y
real array udg_Y
real array udg_z
real array udg_Z
integer array udg_gun_Count
real array udg_gun_Z
timerdialog udg_chuangkou=null
string array udg_achievement_yanse
string array udg_achievement_title
timer udg_Human_jishiqi=null
integer array udg_achievement_players
integer array udg_achievement_cont
integer array udg_achievement_neir
group udg_group_yanshi=null
integer array udg_leve
boolean udg_winner=false
string array udg_ach_cont1
string array udg_ach_cont12
string array udg_ach_cont4
string array udg_ach_cont5
string array udg_ach_cont6
string array udg_ach_cont7
string array udg_ach_cont8
string array udg_ach_cont9
string array udg_ach_cont10
string array udg_ach_cont11
string array udg_ach_cont2
string array udg_ach_cont3
timer udg_Timer_come=null
boolean udg_kick_t=false
integer udg_kick_c=0
leaderboard udg_kick_p=null
string array udg_kick_n
group udg_group_mcdw=null
group udg_group_dian=null
integer array udg_small_zb
group udg_AImove=null
group udg_mod=null
group udg_Death_unit=null
dialog udg_Choose=null
group udg_group_xrzs=null
timer udg_Timer_game=null
group udg_group_both=null
group array udg_group_rf
group udg_group_mc=null
rect gg_rct______________000=null
camerasetup gg_cam_Camera_001=null
camerasetup gg_cam_Camera_002=null
camerasetup gg_cam_Camera_003=null
sound gg_snd_1=null
sound gg_snd_10=null
sound gg_snd_2=null
sound gg_snd_20secremain=null
sound gg_snd_3=null
sound gg_snd_4=null
sound gg_snd_5=null
sound gg_snd_6=null
sound gg_snd_7=null
sound gg_snd_8=null
sound gg_snd_9=null
sound gg_snd_a__ou=null
sound gg_snd_appear=null
sound gg_snd_BanditPissed3=null
sound gg_snd_BansheeDeath=null
sound gg_snd_BansheePissed4=null
sound gg_snd_BONUSMISSION_UI=null
sound gg_snd_com_go=null
sound gg_snd_com_go_f=null
sound gg_snd_cso_result=null
sound gg_snd_ct_affirm=null
sound gg_snd_ct_affirm_f=null
sound gg_snd_ct_backup=null
sound gg_snd_ct_backup_f=null
sound gg_snd_ct_enemys=null
sound gg_snd_ct_enemys_f=null
sound gg_snd_DarkSummoningLaunch1=null
sound gg_snd_DeathKnightPissed4=null
sound gg_snd_Dryad_help=null
sound gg_snd_enemys_f=null
sound gg_snd_enemys_g=null
sound gg_snd_enemys_n=null
sound gg_snd_enemys_y=null
sound gg_snd_Error=null
sound gg_snd_event_radio_f=null
sound gg_snd_event_radio_u=null
sound gg_snd_fallback=null
sound gg_snd_fallback_f=null
sound gg_snd_FlashBack1Second=null
sound gg_snd_FlashBackHalfSecondSecond=null
sound gg_snd_followme=null
sound gg_snd_followme_f=null
sound gg_snd_FootmanYesAttack2=null
sound gg_snd_FreakyForest1=null
sound gg_snd_FreakyForest2=null
sound gg_snd_FreakyForest3=null
sound gg_snd_FreakyForest4=null
sound gg_snd_FrostmourneChant1=null
sound gg_snd_GameFound=null
sound gg_snd_Grenadekill_BL=null
sound gg_snd_Grenadekill_GR=null
sound gg_snd_Grenadekill_man_BL=null
sound gg_snd_Grenadekill_man_GR=null
sound gg_snd_hp_supply_female=null
sound gg_snd_hp_supply_male=null
sound gg_snd_human_death_01=null
sound gg_snd_human_death_02=null
sound gg_snd_human_death_female_01=null
sound gg_snd_human_death_female_02=null
sound gg_snd_HumanCallToArmsWhat1=null
sound gg_snd_KaelYesAttack3=null
sound gg_snd_KillHumanBossAnimationSnd=null
sound gg_snd_KillNanoAnimationSnd=null
sound gg_snd_Knifekill_BL=null
sound gg_snd_Knifekill_BL_female=null
sound gg_snd_Knifekill_GR=null
sound gg_snd_Knifekill_GR_female=null
sound gg_snd_KnightPissed1=null
sound gg_snd_NaishaPissed1=null
sound gg_snd_negative=null
sound gg_snd_negative_f=null
sound gg_snd_ohno=null
sound gg_snd_Peasant_help=null
sound gg_snd_PeasantWarcry1=null
sound gg_snd_Priest_help=null
sound gg_snd_QuestCompleted=null
sound gg_snd_RallyPointPlace1=null
sound gg_snd_Rescue=null
sound gg_snd_TheHornOfCenarius=null
sound gg_snd_WarlockAppears=null
sound gg_snd_WarlockAppears01=null
sound gg_snd_win_human=null
sound gg_snd_win_zombi=null
sound gg_snd_ZE_Ambience=null
sound gg_snd_ZE_Ready=null
sound gg_snd_Zombi_Ambience=null
sound gg_snd_zombi_bomb_throw=null
sound gg_snd_zombi_box=null
sound gg_snd_zombi_comeback=null
sound gg_snd_zombi_coming_1=null
sound gg_snd_zombi_coming_2=null
sound gg_snd_zombi_evolution=null
sound gg_snd_zombi_evolution_female=null
sound gg_snd_zombi_heal=null
sound gg_snd_zombi_heal_female=null
sound gg_snd_zombi_heal_heavy=null
sound gg_snd_zombi_hurt_01=null
sound gg_snd_zombi_hurt_02=null
sound gg_snd_zombi_hurt_female_2=null
sound gg_snd_zombi_hurt_heavy_1=null
sound gg_snd_zombi_hurt_heavy_2=null
sound gg_snd_zombi_pre_idle_1=null
sound gg_snd_zombi_pre_idle_2=null
sound gg_snd_zombi_pressure=null
sound gg_snd_zombi_pressure_female=null
sound gg_snd_zombi_start=null
sound gg_snd_Will_come_190s=null
trigger gg_trg_Initialization_u=null
trigger gg_trg_choose=null
trigger gg_trg_choose_fz=null
trigger gg_trg_Explain_u=null
trigger gg_trg_Players_born=null
trigger gg_trg_Countdown_u=null
trigger gg_trg_Count_down=null
trigger gg_trg_article_ready=null
trigger gg_trg_load_player=null
trigger gg_trg_ordinary=null
trigger gg_trg_vengeance_god=null
trigger gg_trg_show_ach=null
trigger gg_trg_Equipment_ach=null
trigger gg_trg_1_1=null
trigger gg_trg_1_2=null
trigger gg_trg_2=null
trigger gg_trg_3=null
trigger gg_trg_4=null
trigger gg_trg_5=null
trigger gg_trg_6=null
trigger gg_trg_7=null
trigger gg_trg_8=null
trigger gg_trg_9=null
trigger gg_trg_go=null
trigger gg_trg_affirm=null
trigger gg_trg_backup=null
trigger gg_trg_fallback=null
trigger gg_trg_followme=null
trigger gg_trg_negative=null
trigger gg_trg_enemys=null
trigger gg_trg_up_attack=null
trigger gg_trg_science_and_technology=null
trigger gg_trg_Human_death=null
trigger gg_trg_Human_npc=null
trigger gg_trg_Human_win_1=null
trigger gg_trg_Human_win_2=null
trigger gg_trg_Human_win_3=null
trigger gg_trg_Human_win_fz=null
trigger gg_trg_Human_vision_u=null
trigger gg_trg_Human_skill_1=null
trigger gg_trg_Human_skill_2=null
trigger gg_trg_Human_skill_3=null
trigger gg_trg_Human_skill_3_fz=null
trigger gg_trg_Human_skill_4_5=null
trigger gg_trg_Human_skill_6=null
trigger gg_trg_Human_skill_7_18_19=null
trigger gg_trg_Human_skill_7_9_10_16_fz=null
trigger gg_trg_Human_skill_8=null
trigger gg_trg_Human_skill_11=null
trigger gg_trg_Human_skill_12=null
trigger gg_trg_Human_skill_13=null
trigger gg_trg_Human_skill_14=null
trigger gg_trg_Human_skill_15=null
trigger gg_trg_Human_skill_17=null
trigger gg_trg_Human_skill_17_fz=null
trigger gg_trg_Human_skill_20=null
trigger gg_trg_Human_come=null
trigger gg_trg_Human_Into_the_potential_u=null
trigger gg_trg_Human_min=null
trigger gg_trg_Human_economic_a=null
trigger gg_trg_Human_economic_b=null
trigger gg_trg_Human_economic_c=null
trigger gg_trg_Zombi_win=null
trigger gg_trg_Zombi_heal=null
trigger gg_trg_Zombi_hurt=null
trigger gg_trg_Zombi_up=null
trigger gg_trg_Zombi_death=null
trigger gg_trg_Zombi_skill_1_5_10=null
trigger gg_trg_Zombi_skill_2_4_6_8=null
trigger gg_trg_Zombi_skill_2_fz=null
trigger gg_trg_Zombi_skill_3=null
trigger gg_trg_Zombi_skill_7_9=null
trigger gg_trg_Zombi_skill_8_fz=null
trigger gg_trg_Zombi_gold_1=null
trigger gg_trg_Zombi_gold_2=null
trigger gg_trg_Zombi_min=null
trigger gg_trg_Mining_stone_u=null
trigger gg_trg_Items_function_a=null
trigger gg_trg_Items_function_b=null
trigger gg_trg_Items_function_c=null
trigger gg_trg_lottery_u=null
trigger gg_trg_Building_restrictions=null
trigger gg_trg_Building_skill_1=null
trigger gg_trg_Building_skill_1_fz=null
trigger gg_trg_Building_skill_1_fz1=null
trigger gg_trg_Building_skill_1_fz2=null
trigger gg_trg_Building_death=null
trigger gg_trg_Building_ready=null
trigger gg_trg_Building_coming=null
trigger gg_trg_Building_then_damage=null
trigger gg_trg_Sunkens_correction_u=null
trigger gg_trg_Games_timing_u=null
trigger gg_trg_Games_end=null
trigger gg_trg_Games_save=null
trigger gg_trg_Games_settle_accounts=null
trigger gg_trg_article_1=null
trigger gg_trg_article_2=null
trigger gg_trg_article_3=null
trigger gg_trg_article_4=null
trigger gg_trg_article_5=null
trigger gg_trg_article_6=null
trigger gg_trg_article_7=null
trigger gg_trg_article_8=null
trigger gg_trg_article_9=null
trigger gg_trg_article_10=null
trigger gg_trg_article_11=null
trigger gg_trg_article_combining1=null
trigger gg_trg_article_combining1_fz=null
trigger gg_trg_article_combining2=null
trigger gg_trg_article_combining3=null
trigger gg_trg_article_skill_1_6_8_9_14_15_17=null
trigger gg_trg_article_skill_2=null
trigger gg_trg_article_skill_3_4_13=null
trigger gg_trg_article_skill_5=null
trigger gg_trg_article_skill_7=null
trigger gg_trg_article_skill_10=null
trigger gg_trg_article_skill_10_fz1=null
trigger gg_trg_article_skill_10_fz2=null
trigger gg_trg_article_skill_11=null
trigger gg_trg_article_skill_12=null
trigger gg_trg_article_skill_12_fz=null
trigger gg_trg_article_skill_16=null
trigger gg_trg_article_skill_CD=null
trigger gg_trg_Ashenvale_wav_1=null
trigger gg_trg_Ashenvale_wav_2=null
trigger gg_trg_The_deep_upgrade=null
trigger gg_trg_Down_attack=null
trigger gg_trg_Reinforcement_of_forces_u=null
trigger gg_trg_Reinforcement_of_forces_fz=null
trigger gg_trg_Reinforcement_of_forces_fz1=null
trigger gg_trg_Reinforcement_of_forces_fz2=null
trigger gg_trg_Human_building_skill_1=null
trigger gg_trg_Human_building_1=null
trigger gg_trg_Zombi_skill_update=null
trigger gg_trg_Science_and_technology_limited=null
trigger gg_trg_Science_and_technology_limited_fz=null
trigger gg_trg_Limit_attack_u=null
trigger gg_trg_Delete_article=null
trigger gg_trg_players_exit1=null
trigger gg_trg_players_exit2=null
trigger gg_trg_players_exit3=null
trigger gg_trg_article_own1=null
trigger gg_trg_article_own2=null
trigger gg_trg_Vote_kicking=null
trigger gg_trg_Vote_kicking_fz=null
trigger gg_trg_MH=null
trigger gg_trg_special_Human_skill_1=null
trigger gg_trg_special_Human_skill_1_fz=null
trigger gg_trg_special_Human_skill_1_pd=null
trigger gg_trg_experience=null
trigger gg_trg_experience_god=null
trigger gg_trg_small_zb_birth=null
trigger gg_trg_small_zb_move=null
trigger gg_trg_Hp_full=null
trigger gg_trg_Hero_npc=null
trigger gg_trg_vengeance_god_npc=null
trigger gg_trg_vengeance_god_come=null
trigger gg_trg_vengeance_god_come_fz=null
trigger gg_trg_vengeance_god_Min=null
trigger gg_trg_Hero_Min=null
trigger gg_trg_Hero_death=null
trigger gg_trg_Win=null
trigger gg_trg_zb_up=null
trigger gg_trg_Jump_thud=null
trigger gg_trg_Anti_magic_shield=null
trigger gg_trg_Conceal_hook=null
trigger gg_trg_Meat_hook=null
trigger gg_trg_Tooth_blade_impact=null
trigger gg_trg_Wind_blade_pitfalls=null
trigger gg_trg_Wind_blade_pitfalls_fz=null
trigger gg_trg_Wind_blade_pitfalls_fz1=null
trigger gg_trg_Sharp_tooth_blade_crowd=null
trigger gg_trg_Assault_break_enemys=null
trigger gg_trg_Armoured_defense=null
trigger gg_trg_Huge_armoured_defense_change=null
trigger gg_trg_Holy_bolt=null
trigger gg_trg_Blink=null
trigger gg_trg_Star_bomb=null
trigger gg_trg_Rapid_ghosting_effect=null
trigger gg_trg_Rapid_ghosting_effect_fz=null
trigger gg_trg_Rotary_blade_storm=null
trigger gg_trg_Critical_strike=null

trigger gg_trg_6B___J=null
trigger gg_trg_Record_kill=null
trigger gg_trg_Record_Hurt=null
trigger gg_trg_Record_hurt_end=null
trigger gg_trg_Record_time=null
trigger gg_trg_Record_all=null
trigger gg_trg_Record_exit=null

trigger gg_trg_Building_xianzhi=null
trigger gg_trg_gold=null
trigger gg_trg_give_gold=null
trigger gg_trg_war=null
unit gg_unit_h000_0027=null
unit gg_unit_h000_0026=null
unit gg_unit_h000_0002=null
unit gg_unit_h000_0003=null
unit gg_unit_h000_0004=null
unit gg_unit_h000_0005=null
unit gg_unit_h000_0006=null
unit gg_unit_h000_0015=null
unit gg_unit_h000_0017=null
unit gg_unit_h000_0018=null
unit gg_unit_h000_0019=null
unit gg_unit_h000_0020=null
unit gg_unit_h000_0021=null
unit gg_unit_h000_0022=null
unit gg_unit_h000_0023=null
unit gg_unit_h000_0024=null
unit gg_unit_h000_0025=null
unit gg_unit_h000_0057=null
unit gg_unit_n003_0060=null
unit gg_unit_h000_0059=null
unit gg_unit_h000_0066=null
unit gg_unit_h000_0069=null
unit gg_unit_h000_0064=null
unit gg_unit_h000_0056=null
unit gg_unit_h000_0063=null
unit gg_unit_h000_0058=null
unit gg_unit_h000_0065=null
unit gg_unit_h000_0061=null
unit gg_unit_h000_0067=null
unit gg_unit_ngme_0050=null
unit gg_unit_h000_0055=null
unit gg_unit_ngad_0052=null
unit gg_unit_n000_0053=null
unit gg_unit_h01K_0062=null
trigger l__library_init
gamecache udg_GC= null
player udg_GC_Player= null
integer udg_int= 0
string udg_str=""
string udg_solt_id=""
integer udg_solt_id_int= 0
integer array udg_SyncStoredInteger
gamecache GC=InitGameCache("dr.x")
endglobals

//SyAPI
	native EXSYTest takes nothing returns nothing
	native EXSYJsonFree takes integer hjson returns nothing
	native EXSYJsonAdd takes integer hjson, string name, string value returns nothing
	native EXSYLogTrace takes string s_log returns nothing
	native EXSYStringToInt takes string s_num returns integer
	native EXSYIntToString takes integer n_num returns string
	native EXSYStringToFloat takes string s_num returns real
	native EXSYFloatToString takes real f_num returns string
	native EXSYCallParam0 takes integer type_id returns string
	native EXSYCallParam1 takes integer type_id, string param1 returns string
	native EXSYCallParam2 takes integer type_id, string param1, string param2 returns string
	native EXSYCallParam3 takes integer type_id, string param1, string param2, string param3 returns string
	native EXSYCallParam4 takes integer type_id, string param1, string param2, string param3, string param4 returns string
	native EXSYCallParam5 takes integer type_id, string param1, string param2, string param3, string param4, string param5 returns string
	native EXSYCallParam6 takes integer type_id, string param1, string param2, string param3, string param4, string param5, string param6 returns string
	native EXSYCallParam7 takes integer type_id, string param1, string param2, string param3, string param4, string param5, string param6, string param7 returns string
	native EXSYCallParam8 takes integer type_id, string param1, string param2, string param3, string param4, string param5, string param6, string param7, string param8 returns string
	native EXSYCallParam9 takes integer type_id, string param1, string param2, string param3, string param4, string param5, string param6, string param7, string param8, string param9 returns string
	native EXSYCallParam10 takes integer type_id, string param1, string param2, string param3, string param4, string param5, string param6, string param7, string param8, string param9, string param10 returns string
	native EXSYCallParam11 takes integer type_id, string param1, string param2, string param3, string param4, string param5, string param6, string param7, string param8, string param9, string param10, string param11 returns string
	native EXSYCallParam12 takes integer type_id, string param1, string param2, string param3, string param4, string param5, string param6, string param7, string param8, string param9, string param10, string param11, string param12 returns string
	native EXSYCallParam13 takes integer type_id, string param1, string param2, string param3, string param4, string param5, string param6, string param7, string param8, string param9, string param10, string param11, string param12, string param13 returns string
	native EXSYCallParam14 takes integer type_id, string param1, string param2, string param3, string param4, string param5, string param6, string param7, string param8, string param9, string param10, string param11, string param12, string param13, string param14 returns string
	native EXSYJsonDecode takes string content returns integer
	native EXSYJsonGetname takes integer hjson, integer index returns string
	native EXSYJsonGetvalue takes integer hjson, integer index returns string
	native EXSYJsonEncode takes integer hjson returns string
	native EXSYJsonCreate takes nothing returns integer
	native EXSYBillRequest takes integer slot_id, integer func_id, integer action_index, integer price, integer fanhuan returns nothing
	native EXSYBillRes takes integer slot_id, integer func_id, integer action_index returns string
	native EXSYOpenRecharge takes integer slot_id returns nothing
	native EXSYGetSystemTime takes nothing returns integer
	native EXSYGetSystemTimeStr takes nothing returns string
	native EXSYGetSelfSlotId takes nothing returns integer
	native EXSYGetVIPLevel takes integer slot_id returns integer
	native EXSYGetPlayerTeamId takes integer slot_id returns integer
	native EXSYGetPlayerId takes integer slot_id returns integer
	native EXSYGetPlayerName takes integer slot_id returns string
	native EXSYGetGameCount takes integer slot_id returns integer
	native EXSYGetGameWinCount takes integer slot_id returns integer
	native EXSYGetGameHeroCount takes integer slot_id returns integer
	native EXSYGetGameHeroWinCount	takes integer slot_id returns integer
	native EXSYGetGameScore takes integer slot_id returns integer
	native EXSYGetGameModel takes nothing returns integer
	native EXSYGetMapModel takes nothing returns string
	native EXSYGetGameId takes nothing returns integer
	native EXSYIsUseDoubleScoreCard	takes nothing returns integer
	native EXSYGetChenJiu takes integer slot_id returns string
	native EXSYIsHasItem takes integer slot_id, integer item_id returns integer
	native EXSYSendStatics takes integer comit_type, integer n_param1, integer n_param2, integer n_param3, integer n_param4, string str_param1, string str_param2, string str_param3, string str_param4 returns nothing
	native EXSYUploadLog takes integer sub_type, string log_path, string log_content returns nothing

//japi
native EXGetUnitAbility takes unit u,integer abilcode returns ability
native EXGetUnitAbilityByIndex takes unit u,integer index returns ability
native EXGetAbilityId takes ability abil returns integer
native EXGetAbilityState takes ability abil,integer state_type returns real
native EXSetAbilityState takes ability abil,integer state_type,real value returns boolean
native EXGetAbilityDataReal takes ability abil,integer level,integer data_type returns real
native EXSetAbilityDataReal takes ability abil,integer level,integer data_type,real value returns boolean
native EXGetAbilityDataInteger takes ability abil,integer level,integer data_type returns integer
native EXSetAbilityDataInteger takes ability abil,integer level,integer data_type,integer value returns boolean
native EXGetAbilityDataString takes ability abil,integer level,integer data_type returns string
native EXSetAbilityDataString takes ability abil,integer level,integer data_type,string value returns boolean
native EXGetEventDamageData takes integer edd_type returns integer
native EXSetEventDamage takes real amount returns boolean
native EXDisplayChat takes player p,integer chat_recipient,string message returns nothing
native GetUnitGoldCost takes integer unitid returns integer
native GetUnitWoodCost takes integer unitid returns integer
native GetUnitBuildTime takes integer unitid returns integer
native GetUnitCountDone takes integer unitid returns integer
function YDTriggerSaveLoadSystem___Init takes nothing returns nothing
set YDHT=InitHashtable()
endfunction
function YDWEGetUnitAbilityState takes unit u,integer abilcode,integer state_type returns real
return EXGetAbilityState(EXGetUnitAbility(u,abilcode),state_type)
endfunction
function YDWEGetUnitAbilityDataInteger takes unit u,integer abilcode,integer level,integer data_type returns integer
return EXGetAbilityDataInteger(EXGetUnitAbility(u,abilcode),level,data_type)
endfunction
function YDWEGetUnitAbilityDataReal takes unit u,integer abilcode,integer level,integer data_type returns real
return EXGetAbilityDataReal(EXGetUnitAbility(u,abilcode),level,data_type)
endfunction
function YDWEGetUnitAbilityDataString takes unit u,integer abilcode,integer level,integer data_type returns string
return EXGetAbilityDataString(EXGetUnitAbility(u,abilcode),level,data_type)
endfunction
function YDWESetUnitAbilityState takes unit u,integer abilcode,integer state_type,real value returns boolean
return EXSetAbilityState(EXGetUnitAbility(u,abilcode),state_type,value)
endfunction
function YDWESetUnitAbilityDataInteger takes unit u,integer abilcode,integer level,integer data_type,integer value returns boolean
return EXSetAbilityDataInteger(EXGetUnitAbility(u,abilcode),level,data_type,value)
endfunction
function YDWESetUnitAbilityDataReal takes unit u,integer abilcode,integer level,integer data_type,real value returns boolean
return EXSetAbilityDataReal(EXGetUnitAbility(u,abilcode),level,data_type,value)
endfunction
function YDWESetUnitAbilityDataString takes unit u,integer abilcode,integer level,integer data_type,string value returns boolean
return EXSetAbilityDataString(EXGetUnitAbility(u,abilcode),level,data_type,value)
endfunction
function YDWEH2I takes handle h returns integer
return GetHandleId(h)
endfunction
function YDWEFlushAllData takes nothing returns nothing
call FlushParentHashtable(YDHT)
endfunction
function YDWEFlushMissionByInteger takes integer i returns nothing
call FlushChildHashtable(YDHT,i)
endfunction
function YDWEFlushMissionByString takes string s returns nothing
call FlushChildHashtable(YDHT,StringHash(s))
endfunction
function YDWEFlushStoredIntegerByInteger takes integer i,integer j returns nothing
call RemoveSavedInteger(YDHT,i,j)
endfunction
function YDWEFlushStoredIntegerByString takes string s1,string s2 returns nothing
call RemoveSavedInteger(YDHT,StringHash(s1),StringHash(s2))
endfunction
function YDWEHaveSavedIntegerByInteger takes integer i,integer j returns boolean
return HaveSavedInteger(YDHT,i,j)
endfunction
function YDWEHaveSavedIntegerByString takes string s1,string s2 returns boolean
return HaveSavedInteger(YDHT,StringHash(s1),StringHash(s2))
endfunction
function YDWESaveIntegerByInteger takes integer pTable,integer pKey,integer i returns nothing
call SaveInteger(YDHT,pTable,pKey,i)
endfunction
function YDWESaveIntegerByString takes string pTable,string pKey,integer i returns nothing
call SaveInteger(YDHT,StringHash(pTable),StringHash(pKey),i)
endfunction
function YDWEGetIntegerByInteger takes integer pTable,integer pKey returns integer
return LoadInteger(YDHT,pTable,pKey)
endfunction
function YDWEGetIntegerByString takes string pTable,string pKey returns integer
return LoadInteger(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveRealByInteger takes integer pTable,integer pKey,real r returns nothing
call SaveReal(YDHT,pTable,pKey,r)
endfunction
function YDWESaveRealByString takes string pTable,string pKey,real r returns nothing
call SaveReal(YDHT,StringHash(pTable),StringHash(pKey),r)
endfunction
function YDWEGetRealByInteger takes integer pTable,integer pKey returns real
return LoadReal(YDHT,pTable,pKey)
endfunction
function YDWEGetRealByString takes string pTable,string pKey returns real
return LoadReal(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveStringByInteger takes integer pTable,integer pKey,string s returns nothing
call SaveStr(YDHT,pTable,pKey,s)
endfunction
function YDWESaveStringByString takes string pTable,string pKey,string s returns nothing
call SaveStr(YDHT,StringHash(pTable),StringHash(pKey),s)
endfunction
function YDWEGetStringByInteger takes integer pTable,integer pKey returns string
return LoadStr(YDHT,pTable,pKey)
endfunction
function YDWEGetStringByString takes string pTable,string pKey returns string
return LoadStr(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveBooleanByInteger takes integer pTable,integer pKey,boolean b returns nothing
call SaveBoolean(YDHT,pTable,pKey,b)
endfunction
function YDWESaveBooleanByString takes string pTable,string pKey,boolean b returns nothing
call SaveBoolean(YDHT,StringHash(pTable),StringHash(pKey),b)
endfunction
function YDWEGetBooleanByInteger takes integer pTable,integer pKey returns boolean
return LoadBoolean(YDHT,pTable,pKey)
endfunction
function YDWEGetBooleanByString takes string pTable,string pKey returns boolean
return LoadBoolean(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveUnitByInteger takes integer pTable,integer pKey,unit u returns nothing
call SaveUnitHandle(YDHT,pTable,pKey,u)
endfunction
function YDWESaveUnitByString takes string pTable,string pKey,unit u returns nothing
call SaveUnitHandle(YDHT,StringHash(pTable),StringHash(pKey),u)
endfunction
function YDWEGetUnitByInteger takes integer pTable,integer pKey returns unit
return LoadUnitHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetUnitByString takes string pTable,string pKey returns unit
return LoadUnitHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveUnitIDByInteger takes integer pTable,integer pKey,integer uid returns nothing
call SaveInteger(YDHT,pTable,pKey,uid)
endfunction
function YDWESaveUnitIDByString takes string pTable,string pKey,integer uid returns nothing
call SaveInteger(YDHT,StringHash(pTable),StringHash(pKey),uid)
endfunction
function YDWEGetUnitIDByInteger takes integer pTable,integer pKey returns integer
return LoadInteger(YDHT,pTable,pKey)
endfunction
function YDWEGetUnitIDByString takes string pTable,string pKey returns integer
return LoadInteger(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveAbilityIDByInteger takes integer pTable,integer pKey,integer abid returns nothing
call SaveInteger(YDHT,pTable,pKey,abid)
endfunction
function YDWESaveAbilityIDByString takes string pTable,string pKey,integer abid returns nothing
call SaveInteger(YDHT,StringHash(pTable),StringHash(pKey),abid)
endfunction
function YDWEGetAbilityIDByInteger takes integer pTable,integer pKey returns integer
return LoadInteger(YDHT,pTable,pKey)
endfunction
function YDWEGetAbilityIDByString takes string pTable,string pKey returns integer
return LoadInteger(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESavePlayerByInteger takes integer pTable,integer pKey,player p returns nothing
call SavePlayerHandle(YDHT,pTable,pKey,p)
endfunction
function YDWESavePlayerByString takes string pTable,string pKey,player p returns nothing
call SavePlayerHandle(YDHT,StringHash(pTable),StringHash(pKey),p)
endfunction
function YDWEGetPlayerByInteger takes integer pTable,integer pKey returns player
return LoadPlayerHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetPlayerByString takes string pTable,string pKey returns player
return LoadPlayerHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveItemByInteger takes integer pTable,integer pKey,item it returns nothing
call SaveItemHandle(YDHT,pTable,pKey,it)
endfunction
function YDWESaveItemByString takes string pTable,string pKey,item it returns nothing
call SaveItemHandle(YDHT,StringHash(pTable),StringHash(pKey),it)
endfunction
function YDWEGetItemByInteger takes integer pTable,integer pKey returns item
return LoadItemHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetItemByString takes string pTable,string pKey returns item
return LoadItemHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveItemIDByInteger takes integer pTable,integer pKey,integer itid returns nothing
call SaveInteger(YDHT,pTable,pKey,itid)
endfunction
function YDWESaveItemIDByString takes string pTable,string pKey,integer itid returns nothing
call SaveInteger(YDHT,StringHash(pTable),StringHash(pKey),itid)
endfunction
function YDWEGetItemIDByInteger takes integer pTable,integer pKey returns integer
return LoadInteger(YDHT,pTable,pKey)
endfunction
function YDWEGetItemIDByString takes string pTable,string pKey returns integer
return LoadInteger(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTimerByInteger takes integer pTable,integer pKey,timer t returns nothing
call SaveTimerHandle(YDHT,pTable,pKey,t)
endfunction
function YDWESaveTimerByString takes string pTable,string pKey,timer t returns nothing
call SaveTimerHandle(YDHT,StringHash(pTable),StringHash(pKey),t)
endfunction
function YDWEGetTimerByInteger takes integer pTable,integer pKey returns timer
return LoadTimerHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTimerByString takes string pTable,string pKey returns timer
return LoadTimerHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTriggerByInteger takes integer pTable,integer pKey,trigger trg returns nothing
call SaveTriggerHandle(YDHT,pTable,pKey,trg)
endfunction
function YDWESaveTriggerByString takes string pTable,string pKey,trigger trg returns nothing
call SaveTriggerHandle(YDHT,StringHash(pTable),StringHash(pKey),trg)
endfunction
function YDWEGetTriggerByInteger takes integer pTable,integer pKey returns trigger
return LoadTriggerHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTriggerByString takes string pTable,string pKey returns trigger
return LoadTriggerHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveLocationByInteger takes integer pTable,integer pKey,location pt returns nothing
call SaveLocationHandle(YDHT,pTable,pKey,pt)
endfunction
function YDWESaveLocationByString takes string pTable,string pKey,location pt returns nothing
call SaveLocationHandle(YDHT,StringHash(pTable),StringHash(pKey),pt)
endfunction
function YDWEGetLocationByInteger takes integer pTable,integer pKey returns location
return LoadLocationHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetLocationByString takes string pTable,string pKey returns location
return LoadLocationHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveGroupByInteger takes integer pTable,integer pKey,group g returns nothing
call SaveGroupHandle(YDHT,pTable,pKey,g)
endfunction
function YDWESaveGroupByString takes string pTable,string pKey,group g returns nothing
call SaveGroupHandle(YDHT,StringHash(pTable),StringHash(pKey),g)
endfunction
function YDWEGetGroupByInteger takes integer pTable,integer pKey returns group
return LoadGroupHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetGroupByString takes string pTable,string pKey returns group
return LoadGroupHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveMultiboardByInteger takes integer pTable,integer pKey,multiboard m returns nothing
call SaveMultiboardHandle(YDHT,pTable,pKey,m)
endfunction
function YDWESaveMultiboardByString takes string pTable,string pKey,multiboard m returns nothing
call SaveMultiboardHandle(YDHT,StringHash(pTable),StringHash(pKey),m)
endfunction
function YDWEGetMultiboardByInteger takes integer pTable,integer pKey returns multiboard
return LoadMultiboardHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetMultiboardByString takes string pTable,string pKey returns multiboard
return LoadMultiboardHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveMultiboardItemByInteger takes integer pTable,integer pKey,multiboarditem mt returns nothing
call SaveMultiboardItemHandle(YDHT,pTable,pKey,mt)
endfunction
function YDWESaveMultiboardItemByString takes string pTable,string pKey,multiboarditem mt returns nothing
call SaveMultiboardItemHandle(YDHT,StringHash(pTable),StringHash(pKey),mt)
endfunction
function YDWEGetMultiboardItemByInteger takes integer pTable,integer pKey returns multiboarditem
return LoadMultiboardItemHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetMultiboardItemByString takes string pTable,string pKey returns multiboarditem
return LoadMultiboardItemHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTextTagByInteger takes integer pTable,integer pKey,texttag tt returns nothing
call SaveTextTagHandle(YDHT,pTable,pKey,tt)
endfunction
function YDWESaveTextTagByString takes string pTable,string pKey,texttag tt returns nothing
call SaveTextTagHandle(YDHT,StringHash(pTable),StringHash(pKey),tt)
endfunction
function YDWEGetTextTagByInteger takes integer pTable,integer pKey returns texttag
return LoadTextTagHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTextTagByString takes string pTable,string pKey returns texttag
return LoadTextTagHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveLightningByInteger takes integer pTable,integer pKey,lightning ln returns nothing
call SaveLightningHandle(YDHT,pTable,pKey,ln)
endfunction
function YDWESaveLightningByString takes string pTable,string pKey,lightning ln returns nothing
call SaveLightningHandle(YDHT,StringHash(pTable),StringHash(pKey),ln)
endfunction
function YDWEGetLightningByInteger takes integer pTable,integer pKey returns lightning
return LoadLightningHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetLightningByString takes string pTable,string pKey returns lightning
return LoadLightningHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveRegionByInteger takes integer pTable,integer pKey,region rn returns nothing
call SaveRegionHandle(YDHT,pTable,pKey,rn)
endfunction
function YDWESaveRegionByString takes string pTable,string pKey,region rt returns nothing
call SaveRegionHandle(YDHT,StringHash(pTable),StringHash(pKey),rt)
endfunction
function YDWEGetRegionByInteger takes integer pTable,integer pKey returns region
return LoadRegionHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetRegionByString takes string pTable,string pKey returns region
return LoadRegionHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveRectByInteger takes integer pTable,integer pKey,rect rn returns nothing
call SaveRectHandle(YDHT,pTable,pKey,rn)
endfunction
function YDWESaveRectByString takes string pTable,string pKey,rect rt returns nothing
call SaveRectHandle(YDHT,StringHash(pTable),StringHash(pKey),rt)
endfunction
function YDWEGetRectByInteger takes integer pTable,integer pKey returns rect
return LoadRectHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetRectByString takes string pTable,string pKey returns rect
return LoadRectHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveLeaderboardByInteger takes integer pTable,integer pKey,leaderboard lb returns nothing
call SaveLeaderboardHandle(YDHT,pTable,pKey,lb)
endfunction
function YDWESaveLeaderboardByString takes string pTable,string pKey,leaderboard lb returns nothing
call SaveLeaderboardHandle(YDHT,StringHash(pTable),StringHash(pKey),lb)
endfunction
function YDWEGetLeaderboardByInteger takes integer pTable,integer pKey returns leaderboard
return LoadLeaderboardHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetLeaderboardByString takes string pTable,string pKey returns leaderboard
return LoadLeaderboardHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveEffectByInteger takes integer pTable,integer pKey,effect e returns nothing
call SaveEffectHandle(YDHT,pTable,pKey,e)
endfunction
function YDWESaveEffectByString takes string pTable,string pKey,effect e returns nothing
call SaveEffectHandle(YDHT,StringHash(pTable),StringHash(pKey),e)
endfunction
function YDWEGetEffectByInteger takes integer pTable,integer pKey returns effect
return LoadEffectHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetEffectByString takes string pTable,string pKey returns effect
return LoadEffectHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveDestructableByInteger takes integer pTable,integer pKey,destructable da returns nothing
call SaveDestructableHandle(YDHT,pTable,pKey,da)
endfunction
function YDWESaveDestructableByString takes string pTable,string pKey,destructable da returns nothing
call SaveDestructableHandle(YDHT,StringHash(pTable),StringHash(pKey),da)
endfunction
function YDWEGetDestructableByInteger takes integer pTable,integer pKey returns destructable
return LoadDestructableHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetDestructableByString takes string pTable,string pKey returns destructable
return LoadDestructableHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTriggerConditionByInteger takes integer pTable,integer pKey,triggercondition tc returns nothing
call SaveTriggerConditionHandle(YDHT,pTable,pKey,tc)
endfunction
function YDWESaveTriggerConditionByString takes string pTable,string pKey,triggercondition tc returns nothing
call SaveTriggerConditionHandle(YDHT,StringHash(pTable),StringHash(pKey),tc)
endfunction
function YDWEGetTriggerConditionByInteger takes integer pTable,integer pKey returns triggercondition
return LoadTriggerConditionHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTriggerConditionByString takes string pTable,string pKey returns triggercondition
return LoadTriggerConditionHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTriggerActionByInteger takes integer pTable,integer pKey,triggeraction ta returns nothing
call SaveTriggerActionHandle(YDHT,pTable,pKey,ta)
endfunction
function YDWESaveTriggerActionByString takes string pTable,string pKey,triggeraction ta returns nothing
call SaveTriggerActionHandle(YDHT,StringHash(pTable),StringHash(pKey),ta)
endfunction
function YDWEGetTriggerActionByInteger takes integer pTable,integer pKey returns triggeraction
return LoadTriggerActionHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTriggerActionByString takes string pTable,string pKey returns triggeraction
return LoadTriggerActionHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTriggerEventByInteger takes integer pTable,integer pKey,event et returns nothing
call SaveTriggerEventHandle(YDHT,pTable,pKey,et)
endfunction
function YDWESaveTriggerEventByString takes string pTable,string pKey,event et returns nothing
call SaveTriggerEventHandle(YDHT,StringHash(pTable),StringHash(pKey),et)
endfunction
function YDWEGetTriggerEventByInteger takes integer pTable,integer pKey returns event
return LoadTriggerEventHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTriggerEventByString takes string pTable,string pKey returns event
return LoadTriggerEventHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveForceByInteger takes integer pTable,integer pKey,force fc returns nothing
call SaveForceHandle(YDHT,pTable,pKey,fc)
endfunction
function YDWESaveForceByString takes string pTable,string pKey,force fc returns nothing
call SaveForceHandle(YDHT,StringHash(pTable),StringHash(pKey),fc)
endfunction
function YDWEGetForceByInteger takes integer pTable,integer pKey returns force
return LoadForceHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetForceByString takes string pTable,string pKey returns force
return LoadForceHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveBoolexprByInteger takes integer pTable,integer pKey,boolexpr be returns nothing
call SaveBooleanExprHandle(YDHT,pTable,pKey,be)
endfunction
function YDWESaveBoolexprByString takes string pTable,string pKey,boolexpr be returns nothing
call SaveBooleanExprHandle(YDHT,StringHash(pTable),StringHash(pKey),be)
endfunction
function YDWEGetBoolexprByInteger takes integer pTable,integer pKey returns boolexpr
return LoadBooleanExprHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetBoolexprByString takes string pTable,string pKey returns boolexpr
return LoadBooleanExprHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveSoundByInteger takes integer pTable,integer pKey,sound sd returns nothing
call SaveSoundHandle(YDHT,pTable,pKey,sd)
endfunction
function YDWESaveSoundByString takes string pTable,string pKey,sound sd returns nothing
call SaveSoundHandle(YDHT,StringHash(pTable),StringHash(pKey),sd)
endfunction
function YDWEGetSoundByInteger takes integer pTable,integer pKey returns sound
return LoadSoundHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetSoundByString takes string pTable,string pKey returns sound
return LoadSoundHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTimerDialogByInteger takes integer pTable,integer pKey,timerdialog td returns nothing
call SaveTimerDialogHandle(YDHT,pTable,pKey,td)
endfunction
function YDWESaveTimerDialogByString takes string pTable,string pKey,timerdialog td returns nothing
call SaveTimerDialogHandle(YDHT,StringHash(pTable),StringHash(pKey),td)
endfunction
function YDWEGetTimerDialogByInteger takes integer pTable,integer pKey returns timerdialog
return LoadTimerDialogHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTimerDialogByString takes string pTable,string pKey returns timerdialog
return LoadTimerDialogHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTrackableByInteger takes integer pTable,integer pKey,trackable ta returns nothing
call SaveTrackableHandle(YDHT,pTable,pKey,ta)
endfunction
function YDWESaveTrackableByString takes string pTable,string pKey,trackable ta returns nothing
call SaveTrackableHandle(YDHT,StringHash(pTable),StringHash(pKey),ta)
endfunction
function YDWEGetTrackableByInteger takes integer pTable,integer pKey returns trackable
return LoadTrackableHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTrackableByString takes string pTable,string pKey returns trackable
return LoadTrackableHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveDialogByInteger takes integer pTable,integer pKey,dialog d returns nothing
call SaveDialogHandle(YDHT,pTable,pKey,d)
endfunction
function YDWESaveDialogByString takes string pTable,string pKey,dialog d returns nothing
call SaveDialogHandle(YDHT,StringHash(pTable),StringHash(pKey),d)
endfunction
function YDWEGetDialogByInteger takes integer pTable,integer pKey returns dialog
return LoadDialogHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetDialogByString takes string pTable,string pKey returns dialog
return LoadDialogHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveButtonByInteger takes integer pTable,integer pKey,button bt returns nothing
call SaveButtonHandle(YDHT,pTable,pKey,bt)
endfunction
function YDWESaveButtonByString takes string pTable,string pKey,button bt returns nothing
call SaveButtonHandle(YDHT,StringHash(pTable),StringHash(pKey),bt)
endfunction
function YDWEGetButtonByInteger takes integer pTable,integer pKey returns button
return LoadButtonHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetButtonByString takes string pTable,string pKey returns button
return LoadButtonHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveQuestByInteger takes integer pTable,integer pKey,quest qt returns nothing
call SaveQuestHandle(YDHT,pTable,pKey,qt)
endfunction
function YDWESaveQuestByString takes string pTable,string pKey,quest qt returns nothing
call SaveQuestHandle(YDHT,StringHash(pTable),StringHash(pKey),qt)
endfunction
function YDWEGetQuestByInteger takes integer pTable,integer pKey returns quest
return LoadQuestHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetQuestByString takes string pTable,string pKey returns quest
return LoadQuestHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveQuestItemByInteger takes integer pTable,integer pKey,questitem qi returns nothing
call SaveQuestItemHandle(YDHT,pTable,pKey,qi)
endfunction
function YDWESaveQuestItemByString takes string pTable,string pKey,questitem qi returns nothing
call SaveQuestItemHandle(YDHT,StringHash(pTable),StringHash(pKey),qi)
endfunction
function YDWEGetQuestItemByInteger takes integer pTable,integer pKey returns questitem
return LoadQuestItemHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetQuestItemByString takes string pTable,string pKey returns questitem
return LoadQuestItemHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWES2I takes string s returns integer
return StringHash(s)
endfunction
function YDWESaveAbilityHandleBJ takes integer AbilityID,integer key,integer missionKey,hashtable table returns nothing
call SaveInteger(table,missionKey,key,AbilityID)
endfunction
function YDWESaveAbilityHandle takes hashtable table,integer parentKey,integer childKey,integer AbilityID returns nothing
call SaveInteger(table,parentKey,childKey,AbilityID)
endfunction
function YDWELoadAbilityHandleBJ takes integer key,integer missionKey,hashtable table returns integer
return LoadInteger(table,missionKey,key)
endfunction
function YDWELoadAbilityHandle takes hashtable table,integer parentKey,integer childKey returns integer
return LoadInteger(table,parentKey,childKey)
endfunction
function YDWECoordinateX takes real x returns real
return RMinBJ(RMaxBJ(x,yd_MapMinX),yd_MapMaxX)
endfunction
function YDWECoordinateY takes real y returns real
return RMinBJ(RMaxBJ(y,yd_MapMinY),yd_MapMaxY)
endfunction
function YDWEDistanceBetweenUnits takes unit a,unit b returns real
return SquareRoot((GetUnitX(a)-GetUnitX(b))*(GetUnitX(a)-GetUnitX(b))+(GetUnitY(a)-GetUnitY(b))*(GetUnitY(a)-GetUnitY(b)))
endfunction
function YDWEAngleBetweenUnits takes unit fromUnit,unit toUnit returns real
return bj_RADTODEG*Atan2(GetUnitY(toUnit)-GetUnitY(fromUnit),GetUnitX(toUnit)-GetUnitX(fromUnit))
endfunction
function YDWEGetRect takes real x,real y,real width,real height returns rect
return Rect(x-width*.5,y-height*.5,x+width*.5,y+height*.5)
endfunction
function YDWEFlyEnable takes unit u returns nothing
call UnitAddAbility(u,'Amrf')
call UnitRemoveAbility(u,'Amrf')
endfunction
function YDWEId2S takes integer value returns string
local string charMap=bj_AllString
local string result=""
local integer remainingValue=value
local integer charValue
local integer byteno
set byteno=0
loop
set charValue=ModuloInteger(remainingValue,256)
set remainingValue=remainingValue/256
set result=SubString(charMap,charValue,charValue+1)+result
set byteno=byteno+1
exitwhen byteno==4
endloop
return result
endfunction
function YDWES2Id takes string targetstr returns integer
local string originstr=bj_AllString
local integer strlength=StringLength(targetstr)
local integer a=0
local integer b=0
local integer numx=1
local integer result=0
loop
exitwhen b>strlength-1
set numx=R2I(Pow(256,strlength-1-b))
set a=1
loop
exitwhen a>255
if SubString(targetstr,b,b+1)==SubString(originstr,a,a+1)then
set result=result+a*numx
set a=256
endif
set a=a+1
endloop
set b=b+1
endloop
return result
endfunction
function YDWES2UnitId takes string targetstr returns integer
return YDWES2Id(targetstr)
endfunction
function YDWES2ItemId takes string targetstr returns integer
return YDWES2Id(targetstr)
endfunction
function GetLastAbilityCastingUnit takes nothing returns unit
return bj_lastAbilityCastingUnit
endfunction
function GetLastAbilityTargetUnit takes nothing returns unit
return bj_lastAbilityTargetUnit
endfunction
function YDWESetMapLimitCoordinate takes real MinX,real MaxX,real MinY,real MaxY returns nothing
set yd_MapMaxX=MaxX
set yd_MapMinX=MinX
set yd_MapMaxY=MaxY
set yd_MapMinY=MinY
endfunction
function YDWESyStemAbilityCastingOverTriggerAction takes unit hero,integer index returns nothing
local integer i=0
loop
exitwhen i>=YDWEBase___AbilityCastingOverEventNumber
if YDWEBase___AbilityCastingOverEventType[i]==index then
set bj_lastAbilityCastingUnit=hero
if YDWEBase___AbilityCastingOverEventQueue[i]!=null and TriggerEvaluate(YDWEBase___AbilityCastingOverEventQueue[i])and IsTriggerEnabled(YDWEBase___AbilityCastingOverEventQueue[i])then
call TriggerExecute(YDWEBase___AbilityCastingOverEventQueue[i])
endif
endif
set i=i+1
endloop
endfunction
function YDWESyStemAbilityCastingOverRegistTrigger takes trigger trg,integer index returns nothing
set YDWEBase___AbilityCastingOverEventQueue[YDWEBase___AbilityCastingOverEventNumber]=trg
set YDWEBase___AbilityCastingOverEventType[YDWEBase___AbilityCastingOverEventNumber]=index
set YDWEBase___AbilityCastingOverEventNumber=YDWEBase___AbilityCastingOverEventNumber+1
endfunction
function YDWECreateUnitPool takes nothing returns nothing
set bj_lastCreatedUnitPool=CreateUnitPool()
endfunction
function YDWEPlaceRandomUnit takes unitpool up,player p,real x,real y,real face returns nothing
set bj_lastPoolAbstractedUnit=PlaceRandomUnit(up,p,x,y,face)
endfunction
function YDWEGetLastUnitPool takes nothing returns unitpool
return bj_lastCreatedUnitPool
endfunction
function YDWEGetLastPoolAbstractedUnit takes nothing returns unit
return bj_lastPoolAbstractedUnit
endfunction
function YDWECreateItemPool takes nothing returns nothing
set bj_lastCreatedItemPool=CreateItemPool()
endfunction
function YDWEPlaceRandomItem takes itempool ip,real x,real y returns nothing
set bj_lastPoolAbstractedItem=PlaceRandomItem(ip,x,y)
endfunction
function YDWEGetLastItemPool takes nothing returns itempool
return bj_lastCreatedItemPool
endfunction
function YDWEGetLastPoolAbstractedItem takes nothing returns item
return bj_lastPoolAbstractedItem
endfunction
function YDWESetAttackDamageWeaponType takes attacktype at,damagetype dt,weapontype wt returns nothing
set bj_lastSetAttackType=at
set bj_lastSetDamageType=dt
set bj_lastSetWeaponType=wt
endfunction
function YDWEGetPlayerColorString takes player p,string s returns string
return YDWEBase___yd_PlayerColor[GetHandleId(GetPlayerColor(p))]+s+"|r"
endfunction
function YDWEGetUnitItemSoftId takes unit hero,item it returns integer
local integer i=0
loop
exitwhen i>5
if UnitItemInSlot(hero,i)==it then
return i+1
endif
set i=i+1
endloop
return 0
endfunction
function YDWEVersion_Display takes nothing returns boolean
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,30,"|cFF1E90FF当前编辑器版本为： |r|cFF00FF00YDWE 1.27.5.859")
return false
endfunction
function YDWEVersion_Init takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
loop
exitwhen i==12
call TriggerRegisterPlayerChatEvent(t,Player(i),"YDWE Version",true)
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function YDWEVersion_Display))
set t=null
endfunction
function InitializeYD takes nothing returns nothing
set yd_MapMinX=GetCameraBoundMinX()-GetCameraMargin(CAMERA_MARGIN_LEFT)
set yd_MapMinY=GetCameraBoundMinY()-GetCameraMargin(CAMERA_MARGIN_BOTTOM)
set yd_MapMaxX=GetCameraBoundMaxX()+GetCameraMargin(CAMERA_MARGIN_RIGHT)
set yd_MapMaxY=GetCameraBoundMaxY()+GetCameraMargin(CAMERA_MARGIN_TOP)
set YDWEBase___yd_PlayerColor[0]="|cFFFF0303"
set YDWEBase___yd_PlayerColor[1]="|cFF0042FF"
set YDWEBase___yd_PlayerColor[2]="|cFF1CE6B9"
set YDWEBase___yd_PlayerColor[3]="|cFF540081"
set YDWEBase___yd_PlayerColor[4]="|cFFFFFC01"
set YDWEBase___yd_PlayerColor[5]="|cFFFE8A0E"
set YDWEBase___yd_PlayerColor[6]="|cFF20C000"
set YDWEBase___yd_PlayerColor[7]="|cFFE55BB0"
set YDWEBase___yd_PlayerColor[8]="|cFF959697"
set YDWEBase___yd_PlayerColor[9]="|cFF7EBFF1"
set YDWEBase___yd_PlayerColor[10]="|cFF106246"
set YDWEBase___yd_PlayerColor[11]="|cFF4E2A04"
set YDWEBase___yd_PlayerColor[12]="|cFF282828"
set YDWEBase___yd_PlayerColor[13]="|cFF282828"
set YDWEBase___yd_PlayerColor[14]="|cFF282828"
set YDWEBase___yd_PlayerColor[15]="|cFF282828"
call YDWEVersion_Init()
endfunction
function YDWEIsEventPhysicalDamage takes nothing returns boolean
return 0!=EXGetEventDamageData(YDWEEventDamageData___EVENT_DAMAGE_DATA_IS_PHYSICAL)
endfunction
function YDWEIsEventAttackDamage takes nothing returns boolean
return 0!=EXGetEventDamageData(YDWEEventDamageData___EVENT_DAMAGE_DATA_IS_ATTACK)
endfunction
function YDWEIsEventRangedDamage takes nothing returns boolean
return 0!=EXGetEventDamageData(YDWEEventDamageData___EVENT_DAMAGE_DATA_IS_RANGED)
endfunction
function YDWEIsEventDamageType takes damagetype damageType returns boolean
return damageType==ConvertDamageType(EXGetEventDamageData(YDWEEventDamageData___EVENT_DAMAGE_DATA_DAMAGE_TYPE))
endfunction
function YDWEIsEventWeaponType takes weapontype weaponType returns boolean
return weaponType==ConvertWeaponType(EXGetEventDamageData(YDWEEventDamageData___EVENT_DAMAGE_DATA_WEAPON_TYPE))
endfunction
function YDWEIsEventAttackType takes attacktype attackType returns boolean
return attackType==ConvertAttackType(EXGetEventDamageData(YDWEEventDamageData___EVENT_DAMAGE_DATA_ATTACK_TYPE))
endfunction
function YDWESetEventDamage takes real amount returns boolean
return EXSetEventDamage(amount)
endfunction
function YDWEGeneralBounsSystem___DisplayAllAbilityId takes nothing returns nothing
local integer aid=0
set aid='YDl0'
set aid='YDl1'
set aid='YDl2'
set aid='YDl3'
set aid='YDl4'
set aid='YDl5'
set aid='YDl6'
set aid='YDl7'
set aid='YDl8'
set aid='YDl9'
set aid='YDla'
set aid='YDlb'
set aid='YDlc'
set aid='YDld'
set aid='YDle'
set aid='YDlf'
set aid='YDm0'
set aid='YDm1'
set aid='YDm2'
set aid='YDm3'
set aid='YDm4'
set aid='YDm5'
set aid='YDm6'
set aid='YDm7'
set aid='YDm8'
set aid='YDm9'
set aid='YDma'
set aid='YDmb'
set aid='YDmc'
set aid='YDmd'
set aid='YDme'
set aid='YDmf'
set aid='YDc0'
set aid='YDc1'
set aid='YDc2'
set aid='YDc3'
set aid='YDc4'
set aid='YDc5'
set aid='YDc6'
set aid='YDc7'
set aid='YDc8'
set aid='YDc9'
set aid='YDca'
set aid='YDcb'
set aid='YDcc'
set aid='YDb0'
set aid='YDb1'
set aid='YDb2'
set aid='YDb3'
set aid='YDb4'
set aid='YDb5'
set aid='YDb6'
set aid='YDb7'
set aid='YDb8'
set aid='YDb9'
set aid='YDba'
set aid='YDbb'
set aid='YDbc'
set aid='YDbd'
set aid='YDbe'
set aid='YDbg'
set aid='YDbh'
set aid='YDbi'
set aid='YDbj'
set aid='YDbk'
set aid='YDbl'
set aid='YDbm'
set aid='YDbn'
endfunction
function YDWEGeneralBounsSystem___UnitClearBonus takes unit u,integer bonusType returns nothing
local integer i=YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType+1]-1
loop
exitwhen i<YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType]
call UnitRemoveAbility(u,YDWEGeneralBounsSystem___BonusAbilitys[i])
set i=i-1
endloop
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((u)))))),StringHash(("bonusType"+I2S(bonusType))),(0))
endfunction
function YDWEGeneralBounsSystem___SetUnitMaxState takes unit u,integer bonusType,real value returns boolean
local integer v=R2I(value)
local integer s=0
local integer o=0
local unitstate state
local integer i=YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType+1]-2
local integer a=YDWEGeneralBounsSystem___ABILITY_NUM[bonusType]
if value>65535 or value<=0 then
return false
endif
if bonusType==0 then
set state=UNIT_STATE_MAX_LIFE
elseif bonusType==1 then
set state=UNIT_STATE_MAX_MANA
else
return false
endif
set v=v-R2I(GetUnitState(u,state))
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((u)))))),StringHash(("bonusType"+I2S(bonusType))),(v))
if v>0 then
set o=3
elseif v<0 then
set o=2
set v=-v
else
return false
endif
loop
exitwhen i<YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType]
if v>=YDWEGeneralBounsSystem___PowersOf2[i]then
call UnitAddAbility(u,YDWEGeneralBounsSystem___BonusAbilitys[i])
call SetUnitAbilityLevel(u,YDWEGeneralBounsSystem___BonusAbilitys[i],o)
call UnitRemoveAbility(u,YDWEGeneralBounsSystem___BonusAbilitys[i])
set v=v-YDWEGeneralBounsSystem___PowersOf2[i]
endif
set i=i-1
endloop
return true
endfunction
function YDWEGeneralBounsSystem___UnitSetBonus takes unit u,integer bonusType,integer ammount returns boolean
local integer i
if ammount==0 then
call YDWEGeneralBounsSystem___UnitClearBonus(u,bonusType)
return false
endif
if ammount<YDWEGeneralBounsSystem___MinBonus[bonusType]or ammount>YDWEGeneralBounsSystem___MaxBonus[bonusType]then
return false
elseif bonusType<0 or bonusType>=YDWEGeneralBounsSystem___BONUS_TYPES then
return false
endif
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((u)))))),StringHash(("bonusType"+I2S(bonusType))),(ammount))
if ammount<0 then
set ammount=YDWEGeneralBounsSystem___MaxBonus[bonusType]+ammount+1
call UnitAddAbility(u,YDWEGeneralBounsSystem___BonusAbilitys[YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType+1]-1])
call UnitMakeAbilityPermanent(u,true,YDWEGeneralBounsSystem___BonusAbilitys[YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType+1]-1])
else
call UnitRemoveAbility(u,YDWEGeneralBounsSystem___BonusAbilitys[YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType+1]-1])
endif
set i=YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType+1]-2
loop
exitwhen i<YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType]
if ammount>=YDWEGeneralBounsSystem___PowersOf2[i]then
call UnitAddAbility(u,YDWEGeneralBounsSystem___BonusAbilitys[i])
call UnitMakeAbilityPermanent(u,true,YDWEGeneralBounsSystem___BonusAbilitys[i])
set ammount=ammount-YDWEGeneralBounsSystem___PowersOf2[i]
else
call UnitRemoveAbility(u,YDWEGeneralBounsSystem___BonusAbilitys[i])
endif
set i=i-1
endloop
return true
endfunction
function YDWEGeneralBounsSystem___UnitGetBonus takes unit u,integer bonusType returns integer
return(LoadInteger(YDHT,StringHash((I2S((GetHandleId((u)))))),StringHash(("bonusType"+I2S(bonusType)))))
endfunction
function YDWEGeneralBounsSystem___AddUnitMaxState takes unit u,integer bonusType,real value returns boolean
local unitstate state
if bonusType==0 then
set state=UNIT_STATE_MAX_LIFE
elseif bonusType==1 then
set state=UNIT_STATE_MAX_MANA
else
return false
endif
return YDWEGeneralBounsSystem___SetUnitMaxState(u,bonusType,value+GetUnitState(u,state))
endfunction
function YDWEGeneralBounsSystem___UnitAddBonus takes unit u,integer bonusType,integer ammount returns boolean
return YDWEGeneralBounsSystem___UnitSetBonus(u,bonusType,(LoadInteger(YDHT,StringHash((I2S((GetHandleId(((u))))))),StringHash(("bonusType"+I2S((bonusType))))))+ammount)
endfunction
function YDWEUnitSetBonus takes unit u,integer bonusType,integer ammount returns nothing
if bonusType==0 or bonusType==1 then
call YDWEGeneralBounsSystem___SetUnitMaxState(u,bonusType,ammount)
else
call YDWEGeneralBounsSystem___UnitSetBonus(u,bonusType,ammount)
endif
endfunction
function YDWEUnitAddBonus takes unit u,integer bonusType,integer ammount returns nothing
if bonusType==0 or bonusType==1 then
call YDWEGeneralBounsSystem___AddUnitMaxState(u,bonusType,ammount)
else
call YDWEGeneralBounsSystem___UnitAddBonus(u,bonusType,ammount)
endif
endfunction
function YDWEGeneralBounsSystemUnitSetBonus takes unit u,integer bonusType,integer mod,integer ammount returns nothing
if mod==0 then
call YDWEUnitAddBonus(u,bonusType,ammount)
elseif mod==1 then
call YDWEUnitAddBonus(u,bonusType,0-ammount)
else
call YDWEUnitSetBonus(u,bonusType,ammount)
endif
endfunction
function YDWEGeneralBounsSystemUnitGetBonus takes unit u,integer bonusType returns integer
return(LoadInteger(YDHT,StringHash((I2S((GetHandleId((u)))))),StringHash(("bonusType"+I2S(bonusType)))))
endfunction
function YDWEGeneralBounsSystem___InitializeAbilitys takes nothing returns nothing
local integer i=0
local integer m=0
set YDWEGeneralBounsSystem___ABILITY_COUNT[0]=0
set YDWEGeneralBounsSystem___ABILITY_COUNT[1]=15
set YDWEGeneralBounsSystem___ABILITY_COUNT[2]=30
set YDWEGeneralBounsSystem___ABILITY_COUNT[3]=43
set YDWEGeneralBounsSystem___ABILITY_COUNT[4]=67
set YDWEGeneralBounsSystem___ABILITY_NUM[0]=15
set YDWEGeneralBounsSystem___ABILITY_NUM[1]=15
set YDWEGeneralBounsSystem___ABILITY_NUM[2]=13
set YDWEGeneralBounsSystem___ABILITY_NUM[3]=24
loop
exitwhen i>9
set YDWEGeneralBounsSystem___YDWEBONUS_MyChar[i]='0'+m
set m=m+1
set i=i+1
endloop
set m=0
loop
exitwhen i>26
set YDWEGeneralBounsSystem___YDWEBONUS_MyChar[i]='a'+m
set m=m+1
set i=i+1
endloop
set i=0
set m=0
loop
exitwhen m>(YDWEGeneralBounsSystem___ABILITY_NUM[0]-1)
set YDWEGeneralBounsSystem___BonusAbilitys[i]='YDl0'-'0'+YDWEGeneralBounsSystem___YDWEBONUS_MyChar[m]
set i=i+1
set m=m+1
endloop
set m=0
loop
exitwhen m>(YDWEGeneralBounsSystem___ABILITY_NUM[1]-1)
set YDWEGeneralBounsSystem___BonusAbilitys[i]='YDm0'-'0'+YDWEGeneralBounsSystem___YDWEBONUS_MyChar[m]
set i=i+1
set m=m+1
endloop
set m=0
loop
exitwhen m>(YDWEGeneralBounsSystem___ABILITY_NUM[2]-1)
set YDWEGeneralBounsSystem___BonusAbilitys[i]='YDc0'-'0'+YDWEGeneralBounsSystem___YDWEBONUS_MyChar[m]
set i=i+1
set m=m+1
endloop
set m=0
loop
exitwhen m>(YDWEGeneralBounsSystem___ABILITY_NUM[3]-1)
set YDWEGeneralBounsSystem___BonusAbilitys[i]='YDb0'-'0'+YDWEGeneralBounsSystem___YDWEBONUS_MyChar[m]
set i=i+1
set m=m+1
endloop
endfunction
function YDWEGeneralBounsSystem___Initialize takes nothing returns nothing
local integer i=1
local unit u
local integer n=0
local integer add=0
call YDWEGeneralBounsSystem___InitializeAbilitys()
loop
set i=1
set YDWEGeneralBounsSystem___PowersOf2[add]=1
loop
set YDWEGeneralBounsSystem___PowersOf2[add+1]=YDWEGeneralBounsSystem___PowersOf2[add]*2
set add=add+1
set i=i+1
exitwhen i==YDWEGeneralBounsSystem___ABILITY_NUM[n]
endloop
set YDWEGeneralBounsSystem___MaxBonus[n]=YDWEGeneralBounsSystem___PowersOf2[add]-1
set YDWEGeneralBounsSystem___MinBonus[n]=-YDWEGeneralBounsSystem___PowersOf2[add]
set add=add+1
set n=n+1
exitwhen n>=4
endloop
if YDWEGeneralBounsSystem___PRELOAD_ABILITYS then
set u=CreateUnit(Player(15),YDWEGeneralBounsSystem___PRELOAD_DUMMY_UNIT,0,0,0)
set i=0
loop
exitwhen i==YDWEGeneralBounsSystem___ABILITY_COUNT[5]
call UnitAddAbility(u,YDWEGeneralBounsSystem___BonusAbilitys[i])
set i=i+1
endloop
call RemoveUnit(u)
set u=null
endif
endfunction
function YDWELifeChange takes unit u,integer mod,integer ch,integer id returns nothing
local integer a
local integer b
local integer c
local integer d
local integer aid=id
if mod==1 then
set ch=-ch
elseif mod==2 then
set ch=ch-R2I(GetUnitState(u,UNIT_STATE_MAX_LIFE))
endif
if ch>99999 then
set ch=99999
endif
if ch<-99999 then
set ch=-99999
endif
if ch<0 then
set a=2
set ch=-ch
else
set a=7
endif
set b=0
loop
exitwhen b==5
set c=ch-ch/10*10
set d=0
loop
exitwhen d==c
call UnitAddAbility(u,aid)
call SetUnitAbilityLevel(u,aid,a)
call UnitRemoveAbility(u,aid)
set d=d+1
endloop
set ch=ch/10
set a=a+1
set b=b+1
endloop
endfunction
function YDWEManaChange takes unit u,integer mod,integer ch,integer id returns nothing
local integer a
local integer b
local integer c
local integer d
local integer aid=id
if mod==1 then
set ch=-ch
elseif mod==2 then
set ch=ch-R2I(GetUnitState(u,UNIT_STATE_MAX_MANA))
endif
if ch>99999 then
set ch=99999
endif
if ch<-99999 then
set ch=-99999
endif
if ch<0 then
set a=2
set ch=-ch
else
set a=7
endif
set b=0
loop
exitwhen b==5
set c=ch-ch/10*10
set d=0
loop
exitwhen d==c
call UnitAddAbility(u,aid)
call SetUnitAbilityLevel(u,aid,a)
call UnitRemoveAbility(u,aid)
set d=d+1
endloop
set ch=ch/10
set a=a+1
set b=b+1
endloop
endfunction
function YDWEGetItemOfTypeFromUnitBJNull takes unit whichUnit,integer itemId returns item
local integer index=0
loop
set yd_NullTempItem=UnitItemInSlot(whichUnit,index)
if GetItemTypeId(yd_NullTempItem)==itemId then
return yd_NullTempItem
endif
set index=index+1
exitwhen index>=bj_MAX_INVENTORY
endloop
return null
endfunction
function YDWEGetPlayersMatchingNull takes boolexpr filter returns force
local force f=CreateForce()
call ForceEnumPlayers(f,filter)
call DestroyBoolExpr(filter)
set yd_NullTempForce=f
set f=null
return yd_NullTempForce
endfunction
function YDWEGetUnitsInRangeOfLocMatchingNull takes real radius,location whichLocation,boolexpr filter returns group
local group g=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(g,whichLocation,radius,filter)
call DestroyBoolExpr(filter)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction
function YDWEGetUnitsInRectMatchingNull takes rect r,boolexpr filter returns group
local group g=CreateGroup()
call GroupEnumUnitsInRect(g,r,filter)
call DestroyBoolExpr(filter)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction
function YDWEGetUnitsOfPlayerAndTypeIdNull takes player whichPlayer,integer unitid returns group
local group g=CreateGroup()
set bj_groupEnumTypeId=unitid
call GroupEnumUnitsOfPlayer(g,whichPlayer,filterGetUnitsOfPlayerAndTypeId)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction
function YDWEGetUnitsOfPlayerMatchingNull takes player whichPlayer,boolexpr filter returns group
local group g=CreateGroup()
call GroupEnumUnitsOfPlayer(g,whichPlayer,filter)
call DestroyBoolExpr(filter)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction
function YDWEGetUnitsOfTypeIdAllNull takes integer unitid returns group
local group result=CreateGroup()
local group g=CreateGroup()
local integer index
set index=0
loop
set bj_groupEnumTypeId=unitid
call GroupClear(g)
call GroupEnumUnitsOfPlayer(g,Player(index),filterGetUnitsOfTypeIdAll)
call GroupAddGroup(g,result)
set index=index+1
exitwhen index==bj_MAX_PLAYER_SLOTS
endloop
call DestroyGroup(g)
set g=null
set yd_NullTempGroup=result
set result=null
return yd_NullTempGroup
endfunction
function YDWEPauseAllUnitsBJNull takes boolean pause returns nothing
local integer index
local player indexPlayer
local group g
set bj_pauseAllUnitsFlag=pause
set g=CreateGroup()
set index=0
loop
set indexPlayer=Player(index)
if(GetPlayerController(indexPlayer)==MAP_CONTROL_COMPUTER)then
call PauseCompAI(indexPlayer,pause)
endif
call GroupEnumUnitsOfPlayer(g,indexPlayer,null)
call ForGroup(g,function PauseAllUnitsBJEnum)
call GroupClear(g)
set index=index+1
exitwhen index==bj_MAX_PLAYER_SLOTS
endloop
call DestroyGroup(g)
set g=null
endfunction
function YDWEPlaySoundNull takes string soundName returns nothing
local sound soundHandle=CreateSound(soundName,false,false,true,12700,12700,"")
call StartSound(soundHandle)
call KillSoundWhenDone(soundHandle)
set soundHandle=null
endfunction
function YDWEPolledWaitNull takes real duration returns nothing
local timer t
local real timeRemaining
if(duration>0)then
set t=CreateTimer()
call TimerStart(t,duration,false,null)
loop
set timeRemaining=TimerGetRemaining(t)
exitwhen timeRemaining<=0
if(timeRemaining>bj_POLLED_WAIT_SKIP_THRESHOLD)then
call TriggerSleepAction(.1*timeRemaining)
else
call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
endif
endloop
call DestroyTimer(t)
endif
set t=null
endfunction
function YDWEReplaceUnitBJNull takes unit whichUnit,integer newUnitId,integer unitStateMethod returns unit
local unit oldUnit=whichUnit
local unit newUnit
local boolean wasHidden
local integer index
local item indexItem
local real oldRatio
if(whichUnit==null)then
set bj_lastReplacedUnit=whichUnit
return bj_lastReplacedUnit
endif
set wasHidden=IsUnitHidden(oldUnit)
call ShowUnit(oldUnit,false)
if(newUnitId=='ugol')then
set newUnit=CreateBlightedGoldmine(GetOwningPlayer(oldUnit),GetUnitX(oldUnit),GetUnitY(oldUnit),GetUnitFacing(oldUnit))
else
set newUnit=CreateUnit(GetOwningPlayer(oldUnit),newUnitId,GetUnitX(oldUnit),GetUnitY(oldUnit),GetUnitFacing(oldUnit))
endif
if(unitStateMethod==bj_UNIT_STATE_METHOD_RELATIVE)then
if(GetUnitState(oldUnit,UNIT_STATE_MAX_LIFE)>0)then
set oldRatio=GetUnitState(oldUnit,UNIT_STATE_LIFE)/GetUnitState(oldUnit,UNIT_STATE_MAX_LIFE)
call SetUnitState(newUnit,UNIT_STATE_LIFE,oldRatio*GetUnitState(newUnit,UNIT_STATE_MAX_LIFE))
endif
if(GetUnitState(oldUnit,UNIT_STATE_MAX_MANA)>0)and(GetUnitState(newUnit,UNIT_STATE_MAX_MANA)>0)then
set oldRatio=GetUnitState(oldUnit,UNIT_STATE_MANA)/GetUnitState(oldUnit,UNIT_STATE_MAX_MANA)
call SetUnitState(newUnit,UNIT_STATE_MANA,oldRatio*GetUnitState(newUnit,UNIT_STATE_MAX_MANA))
endif
elseif(unitStateMethod==bj_UNIT_STATE_METHOD_ABSOLUTE)then
call SetUnitState(newUnit,UNIT_STATE_LIFE,GetUnitState(oldUnit,UNIT_STATE_LIFE))
if(GetUnitState(newUnit,UNIT_STATE_MAX_MANA)>0)then
call SetUnitState(newUnit,UNIT_STATE_MANA,GetUnitState(oldUnit,UNIT_STATE_MANA))
endif
elseif(unitStateMethod==bj_UNIT_STATE_METHOD_DEFAULTS)then
elseif(unitStateMethod==bj_UNIT_STATE_METHOD_MAXIMUM)then
call SetUnitState(newUnit,UNIT_STATE_LIFE,GetUnitState(newUnit,UNIT_STATE_MAX_LIFE))
call SetUnitState(newUnit,UNIT_STATE_MANA,GetUnitState(newUnit,UNIT_STATE_MAX_MANA))
else
endif
call SetResourceAmount(newUnit,GetResourceAmount(oldUnit))
if(IsUnitType(oldUnit,UNIT_TYPE_HERO)and IsUnitType(newUnit,UNIT_TYPE_HERO))then
call SetHeroXP(newUnit,GetHeroXP(oldUnit),false)
set index=0
loop
set indexItem=UnitItemInSlot(oldUnit,index)
if(indexItem!=null)then
call UnitRemoveItem(oldUnit,indexItem)
call UnitAddItem(newUnit,indexItem)
endif
set index=index+1
exitwhen index>=bj_MAX_INVENTORY
endloop
endif
if wasHidden then
call KillUnit(oldUnit)
call RemoveUnit(oldUnit)
else
call RemoveUnit(oldUnit)
endif
set bj_lastReplacedUnit=newUnit
set oldUnit=null
set newUnit=null
set indexItem=null
return bj_lastReplacedUnit
endfunction
function YDWESetUnitFacingToFaceLocTimedNull takes unit whichUnit,location target,real duration returns nothing
local location unitLoc=GetUnitLoc(whichUnit)
call SetUnitFacingTimed(whichUnit,AngleBetweenPoints(unitLoc,target),duration)
call RemoveLocation(unitLoc)
set unitLoc=null
endfunction
function YDWEAnyUnitDamagedTriggerAction takes nothing returns nothing
local integer i=0
loop
exitwhen i>=YDWETriggerEvent___DamageEventNumber
if YDWETriggerEvent___DamageEventQueue[i]!=null and IsTriggerEnabled(YDWETriggerEvent___DamageEventQueue[i])and TriggerEvaluate(YDWETriggerEvent___DamageEventQueue[i])then
call TriggerExecute(YDWETriggerEvent___DamageEventQueue[i])
endif
set i=i+1
endloop
endfunction
function YDWEAnyUnitDamagedFilter takes nothing returns boolean
if GetUnitAbilityLevel(GetFilterUnit(),'Aloc')<=0 then
call TriggerRegisterUnitEvent(yd_DamageEventTrigger,GetFilterUnit(),EVENT_UNIT_DAMAGED)
endif
return false
endfunction
function YDWEAnyUnitDamagedEnumUnit takes nothing returns nothing
local trigger t=CreateTrigger()
local region r=CreateRegion()
local group g=CreateGroup()
call RegionAddRect(r,GetWorldBounds())
call TriggerRegisterEnterRegion(t,r,Condition(function YDWEAnyUnitDamagedFilter))
call GroupEnumUnitsInRect(g,GetWorldBounds(),Condition(function YDWEAnyUnitDamagedFilter))
call DestroyGroup(g)
set r=null
set t=null
set g=null
endfunction
function YDWESyStemAnyUnitDamagedRegistTrigger takes trigger trg returns nothing
if trg==null then
return
endif
if YDWETriggerEvent___DamageEventNumber==0 then
set yd_DamageEventTrigger=CreateTrigger()
call TriggerAddAction(yd_DamageEventTrigger,function YDWEAnyUnitDamagedTriggerAction)
call YDWEAnyUnitDamagedEnumUnit()
endif
set YDWETriggerEvent___DamageEventQueue[YDWETriggerEvent___DamageEventNumber]=trg
set YDWETriggerEvent___DamageEventNumber=YDWETriggerEvent___DamageEventNumber+1
endfunction
function YDWESyStemItemUnmovableTriggerAction takes nothing returns nothing
local integer i=0
if GetIssuedOrderId()>=852002 and GetIssuedOrderId()<=852007 then
set bj_lastMovedItemInItemSlot=GetOrderTargetItem()
loop
exitwhen i>=YDWETriggerEvent___MoveItemEventNumber
if YDWETriggerEvent___MoveItemEventQueue[i]!=null and IsTriggerEnabled(YDWETriggerEvent___MoveItemEventQueue[i])and TriggerEvaluate(YDWETriggerEvent___MoveItemEventQueue[i])then
call TriggerExecute(YDWETriggerEvent___MoveItemEventQueue[i])
endif
set i=i+1
endloop
endif
endfunction
function YDWESyStemItemUnmovableRegistTrigger takes trigger trg returns nothing
if trg==null then
return
endif
if YDWETriggerEvent___MoveItemEventNumber==0 then
set YDWETriggerEvent___MoveItemEventTrigger=CreateTrigger()
call TriggerAddAction(YDWETriggerEvent___MoveItemEventTrigger,function YDWESyStemItemUnmovableTriggerAction)
call TriggerRegisterAnyUnitEventBJ(YDWETriggerEvent___MoveItemEventTrigger,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
endif
set YDWETriggerEvent___MoveItemEventQueue[YDWETriggerEvent___MoveItemEventNumber]=trg
set YDWETriggerEvent___MoveItemEventNumber=YDWETriggerEvent___MoveItemEventNumber+1
endfunction
function GetLastMovedItemInItemSlot takes nothing returns item
return bj_lastMovedItemInItemSlot
endfunction
function YDWEUnitHasItemOfTypeBJNull takes unit whichUnit,integer itemId returns boolean
local integer index=0
if itemId!=0 then
loop
if GetItemTypeId(UnitItemInSlot(whichUnit,index))==itemId then
return true
endif
set index=index+1
exitwhen index>=bj_MAX_INVENTORY
endloop
endif
return false
endfunction
function YDWEDisplayChat takes player p,integer chat_recipient,string message returns nothing
call EXDisplayChat(p,chat_recipient,message)
endfunction
function MeatHook___GetUnitZ takes unit u returns real
call MoveLocation(MeatHook___Point,GetUnitX(u),GetUnitY(u))
return(GetUnitFlyHeight(u)+GetLocationZ(MeatHook___Point))
endfunction
function MeatHook___HookAim takes string key,unit pudge,real x,real y,real z returns nothing
local real damage=(LoadReal(YDHT,StringHash((key)),StringHash(("Damage"))))
local group g=CreateGroup()
local unit f=null
call GroupEnumUnitsInRange(g,x,y,120.,null)
loop
set f=FirstOfGroup(g)
exitwhen f==null
if GetWidgetLife(f)>.405 and not(IsUnitType(f,UNIT_TYPE_STRUCTURE))and not(IsUnitInGroup(f,MeatHook___Except))and f!=pudge then
if(GetUnitX(f)-x)*(GetUnitX(f)-x)+(GetUnitY(f)-y)*(GetUnitY(f)-y)+(MeatHook___GetUnitZ(f)-z)*(MeatHook___GetUnitZ(f)-z)<14400 then
set bj_lastAbilityTargetUnit=f
call YDWESyStemAbilityCastingOverTriggerAction(pudge,4)
call SaveInteger(YDHT,StringHash((key)),StringHash(("Switch")),(2))
call SaveUnitHandle(YDHT,StringHash((key)),StringHash(("Target")),(f))
if IsUnitEnemy(f,GetOwningPlayer(pudge))then
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",f,"origin"))
call UnitDamageTarget(pudge,f,damage,true,false,bj_lastSetAttackType,bj_lastSetDamageType,bj_lastSetWeaponType)
endif
call IssueImmediateOrderById(f,851972)
call GroupAddUnit(MeatHook___Except,f)
exitwhen true
endif
endif
call GroupRemoveUnit(g,f)
set f=null
endloop
call DestroyGroup(g)
set g=null
set f=null
endfunction
function MeatHook___Cycle takes nothing returns nothing
local string key=I2S((GetHandleId((GetExpiredTimer()))))
local integer total=(LoadInteger(YDHT,StringHash((key)),StringHash(("ChainLinkNumber"))))
local integer size=(LoadInteger(YDHT,StringHash((key)),StringHash(("ChainLinkNumberMax"))))
local integer utid=(LoadInteger(YDHT,StringHash((key)),StringHash(("ChainLinkId"))))
local integer switch=(LoadInteger(YDHT,StringHash((key)),StringHash(("Switch"))))
local unit pudge=(LoadUnitHandle(YDHT,StringHash((key)),StringHash(("Pudge"))))
local unit target=(LoadUnitHandle(YDHT,StringHash((key)),StringHash(("Target"))))
local real dist=(LoadReal(YDHT,StringHash((key)),StringHash(("Distance"))))
local real l
local real f
local real x
local real y
local real xvel
local real yvel
local unit array part
local integer i=0
loop
exitwhen i==total
set part[i]=(LoadUnitHandle(YDHT,StringHash((key)),StringHash(("ChainLinks"+I2S(i)))))
set i=i+1
endloop
if target==null then
call MeatHook___HookAim(key,pudge,GetUnitX(part[0]),GetUnitY(part[0]),MeatHook___GetUnitZ(part[0]))
else
call SetUnitX(target,GetUnitX(part[0]))
call SetUnitY(target,GetUnitY(part[0]))
if GetLocalPlayer()==GetOwningPlayer(target)then
call SelectUnit(target,false)
endif
endif
if switch==1 then
set x=GetUnitX(part[0])+(LoadReal(YDHT,StringHash((key)),StringHash(("VelocityX"))))
set y=GetUnitY(part[0])+(LoadReal(YDHT,StringHash((key)),StringHash(("VelocityY"))))
call SetUnitX(part[0],x)
call SetUnitY(part[0],y)
if(RMinBJ(RMaxBJ(((x)*1.),yd_MapMinX),yd_MapMaxX))!=x or(RMinBJ(RMaxBJ(((y)*1.),yd_MapMinY),yd_MapMaxY))!=y then
call SaveInteger(YDHT,StringHash((key)),StringHash(("Switch")),(2))
endif
set i=1
loop
exitwhen i==total
set f=Atan2(GetUnitY(part[i-1])-GetUnitY(part[i]),GetUnitX(part[i-1])-GetUnitX(part[i]))
call SetUnitX(part[i],GetUnitX(part[i])+Cos(f)*40.)
call SetUnitY(part[i],GetUnitY(part[i])+Sin(f)*40.)
call SetUnitFacing(part[i],f*bj_RADTODEG)
set i=i+1
endloop
elseif switch==2 then
set l=(50.+40.)*(50.+40.)
set i=total-1
loop
exitwhen i<0
if part[i+1]==null then
set xvel=GetUnitX(part[i])-GetUnitX(pudge)
set yvel=GetUnitY(part[i])-GetUnitY(pudge)
if xvel*xvel+yvel*yvel<=l then
call RemoveUnit(part[i])
set part[i]=null
set total=total-1
call SaveInteger(YDHT,StringHash((key)),StringHash(("ChainLinkNumber")),(total))
endif
else
set xvel=GetUnitX(part[i])-GetUnitX(part[i+1])
set yvel=GetUnitY(part[i])-GetUnitY(part[i+1])
endif
if part[i]!=null then
set f=Atan2(yvel,xvel)
call SetUnitX(part[i],GetUnitX(part[i])-Cos(f)*40.)
call SetUnitY(part[i],GetUnitY(part[i])-Sin(f)*40.)
call SetUnitFacing(part[i],f*bj_RADTODEG)
endif
set i=i-1
endloop
if total<1 then
call SaveInteger(YDHT,StringHash((key)),StringHash(("Switch")),(0))
set switch=0
endif
endif
if switch>0 then
set x=GetUnitX(part[total-1])
set y=GetUnitY(part[total-1])
set xvel=x-GetUnitX(pudge)
set yvel=y-GetUnitY(pudge)
set l=SquareRoot(xvel*xvel+yvel*yvel)
if l>dist+50. then
set f=bj_RADTODEG*Atan2(yvel,xvel)
set xvel=xvel*(dist/l)
set yvel=yvel*(dist/l)
loop
exitwhen l<dist
if total>size then
call SaveInteger(YDHT,StringHash((key)),StringHash(("Switch")),(2))
exitwhen true
endif
set x=x-xvel
set y=y-yvel
set part[total]=CreateUnit(GetOwningPlayer(pudge),utid,x,y,f)
call SaveUnitHandle(YDHT,StringHash((key)),StringHash(("ChainLinks"+I2S(total))),(part[total]))
set total=total+1
set l=l-dist
endloop
call SaveInteger(YDHT,StringHash((key)),StringHash(("ChainLinkNumber")),(total))
endif
if l>50.+40.*2 then
set l=(50.+40.)/dist
set xvel=xvel*l
set yvel=yvel*l
call SetUnitX(part[total-1],GetUnitX(pudge)+xvel)
call SetUnitY(part[total-1],GetUnitY(pudge)+yvel)
call SetUnitFacing(part[total-1],Atan2(yvel,xvel)*bj_RADTODEG)
set i=total-2
loop
exitwhen i<0
set xvel=GetUnitX(part[i])-GetUnitX(part[i+1])
set yvel=GetUnitY(part[i])-GetUnitY(part[i+1])
set l=dist/SquareRoot(xvel*xvel+yvel*yvel)
call SetUnitX(part[i],GetUnitX(part[i+1])+xvel*l)
call SetUnitY(part[i],GetUnitY(part[i+1])+yvel*l)
call SetUnitFacing(part[i],Atan2(yvel,xvel)*bj_RADTODEG)
set i=i-1
endloop
endif
endif
if switch==0 then
call YDWESyStemAbilityCastingOverTriggerAction(pudge,5)
call FlushChildHashtable(YDHT,StringHash((key)))
call GroupRemoveUnit(MeatHook___Except,target)
call PauseTimer(GetExpiredTimer())
call DestroyTimer(GetExpiredTimer())
endif
set i=0
loop
exitwhen i>=total
set part[i]=null
set i=i+1
endloop
set target=null
set pudge=null
set key=""
endfunction
function YDWEMeatHook takes unit pudge,location point,integer headid,integer chainid,real length,real distance,real damage,real timeout returns nothing
local real f=Atan2(GetLocationY(point)-GetUnitY(pudge),GetLocationX(point)-GetUnitX(pudge))
local real x=Cos(f)*50.
local real y=Sin(f)*50.
local unit u=CreateUnit(GetOwningPlayer(pudge),headid,GetUnitX(pudge)+x,GetUnitY(pudge)+y,f*bj_RADTODEG)
local timer t=CreateTimer()
call SaveUnitHandle(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("Pudge")),(pudge))
call SaveUnitHandle(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("ChainLinks"+I2S(0))),(u))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("VelocityX")),((x*(40./50.))*1.))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("VelocityY")),((y*(40./50.))*1.))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("Face")),((f*bj_RADTODEG)*1.))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("Distance")),((distance)*1.))
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("Switch")),(1))
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("ChainLinkId")),(chainid))
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("ChainLinkNumberMax")),(R2I(length/distance)))
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("ChainLinkNumber")),(1))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("Damage")),((damage)*1.))
call TimerStart(t,timeout,true,function MeatHook___Cycle)
set u=null
set t=null
endfunction
function YDWEAdvancedUnitDataSystem___Log takes real x returns real
local real min=-88.
local real max=88.
local real mid
local integer i=20
loop
set mid=(min+max)/2
exitwhen(i<=0)
set i=i-1
if(Pow(bj_E,mid)>=x)then
set max=mid
else
set min=mid
endif
endloop
return mid
endfunction
function YDWEGetUnitGoldCost takes integer unitid returns integer
if IsHeroUnitId(unitid)==true then
return 425
endif
return GetUnitGoldCost(unitid)
endfunction
function YDWEGetUnitWoodCost takes integer unitid returns integer
if IsHeroUnitId(unitid)==true then
return 100
endif
return GetUnitWoodCost(unitid)
endfunction
function YDWEGetUnitBuildTime takes integer unitid returns integer
if IsHeroUnitId(unitid)==true then
return 55
endif
return GetUnitBuildTime(unitid)
endfunction
function YDWEGetUnitCountDone takes integer unitid returns integer
if IsHeroUnitId(unitid)==true then
return 0
endif
return GetUnitCountDone(unitid)
endfunction
function YDWEGetUnitFoodUsed takes unit whichUnit returns integer
if IsUnitType(whichUnit,UNIT_TYPE_HERO)==true then
return 5
endif
return GetUnitFoodUsed(whichUnit)
endfunction
function YDWEGetUnitFoodMade takes unit whichUnit returns integer
if IsUnitType(whichUnit,UNIT_TYPE_HERO)==true then
return 0
endif
return GetUnitFoodMade(whichUnit)
endfunction
function YDWEGetUnitArmor takes unit u,integer aid returns real
local real life=GetWidgetLife(u)
local real test=life
local real redc=.0
local boolean enab=false
local trigger trig=GetTriggeringTrigger()
if u!=null and life>=.405 then
if GetUnitState(u,UNIT_STATE_MAX_LIFE)<=YDWEAdvancedUnitDataSystem___DAMAGE_LIFE then
call UnitAddAbility(u,aid)
endif
if life<=YDWEAdvancedUnitDataSystem___DAMAGE_LIFE then
call SetWidgetLife(u,YDWEAdvancedUnitDataSystem___DAMAGE_LIFE)
set test=YDWEAdvancedUnitDataSystem___DAMAGE_LIFE
endif
if trig!=null and IsTriggerEnabled(trig)then
call DisableTrigger(trig)
set enab=true
endif
call DisableTrigger(yd_DamageEventTrigger)
call UnitDamageTarget(u,u,YDWEAdvancedUnitDataSystem___DAMAGE_TEST,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL,null)
call EnableTrigger(yd_DamageEventTrigger)
set redc=(YDWEAdvancedUnitDataSystem___DAMAGE_TEST-test+GetWidgetLife(u))/YDWEAdvancedUnitDataSystem___DAMAGE_TEST
if enab then
call EnableTrigger(trig)
endif
call UnitRemoveAbility(u,aid)
call SetWidgetLife(u,life)
set trig=null
if redc>=1. then
return YDWEAdvancedUnitDataSystem___ARMOR_INVULNERABLE
elseif redc<.0 then
return-YDWEAdvancedUnitDataSystem___Log(redc+1.)/YDWEAdvancedUnitDataSystem___NATLOG_094
else
return redc/(YDWEAdvancedUnitDataSystem___ARMOR_REDUCTION_MULTIPLIER1*(1.-redc))
endif
endif
set trig=null
return .0
endfunction
function YDWEGetUnitsOfPlayerAllNull takes player whichPlayer returns group
return YDWEGetUnitsOfPlayerMatchingNull(whichPlayer,null)
endfunction
function YDWEJumpTimerLoop takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit hero=((LoadUnitHandle(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("Hero")))))
local real angle=(LoadReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("Angle"))))
local integer steeps=(LoadInteger(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("steeps"))))
local integer steepsMax=(LoadInteger(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("steepsMax"))))
local real heightMax=(LoadReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("heightMax"))))
local real dist=(LoadReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("dist"))))
local real dheig=(LoadReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("dheig"))))
local real OriginHeight=(LoadReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("OriginHeight"))))
local real x=(LoadReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("X"))))
local real y=(LoadReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("Y"))))
local real x1=0
local real y1=0
local real height=0
local integer lvJumpTimer=MoveMoreLevel_JumpTimer
local integer lvUnitMove=(LoadInteger(YDHT,StringHash((I2S((GetHandleId((hero)))))),StringHash(("lvUnitMove"))))
if steeps<steepsMax and lvJumpTimer>=lvUnitMove then
set x1=x+steeps*dist*Cos(angle*3.14159/180.)
set y1=y+steeps*dist*Sin(angle*3.14159/180.)
set x1=(RMinBJ(RMaxBJ(((x1)*1.),yd_MapMinX),yd_MapMaxX))
set y1=(RMinBJ(RMaxBJ(((y1)*1.),yd_MapMinY),yd_MapMaxY))
call SetUnitX(hero,x1)
call SetUnitY(hero,y1)
set steeps=steeps+1
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("steeps")),(steeps))
set height=(-(2*I2R(steeps)*dheig-1)*(2*I2R(steeps)*dheig-1)+1)*heightMax+OriginHeight
call SetUnitFlyHeight(hero,height,99999)
call SetUnitFacing(hero,angle)
else
call SetUnitFlyHeight(hero,OriginHeight,99999)
call SetUnitPathing(hero,true)
call DestroyTimer(t)
call FlushChildHashtable(YDHT,StringHash((I2S((GetHandleId((t)))))))
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((hero)))))),StringHash(("lvUnitMove")),(0))
call YDWESyStemAbilityCastingOverTriggerAction(hero,2)
endif
set t=null
set hero=null
endfunction
function YDWEJumpTimer takes unit hero,real angle,real distance,real lasttime,real timeout,real heightMax returns nothing
local timer t=null
local real x=GetUnitX(hero)
local real y=GetUnitY(hero)
local integer steepsMax=R2I(lasttime/timeout)
local integer steeps=0
local real dist=distance/steepsMax
local real dheig=1./steepsMax
local real OriginHeight=GetUnitFlyHeight(hero)
local integer lvUnitMove=(LoadInteger(YDHT,StringHash((I2S((GetHandleId((hero)))))),StringHash(("lvUnitMove"))))
if MoveMoreLevel_JumpTimer<=lvUnitMove then
return
endif
set t=CreateTimer()
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((hero)))))),StringHash(("lvUnitMove")),(MoveMoreLevel_JumpTimer))
call YDWEFlyEnable(hero)
call SetUnitPathing(hero,false)
call SaveUnitHandle(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("Hero")),(hero))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("OriginHeight")),((OriginHeight)*1.))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("Angle")),((angle)*1.))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("dist")),((dist)*1.))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("heightMax")),((heightMax)*1.))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("dheig")),((dheig)*1.))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("X")),((x)*1.))
call SaveReal(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("Y")),((y)*1.))
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("steeps")),(steeps))
call SaveInteger(YDHT,StringHash((I2S((GetHandleId((t)))))),StringHash(("steepsMax")),(steepsMax))
call TimerStart(t,timeout,true,function YDWEJumpTimerLoop)
set t=null
endfunction
function YDWESetUnitFacingToFaceUnitTimedNull takes unit whichUnit,unit target,real duration returns nothing
local location unitLoc=GetUnitLoc(target)
call YDWESetUnitFacingToFaceLocTimedNull(whichUnit,unitLoc,duration)
call RemoveLocation(unitLoc)
set unitLoc=null
endfunction
function YDWETimerSystem___NewTaskIndex takes nothing returns integer
local integer h=YDWETimerSystem___TaskListIdleHead
if YDWETimerSystem___TaskListIdleHead<0 then
if YDWETimerSystem___TaskListIdleMax>=8000 then
return 8100
else
set YDWETimerSystem___TaskListIdleMax=YDWETimerSystem___TaskListIdleMax+1
return YDWETimerSystem___TaskListIdleMax
endif
endif
set YDWETimerSystem___TaskListIdleHead=YDWETimerSystem___TaskListIdle[h]
return h
endfunction
function YDWETimerSystem___DeleteTaskIndex takes integer index returns nothing
set YDWETimerSystem___TaskListIdle[index]=YDWETimerSystem___TaskListIdleHead
set YDWETimerSystem___TaskListIdleHead=index
endfunction
function YDWETimerSystem___NewTask takes real time,trigger proc returns integer
local integer index=YDWETimerSystem___NewTaskIndex()
local integer h=YDWETimerSystem___TaskListHead
local integer t=R2I(100.*time)+YDWETimerSystem___CurrentTime
local integer p
set YDWETimerSystem___TaskListProc[index]=proc
set YDWETimerSystem___TaskListTime[index]=t
loop
set p=YDWETimerSystem___TaskListNext[h]
if p<0 or YDWETimerSystem___TaskListTime[p]>=t then
set YDWETimerSystem___TaskListNext[h]=index
set YDWETimerSystem___TaskListNext[index]=p
return index
endif
set h=p
endloop
return index
endfunction
function YDWETimerSystemNewTask takes real time,trigger proc returns integer
return YDWETimerSystem___NewTask(time,proc)
endfunction
function YDWETimerSystemGetCurrentTask takes nothing returns integer
return YDWETimerSystem___CurrentIndex
endfunction
function YDWETimerSystem___RemoveUnit_CallBack takes nothing returns nothing
call RemoveUnit(LoadUnitHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRemoveUnit takes real time,unit u returns nothing
call SaveUnitHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___NewTask(time,YDWETimerSystem___fnRemoveUnit),u)
endfunction
function YDWETimerSystem___DestroyTimer_CallBack takes nothing returns nothing
call DestroyTimer(LoadTimerHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyTimer takes real time,timer t returns nothing
call SaveTimerHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___NewTask(time,YDWETimerSystem___fnDestroyTimer),t)
endfunction
function YDWETimerSystem___RemoveItem_CallBack takes nothing returns nothing
call RemoveItem(LoadItemHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRemoveItem takes real time,item it returns nothing
call SaveItemHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___NewTask(time,YDWETimerSystem___fnRemoveItem),it)
endfunction
function YDWETimerSystem___DestroyEffect_CallBack takes nothing returns nothing
call DestroyEffect(LoadEffectHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyEffect takes real time,effect e returns nothing
call SaveEffectHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___NewTask(time,YDWETimerSystem___fnDestroyEffect),e)
endfunction
function YDWETimerSystem___DestroyLightning_CallBack takes nothing returns nothing
call DestroyLightning(LoadLightningHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyLightning takes real time,lightning lt returns nothing
local integer i=YDWETimerSystem___NewTask(time,YDWETimerSystem___fnDestroyLightning)
call SaveLightningHandle(YDHT,YDWETimerSystem___TimerHandle,i,lt)
endfunction
function YDWETimerSystem___RunTrigger_CallBack takes nothing returns nothing
call TriggerExecute(LoadTriggerHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRunTrigger takes real time,trigger trg returns nothing
call SaveTriggerHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___NewTask(time,YDWETimerSystem___fnRunTrigger),trg)
endfunction
function YDWETimerDestroyTextTag takes real time,texttag tt returns nothing
local integer N=0
local integer i=0
if time<=0 then
set time=.01
endif
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,time)
call SetTextTagFadepoint(tt,time)
endfunction
function YDWETimerSystem___Main takes nothing returns nothing
local integer h=YDWETimerSystem___TaskListHead
local integer p
loop
set YDWETimerSystem___CurrentIndex=YDWETimerSystem___TaskListNext[h]
exitwhen YDWETimerSystem___CurrentIndex<0 or YDWETimerSystem___CurrentTime<YDWETimerSystem___TaskListTime[YDWETimerSystem___CurrentIndex]
call TriggerEvaluate(YDWETimerSystem___TaskListProc[YDWETimerSystem___CurrentIndex])
call YDWETimerSystem___DeleteTaskIndex(YDWETimerSystem___CurrentIndex)
set YDWETimerSystem___TaskListNext[h]=YDWETimerSystem___TaskListNext[YDWETimerSystem___CurrentIndex]
endloop
set YDWETimerSystem___CurrentTime=YDWETimerSystem___CurrentTime+1
endfunction
function YDWETimerSystem___Init takes nothing returns nothing
set YDWETimerSystem___Timer=CreateTimer()
set YDWETimerSystem___TimerHandle=GetHandleId(YDWETimerSystem___Timer)
set YDWETimerSystem___CurrentTime=0
set YDWETimerSystem___TaskListHead=0
set YDWETimerSystem___TaskListNext[0]=-1
set YDWETimerSystem___TaskListIdleHead=1
set YDWETimerSystem___TaskListIdleMax=1
set YDWETimerSystem___TaskListIdle[1]=-1
set YDWETimerSystem___fnRemoveUnit=CreateTrigger()
set YDWETimerSystem___fnDestroyTimer=CreateTrigger()
set YDWETimerSystem___fnRemoveItem=CreateTrigger()
set YDWETimerSystem___fnDestroyEffect=CreateTrigger()
set YDWETimerSystem___fnDestroyLightning=CreateTrigger()
set YDWETimerSystem___fnRunTrigger=CreateTrigger()
call TriggerAddCondition(YDWETimerSystem___fnRemoveUnit,Condition(function YDWETimerSystem___RemoveUnit_CallBack))
call TriggerAddCondition(YDWETimerSystem___fnDestroyTimer,Condition(function YDWETimerSystem___DestroyTimer_CallBack))
call TriggerAddCondition(YDWETimerSystem___fnRemoveItem,Condition(function YDWETimerSystem___RemoveItem_CallBack))
call TriggerAddCondition(YDWETimerSystem___fnDestroyEffect,Condition(function YDWETimerSystem___DestroyEffect_CallBack))
call TriggerAddCondition(YDWETimerSystem___fnDestroyLightning,Condition(function YDWETimerSystem___DestroyLightning_CallBack))
call TriggerAddCondition(YDWETimerSystem___fnRunTrigger,Condition(function YDWETimerSystem___RunTrigger_CallBack))
call TimerStart(YDWETimerSystem___Timer,.01,true,function YDWETimerSystem___Main)
endfunction
function YDWETimerSystemGetRunIndex takes nothing returns integer
return YDWETimerSystem___TimerSystem_RunIndex
endfunction
function YDWETimerSystem___RunPeriodicTriggerFunction takes nothing returns nothing
local integer tid=GetHandleId(GetExpiredTimer())
local trigger trg=LoadTriggerHandle(YDHT,tid,$D0001)
call SaveInteger(YDHT,StringHash(I2S(GetHandleId(trg))),StringHash("RunIndex"),LoadInteger(YDHT,tid,$D0002))
if TriggerEvaluate(trg)then
call TriggerExecute(trg)
endif
set trg=null
endfunction
function YDWETimerSystem___RunPeriodicTriggerFunctionByTimes takes nothing returns nothing
local integer tid=GetHandleId(GetExpiredTimer())
local trigger trg=LoadTriggerHandle(YDHT,tid,$D0001)
local integer times=LoadInteger(YDHT,tid,$D0003)
call SaveInteger(YDHT,StringHash(I2S(GetHandleId(trg))),StringHash("RunIndex"),LoadInteger(YDHT,tid,$D0002))
if TriggerEvaluate(trg)then
call TriggerExecute(trg)
endif
set times=times-1
if times>0 then
call SaveInteger(YDHT,tid,$D0003,times)
else
call DestroyTimer(GetExpiredTimer())
call FlushChildHashtable(YDHT,tid)
endif
set trg=null
endfunction
function YDWETimerRunPeriodicTrigger takes real timeout,trigger trg,boolean b,integer times,integer data returns nothing
local timer t
local integer tid
local integer index=0
if timeout<0 then
return
else
set t=CreateTimer()
set tid=GetHandleId(t)
endif
set YDWETimerSystem___TimerSystem_RunIndex=YDWETimerSystem___TimerSystem_RunIndex+1
call SaveTriggerHandle(YDHT,tid,$D0001,trg)
call SaveInteger(YDHT,tid,$D0002,YDWETimerSystem___TimerSystem_RunIndex)
set index=LoadInteger(YDHT,GetHandleId(trg),'YDTS'+data)
set index=index+1
call SaveInteger(YDHT,GetHandleId(trg),'YDTS'+data,index)
call SaveTimerHandle(YDHT,GetHandleId(trg),('YDTS'+data)*index,t)
if b==false then
call SaveInteger(YDHT,tid,$D0003,times)
call TimerStart(t,timeout,true,function YDWETimerSystem___RunPeriodicTriggerFunctionByTimes)
else
call TimerStart(t,timeout,true,function YDWETimerSystem___RunPeriodicTriggerFunction)
endif
set t=null
endfunction
function YDWETimerRunPeriodicTriggerOver takes trigger trg,integer data returns nothing
local integer trgid=GetHandleId(trg)
local integer index=LoadInteger(YDHT,trgid,'YDTS'+data)
local timer t
loop
exitwhen index<=0
set t=LoadTimerHandle(YDHT,trgid,('YDTS'+data)*index)
call DestroyTimer(t)
call FlushChildHashtable(YDHT,GetHandleId(t))
call RemoveSavedHandle(YDHT,trgid,('YDTS'+data)*index)
set index=index-1
endloop
call RemoveSavedInteger(YDHT,trgid,'YDTS'+data)
set t=null
endfunction
function InitGlobals takes nothing returns nothing
local integer i=0
set i=0
loop
exitwhen(i>1)
set udg_Jishiqi[i]=CreateTimer()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Number[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_group_of_players[i]=CreateForce()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_yanse[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_help[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_provoke[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_death[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_sw[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_go[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_affirm[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_backup[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_fallback[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_followme[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_nagative[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_a[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_f[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_i[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_gun_group[i]=CreateGroup()
set i=i+1
endloop
set udg_gun_Index=1
set udg_gun_Timer=CreateTimer()
set i=0
loop
exitwhen(i>1)
set udg_gun_VelocityX[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_gun_VelocityY[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_x[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_X[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_y[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Y[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_z[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Z[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_gun_Count[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_gun_Z[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_achievement_yanse[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_achievement_title[i]=""
set i=i+1
endloop
set udg_Human_jishiqi=CreateTimer()
set i=0
loop
exitwhen(i>1)
set udg_achievement_players[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_achievement_cont[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_achievement_neir[i]=0
set i=i+1
endloop
set udg_group_yanshi=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_leve[i]=0
set i=i+1
endloop
set udg_winner=false
set i=0
loop
exitwhen(i>1)
set udg_ach_cont1[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ach_cont12[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ach_cont4[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ach_cont5[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ach_cont6[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ach_cont7[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ach_cont8[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ach_cont9[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ach_cont10[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ach_cont11[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ach_cont2[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ach_cont3[i]=""
set i=i+1
endloop
set udg_Timer_come=CreateTimer()
set udg_kick_t=false
set udg_kick_c=0
set i=0
loop
exitwhen(i>2)
set udg_kick_n[i]=""
set i=i+1
endloop
set udg_group_mcdw=CreateGroup()
set udg_group_dian=CreateGroup()
set udg_AImove=CreateGroup()
set udg_mod=CreateGroup()
set udg_Death_unit=CreateGroup()
set udg_Choose=DialogCreate()
set udg_group_xrzs=CreateGroup()
set udg_Timer_game=CreateTimer()
set udg_group_both=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_group_rf[i]=CreateGroup()
set i=i+1
endloop
set udg_group_mc=CreateGroup()
endfunction
function InitSounds takes nothing returns nothing
set gg_snd_1=CreateSound("war3mapImported\\1.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_1,1097)
call SetSoundChannel(gg_snd_1,0)
call SetSoundVolume(gg_snd_1,127)
call SetSoundPitch(gg_snd_1,1.)
set gg_snd_10=CreateSound("war3mapImported\\10.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_10,1646)
call SetSoundChannel(gg_snd_10,0)
call SetSoundVolume(gg_snd_10,127)
call SetSoundPitch(gg_snd_10,1.)
set gg_snd_2=CreateSound("war3mapImported\\2.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_2,1097)
call SetSoundChannel(gg_snd_2,0)
call SetSoundVolume(gg_snd_2,127)
call SetSoundPitch(gg_snd_2,1.)
set gg_snd_20secremain=CreateSound("war3mapImported\\20secremain.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_20secremain,2874)
call SetSoundChannel(gg_snd_20secremain,0)
call SetSoundVolume(gg_snd_20secremain,127)
call SetSoundPitch(gg_snd_20secremain,1.)
set gg_snd_3=CreateSound("war3mapImported\\3.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_3,1097)
call SetSoundChannel(gg_snd_3,0)
call SetSoundVolume(gg_snd_3,127)
call SetSoundPitch(gg_snd_3,1.)
set gg_snd_4=CreateSound("war3mapImported\\4.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_4,1097)
call SetSoundChannel(gg_snd_4,0)
call SetSoundVolume(gg_snd_4,127)
call SetSoundPitch(gg_snd_4,1.)
set gg_snd_5=CreateSound("war3mapImported\\5.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_5,1097)
call SetSoundChannel(gg_snd_5,0)
call SetSoundVolume(gg_snd_5,127)
call SetSoundPitch(gg_snd_5,1.)
set gg_snd_6=CreateSound("war3mapImported\\6.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_6,1097)
call SetSoundChannel(gg_snd_6,0)
call SetSoundVolume(gg_snd_6,127)
call SetSoundPitch(gg_snd_6,1.)
set gg_snd_7=CreateSound("war3mapImported\\7.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_7,1097)
call SetSoundChannel(gg_snd_7,0)
call SetSoundVolume(gg_snd_7,127)
call SetSoundPitch(gg_snd_7,1.)
set gg_snd_8=CreateSound("war3mapImported\\8.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_8,1097)
call SetSoundChannel(gg_snd_8,0)
call SetSoundVolume(gg_snd_8,127)
call SetSoundPitch(gg_snd_8,1.)
set gg_snd_9=CreateSound("war3mapImported\\9.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_9,1646)
call SetSoundChannel(gg_snd_9,0)
call SetSoundVolume(gg_snd_9,127)
call SetSoundPitch(gg_snd_9,1.)
set gg_snd_a__ou=CreateSound("war3mapImported\\a _ou.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_a__ou,1097)
call SetSoundChannel(gg_snd_a__ou,0)
call SetSoundVolume(gg_snd_a__ou,127)
call SetSoundPitch(gg_snd_a__ou,1.)
set gg_snd_appear=CreateSound("war3mapImported\\appear.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_appear,4676)
call SetSoundChannel(gg_snd_appear,0)
call SetSoundVolume(gg_snd_appear,75)
call SetSoundPitch(gg_snd_appear,1.)
set gg_snd_BanditPissed3=CreateSound("Units\\Creeps\\Bandit\\BanditPissed3.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_BanditPissed3,"BanditPissed")
call SetSoundDuration(gg_snd_BanditPissed3,4284)
set gg_snd_BansheeDeath=CreateSound("Units\\Undead\\Banshee\\BansheeDeath.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_BansheeDeath,"BansheeDeath")
call SetSoundDuration(gg_snd_BansheeDeath,2380)
call SetSoundPitch(gg_snd_BansheeDeath,1.4)
set gg_snd_BansheePissed4=CreateSound("Units\\Undead\\Banshee\\BansheePissed4.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_BansheePissed4,"BansheePissed")
call SetSoundDuration(gg_snd_BansheePissed4,4052)
call SetSoundPitch(gg_snd_BansheePissed4,1.2)
set gg_snd_BONUSMISSION_UI=CreateSound("war3mapImported\\BONUSMISSION_UI.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_BONUSMISSION_UI,3564)
call SetSoundChannel(gg_snd_BONUSMISSION_UI,0)
call SetSoundVolume(gg_snd_BONUSMISSION_UI,127)
call SetSoundPitch(gg_snd_BONUSMISSION_UI,1.)
set gg_snd_com_go=CreateSound("war3mapImported\\com_go.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_com_go,1410)
call SetSoundChannel(gg_snd_com_go,0)
call SetSoundVolume(gg_snd_com_go,127)
call SetSoundPitch(gg_snd_com_go,1.)
set gg_snd_com_go_f=CreateSound("war3mapImported\\com_go_f.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_com_go_f,1698)
call SetSoundChannel(gg_snd_com_go_f,0)
call SetSoundVolume(gg_snd_com_go_f,127)
call SetSoundPitch(gg_snd_com_go_f,1.)
set gg_snd_cso_result=CreateSound("war3mapImported\\cso_result.mp3",true,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_cso_result,21629)
call SetSoundChannel(gg_snd_cso_result,0)
call SetSoundVolume(gg_snd_cso_result,127)
call SetSoundPitch(gg_snd_cso_result,1.)
set gg_snd_ct_affirm=CreateSound("war3mapImported\\ct_affirm.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_ct_affirm,1019)
call SetSoundChannel(gg_snd_ct_affirm,0)
call SetSoundVolume(gg_snd_ct_affirm,127)
call SetSoundPitch(gg_snd_ct_affirm,1.)
set gg_snd_ct_affirm_f=CreateSound("war3mapImported\\ct_affirm_f.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_ct_affirm_f,1228)
call SetSoundChannel(gg_snd_ct_affirm_f,0)
call SetSoundVolume(gg_snd_ct_affirm_f,127)
call SetSoundPitch(gg_snd_ct_affirm_f,1.)
set gg_snd_ct_backup=CreateSound("war3mapImported\\ct_backup.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_ct_backup,1410)
call SetSoundChannel(gg_snd_ct_backup,0)
call SetSoundVolume(gg_snd_ct_backup,127)
call SetSoundPitch(gg_snd_ct_backup,1.)
set gg_snd_ct_backup_f=CreateSound("war3mapImported\\ct_backup_f.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_ct_backup_f,1306)
call SetSoundChannel(gg_snd_ct_backup_f,0)
call SetSoundVolume(gg_snd_ct_backup_f,127)
call SetSoundPitch(gg_snd_ct_backup_f,1.)
set gg_snd_ct_enemys=CreateSound("war3mapImported\\ct_enemys.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_ct_enemys,1332)
call SetSoundChannel(gg_snd_ct_enemys,0)
call SetSoundVolume(gg_snd_ct_enemys,127)
call SetSoundPitch(gg_snd_ct_enemys,1.)
set gg_snd_ct_enemys_f=CreateSound("war3mapImported\\ct_enemys_f.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_ct_enemys_f,1254)
call SetSoundChannel(gg_snd_ct_enemys_f,0)
call SetSoundVolume(gg_snd_ct_enemys_f,127)
call SetSoundPitch(gg_snd_ct_enemys_f,1.)
set gg_snd_DarkSummoningLaunch1=CreateSound("Abilities\\Spells\\Undead\\DarkSummoning\\DarkSummoningLaunch1.wav",false,false,false,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(gg_snd_DarkSummoningLaunch1,"DarkSummoningMissileLaunch")
call SetSoundDuration(gg_snd_DarkSummoningLaunch1,2624)
set gg_snd_DeathKnightPissed4=CreateSound("Units\\Undead\\HeroDeathKnight\\DeathKnightPissed4.wav",false,false,false,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(gg_snd_DeathKnightPissed4,"HeroDeathKnightPissed")
call SetSoundDuration(gg_snd_DeathKnightPissed4,5753)
call SetSoundPitch(gg_snd_DeathKnightPissed4,.8)
set gg_snd_Dryad_help=CreateSound("Units\\NightElf\\Dryad\\DryadPissed7.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_Dryad_help,"DryadPissed")
call SetSoundDuration(gg_snd_Dryad_help,3924)
set gg_snd_enemys_f=CreateSound("Units\\Human\\Jaina\\JainaWhat3.wav",false,false,false,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(gg_snd_enemys_f,"JainaWhat")
call SetSoundDuration(gg_snd_enemys_f,1463)
set gg_snd_enemys_g=CreateSound("Units\\Critters\\BloodElfPeasant\\BloodElfEngineerPissed6.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_enemys_g,"BloodElfEngineerPissed")
call SetSoundDuration(gg_snd_enemys_g,4447)
set gg_snd_enemys_n=CreateSound("Units\\Human\\MortarTeam\\MortarTeamPissed3.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_enemys_n,"MortarTeamPissed")
call SetSoundDuration(gg_snd_enemys_n,4679)
set gg_snd_enemys_y=CreateSound("Units\\Orc\\Peon\\PeonPissed2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_enemys_y,"PeonPissed")
call SetSoundDuration(gg_snd_enemys_y,2078)
set gg_snd_Error=CreateSound("Sound\\Interface\\Error.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(gg_snd_Error,"InterfaceError")
call SetSoundDuration(gg_snd_Error,614)
set gg_snd_event_radio_f=CreateSound("war3mapImported\\event_radio_f.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_event_radio_f,3056)
call SetSoundChannel(gg_snd_event_radio_f,0)
call SetSoundVolume(gg_snd_event_radio_f,127)
call SetSoundPitch(gg_snd_event_radio_f,1.)
set gg_snd_event_radio_u=CreateSound("war3mapImported\\event_radio.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_event_radio_u,4388)
call SetSoundChannel(gg_snd_event_radio_u,0)
call SetSoundVolume(gg_snd_event_radio_u,127)
call SetSoundPitch(gg_snd_event_radio_u,1.)
set gg_snd_fallback=CreateSound("war3mapImported\\fallback.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_fallback,1541)
call SetSoundChannel(gg_snd_fallback,0)
call SetSoundVolume(gg_snd_fallback,127)
call SetSoundPitch(gg_snd_fallback,1.)
set gg_snd_fallback_f=CreateSound("war3mapImported\\fallback_f.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_fallback_f,1358)
call SetSoundChannel(gg_snd_fallback_f,0)
call SetSoundVolume(gg_snd_fallback_f,127)
call SetSoundPitch(gg_snd_fallback_f,1.)
set gg_snd_FlashBack1Second=CreateSound("Sound\\Ambient\\DoodadEffects\\FlashBack1Second.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_FlashBack1Second,"FlashBack1Second")
call SetSoundDuration(gg_snd_FlashBack1Second,2178)
set gg_snd_FlashBackHalfSecondSecond=CreateSound("Sound\\Ambient\\DoodadEffects\\FlashBackHalfSecondSecond.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_FlashBackHalfSecondSecond,"FlashBackHalfSecondSecond")
call SetSoundDuration(gg_snd_FlashBackHalfSecondSecond,1235)
set gg_snd_followme=CreateSound("war3mapImported\\followme.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_followme,1202)
call SetSoundChannel(gg_snd_followme,0)
call SetSoundVolume(gg_snd_followme,127)
call SetSoundPitch(gg_snd_followme,1.)
set gg_snd_followme_f=CreateSound("war3mapImported\\followme_f.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_followme_f,1071)
call SetSoundChannel(gg_snd_followme_f,0)
call SetSoundVolume(gg_snd_followme_f,127)
call SetSoundPitch(gg_snd_followme_f,1.)
set gg_snd_FootmanYesAttack2=CreateSound("Units\\Human\\Footman\\FootmanYesAttack2.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_FootmanYesAttack2,"FootmanYesAttack")
call SetSoundDuration(gg_snd_FootmanYesAttack2,1085)
set gg_snd_FreakyForest1=CreateSound("Sound\\Ambient\\Ashenvale\\FreakyForest1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_FreakyForest1,"FreakyForest1")
call SetSoundDuration(gg_snd_FreakyForest1,3135)
set gg_snd_FreakyForest2=CreateSound("Sound\\Ambient\\Ashenvale\\FreakyForest2.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_FreakyForest2,"FreakyForest2")
call SetSoundDuration(gg_snd_FreakyForest2,3901)
set gg_snd_FreakyForest3=CreateSound("Sound\\Ambient\\Ashenvale\\FreakyForest3.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_FreakyForest3,"FreakyForest3")
call SetSoundDuration(gg_snd_FreakyForest3,4830)
set gg_snd_FreakyForest4=CreateSound("Sound\\Ambient\\Ashenvale\\FreakyForest4.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_FreakyForest4,"FreakyForest4")
call SetSoundDuration(gg_snd_FreakyForest4,5248)
set gg_snd_FrostmourneChant1=CreateSound("Sound\\Ambient\\DoodadEffects\\FrostmourneChant1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_FrostmourneChant1,"FrostmourneChantSound")
call SetSoundDuration(gg_snd_FrostmourneChant1,5039)
set gg_snd_GameFound=CreateSound("Sound\\Interface\\GameFound.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_GameFound,"GameFound")
call SetSoundDuration(gg_snd_GameFound,7488)
set gg_snd_Grenadekill_BL=CreateSound("war3mapImported\\Grenadekill_BL.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_Grenadekill_BL,940)
call SetSoundChannel(gg_snd_Grenadekill_BL,0)
call SetSoundVolume(gg_snd_Grenadekill_BL,127)
call SetSoundPitch(gg_snd_Grenadekill_BL,1.)
set gg_snd_Grenadekill_GR=CreateSound("war3mapImported\\Grenadekill_GR.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_Grenadekill_GR,1410)
call SetSoundChannel(gg_snd_Grenadekill_GR,0)
call SetSoundVolume(gg_snd_Grenadekill_GR,127)
call SetSoundPitch(gg_snd_Grenadekill_GR,1.)
set gg_snd_Grenadekill_man_BL=CreateSound("war3mapImported\\Grenadekill_man_BL.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_Grenadekill_man_BL,966)
call SetSoundChannel(gg_snd_Grenadekill_man_BL,0)
call SetSoundVolume(gg_snd_Grenadekill_man_BL,127)
call SetSoundPitch(gg_snd_Grenadekill_man_BL,1.)
set gg_snd_Grenadekill_man_GR=CreateSound("war3mapImported\\Grenadekill_man_GR.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_Grenadekill_man_GR,653)
call SetSoundChannel(gg_snd_Grenadekill_man_GR,0)
call SetSoundVolume(gg_snd_Grenadekill_man_GR,127)
call SetSoundPitch(gg_snd_Grenadekill_man_GR,1.)
set gg_snd_hp_supply_female=CreateSound("war3mapImported\\hp_supply_female.wav",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_hp_supply_female,1881)
call SetSoundChannel(gg_snd_hp_supply_female,0)
call SetSoundVolume(gg_snd_hp_supply_female,127)
call SetSoundPitch(gg_snd_hp_supply_female,1.)
set gg_snd_hp_supply_male=CreateSound("war3mapImported\\hp_supply_male.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_hp_supply_male,2304)
call SetSoundChannel(gg_snd_hp_supply_male,0)
call SetSoundVolume(gg_snd_hp_supply_male,127)
call SetSoundPitch(gg_snd_hp_supply_male,1.)
set gg_snd_human_death_01=CreateSound("war3mapImported\\human_death_01.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_human_death_01,1280)
call SetSoundChannel(gg_snd_human_death_01,0)
call SetSoundVolume(gg_snd_human_death_01,127)
call SetSoundPitch(gg_snd_human_death_01,1.)
set gg_snd_human_death_02=CreateSound("war3mapImported\\human_death_02.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_human_death_02,1489)
call SetSoundChannel(gg_snd_human_death_02,0)
call SetSoundVolume(gg_snd_human_death_02,127)
call SetSoundPitch(gg_snd_human_death_02,1.)
set gg_snd_human_death_female_01=CreateSound("war3mapImported\\human_death_female_01.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_human_death_female_01,1907)
call SetSoundChannel(gg_snd_human_death_female_01,0)
call SetSoundVolume(gg_snd_human_death_female_01,127)
call SetSoundPitch(gg_snd_human_death_female_01,1.)
set gg_snd_human_death_female_02=CreateSound("war3mapImported\\human_death_female_02.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_human_death_female_02,2116)
call SetSoundChannel(gg_snd_human_death_female_02,0)
call SetSoundVolume(gg_snd_human_death_female_02,127)
call SetSoundPitch(gg_snd_human_death_female_02,1.)
set gg_snd_HumanCallToArmsWhat1=CreateSound("Abilities\\Spells\\Human\\CallToArms\\HumanCallToArmsWhat1.wav",false,false,false,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(gg_snd_HumanCallToArmsWhat1,"TownHallCallToArms")
call SetSoundDuration(gg_snd_HumanCallToArmsWhat1,3971)
set gg_snd_KaelYesAttack3=CreateSound("Units\\Human\\Kael\\KaelYesAttack3.wav",false,false,false,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(gg_snd_KaelYesAttack3,"KaelYesAttack")
call SetSoundDuration(gg_snd_KaelYesAttack3,1634)
set gg_snd_KillHumanBossAnimationSnd=CreateSound("war3mapImported\\KillHumanBossAnimationSnd.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_KillHumanBossAnimationSnd,2664)
call SetSoundChannel(gg_snd_KillHumanBossAnimationSnd,0)
call SetSoundVolume(gg_snd_KillHumanBossAnimationSnd,90)
call SetSoundPitch(gg_snd_KillHumanBossAnimationSnd,1.)
set gg_snd_KillNanoAnimationSnd=CreateSound("war3mapImported\\KillNanoAnimationSnd.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_KillNanoAnimationSnd,2638)
call SetSoundChannel(gg_snd_KillNanoAnimationSnd,0)
call SetSoundVolume(gg_snd_KillNanoAnimationSnd,90)
call SetSoundPitch(gg_snd_KillNanoAnimationSnd,1.)
set gg_snd_Knifekill_BL=CreateSound("war3mapImported\\Knifekill_BL.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_Knifekill_BL,717)
call SetSoundChannel(gg_snd_Knifekill_BL,0)
call SetSoundVolume(gg_snd_Knifekill_BL,127)
call SetSoundPitch(gg_snd_Knifekill_BL,1.)
set gg_snd_Knifekill_BL_female=CreateSound("war3mapImported\\Knifekill_BL_female.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_Knifekill_BL_female,1474)
call SetSoundChannel(gg_snd_Knifekill_BL_female,0)
call SetSoundVolume(gg_snd_Knifekill_BL_female,127)
call SetSoundPitch(gg_snd_Knifekill_BL_female,1.)
set gg_snd_Knifekill_GR=CreateSound("war3mapImported\\Knifekill_GR.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_Knifekill_GR,1161)
call SetSoundChannel(gg_snd_Knifekill_GR,0)
call SetSoundVolume(gg_snd_Knifekill_GR,127)
call SetSoundPitch(gg_snd_Knifekill_GR,1.)
set gg_snd_Knifekill_GR_female=CreateSound("war3mapImported\\Knifekill_GR_female.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_Knifekill_GR_female,1370)
call SetSoundChannel(gg_snd_Knifekill_GR_female,0)
call SetSoundVolume(gg_snd_Knifekill_GR_female,127)
call SetSoundPitch(gg_snd_Knifekill_GR_female,1.)
set gg_snd_KnightPissed1=CreateSound("Units\\Human\\Knight\\KnightPissed1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_KnightPissed1,"KnightPissed")
call SetSoundDuration(gg_snd_KnightPissed1,3670)
set gg_snd_NaishaPissed1=CreateSound("Units\\NightElf\\Naisha\\NaishaPissed1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_NaishaPissed1,"NaishaPissed")
call SetSoundDuration(gg_snd_NaishaPissed1,4876)
set gg_snd_negative=CreateSound("war3mapImported\\negative.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_negative,1071)
call SetSoundChannel(gg_snd_negative,0)
call SetSoundVolume(gg_snd_negative,127)
call SetSoundPitch(gg_snd_negative,1.)
set gg_snd_negative_f=CreateSound("war3mapImported\\negative_f.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_negative_f,1045)
call SetSoundChannel(gg_snd_negative_f,0)
call SetSoundVolume(gg_snd_negative_f,127)
call SetSoundPitch(gg_snd_negative_f,1.)
set gg_snd_ohno=CreateSound("war3mapImported\\ohno.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_ohno,2638)
call SetSoundChannel(gg_snd_ohno,0)
call SetSoundVolume(gg_snd_ohno,95)
call SetSoundPitch(gg_snd_ohno,1.1)
set gg_snd_Peasant_help=CreateSound("Units\\Human\\Peasant\\PeasantPissed3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_Peasant_help,"PeasantPissed")
call SetSoundDuration(gg_snd_Peasant_help,2601)
set gg_snd_PeasantWarcry1=CreateSound("Units\\Human\\Peasant\\PeasantWarcry1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_PeasantWarcry1,"PeasantWarcry")
call SetSoundDuration(gg_snd_PeasantWarcry1,977)
set gg_snd_Priest_help=CreateSound("Units\\Human\\Priest\\PriestPissed4.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_Priest_help,"PriestPissed")
call SetSoundDuration(gg_snd_Priest_help,2931)
set gg_snd_QuestCompleted=CreateSound("Sound\\Interface\\QuestCompleted.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(gg_snd_QuestCompleted,"QuestCompleted")
call SetSoundDuration(gg_snd_QuestCompleted,5155)
set gg_snd_RallyPointPlace1=CreateSound("Sound\\Interface\\RallyPointPlace1.wav",false,true,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_RallyPointPlace1,"RallyPointPlace")
call SetSoundDuration(gg_snd_RallyPointPlace1,1045)
call SetSoundChannel(gg_snd_RallyPointPlace1,0)
call SetSoundVolume(gg_snd_RallyPointPlace1,127)
call SetSoundDistances(gg_snd_RallyPointPlace1,1000.,10000.)
call SetSoundDistanceCutoff(gg_snd_RallyPointPlace1,3000.)
set gg_snd_Rescue=CreateSound("Sound\\Interface\\Rescue.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(gg_snd_Rescue,"Rescue")
call SetSoundDuration(gg_snd_Rescue,3796)
set gg_snd_TheHornOfCenarius=CreateSound("Sound\\Ambient\\DoodadEffects\\TheHornOfCenarius.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_TheHornOfCenarius,"HornOfCenariusSound")
call SetSoundDuration(gg_snd_TheHornOfCenarius,12121)
set gg_snd_WarlockAppears=CreateSound("Sound\\Ambient\\DoodadEffects\\WarlockAppears.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_WarlockAppears,"ArchimondeAppearsSound")
call SetSoundDuration(gg_snd_WarlockAppears,7361)
set gg_snd_WarlockAppears01=CreateSound("Sound\\Ambient\\DoodadEffects\\WarlockAppears.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gg_snd_WarlockAppears01,"ArchimondeAppearsSound")
call SetSoundDuration(gg_snd_WarlockAppears01,7361)
call SetSoundPitch(gg_snd_WarlockAppears01,1.3)
set gg_snd_win_human=CreateSound("war3mapImported\\win_human.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_win_human,2194)
call SetSoundChannel(gg_snd_win_human,0)
call SetSoundVolume(gg_snd_win_human,127)
call SetSoundPitch(gg_snd_win_human,1.)
set gg_snd_win_zombi=CreateSound("war3mapImported\\win_zombi.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_win_zombi,2168)
call SetSoundChannel(gg_snd_win_zombi,0)
call SetSoundVolume(gg_snd_win_zombi,127)
call SetSoundPitch(gg_snd_win_zombi,1.)
set gg_snd_ZE_Ambience=CreateSound("war3mapImported\\ZE_Ambience.mp3",true,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_ZE_Ambience,104904)
call SetSoundChannel(gg_snd_ZE_Ambience,0)
call SetSoundVolume(gg_snd_ZE_Ambience,80)
call SetSoundPitch(gg_snd_ZE_Ambience,1.)
set gg_snd_ZE_Ready=CreateSound("war3mapImported\\ZE_Ready.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_ZE_Ready,21708)
call SetSoundChannel(gg_snd_ZE_Ready,0)
call SetSoundVolume(gg_snd_ZE_Ready,80)
call SetSoundPitch(gg_snd_ZE_Ready,1.)
set gg_snd_Zombi_Ambience=CreateSound("war3mapImported\\Zombi_Ambience.mp3",true,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_Zombi_Ambience,184528)
call SetSoundChannel(gg_snd_Zombi_Ambience,0)
call SetSoundVolume(gg_snd_Zombi_Ambience,127)
call SetSoundPitch(gg_snd_Zombi_Ambience,1.)
set gg_snd_zombi_bomb_throw=CreateSound("war3mapImported\\zombi_bomb_throw.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_bomb_throw,1620)
call SetSoundChannel(gg_snd_zombi_bomb_throw,0)
call SetSoundVolume(gg_snd_zombi_bomb_throw,127)
call SetSoundPitch(gg_snd_zombi_bomb_throw,1.)
set gg_snd_zombi_box=CreateSound("war3mapImported\\zombi_box.wav",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_zombi_box,3356)
call SetSoundChannel(gg_snd_zombi_box,0)
call SetSoundVolume(gg_snd_zombi_box,127)
call SetSoundPitch(gg_snd_zombi_box,1.)
set gg_snd_zombi_comeback=CreateSound("war3mapImported\\zombi_comeback.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_comeback,2847)
call SetSoundChannel(gg_snd_zombi_comeback,0)
call SetSoundVolume(gg_snd_zombi_comeback,127)
call SetSoundPitch(gg_snd_zombi_comeback,1.)
set gg_snd_zombi_coming_1=CreateSound("war3mapImported\\zombi_coming_1.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_coming_1,4127)
call SetSoundChannel(gg_snd_zombi_coming_1,0)
call SetSoundVolume(gg_snd_zombi_coming_1,127)
call SetSoundPitch(gg_snd_zombi_coming_1,1.)
set gg_snd_zombi_coming_2=CreateSound("war3mapImported\\zombi_coming_2.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_coming_2,3762)
call SetSoundChannel(gg_snd_zombi_coming_2,0)
call SetSoundVolume(gg_snd_zombi_coming_2,127)
call SetSoundPitch(gg_snd_zombi_coming_2,1.)
set gg_snd_zombi_evolution=CreateSound("war3mapImported\\zombi_evolution.mp3",false,true,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_evolution,6270)
call SetSoundChannel(gg_snd_zombi_evolution,0)
call SetSoundVolume(gg_snd_zombi_evolution,127)
call SetSoundPitch(gg_snd_zombi_evolution,1.)
call SetSoundDistances(gg_snd_zombi_evolution,1000.,10000.)
call SetSoundDistanceCutoff(gg_snd_zombi_evolution,3000.)
call SetSoundConeAngles(gg_snd_zombi_evolution,.0,.0,127)
call SetSoundConeOrientation(gg_snd_zombi_evolution,.0,.0,.0)
set gg_snd_zombi_evolution_female=CreateSound("war3mapImported\\zombi_evolution_female.mp3",false,true,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_evolution_female,5460)
call SetSoundChannel(gg_snd_zombi_evolution_female,0)
call SetSoundVolume(gg_snd_zombi_evolution_female,127)
call SetSoundPitch(gg_snd_zombi_evolution_female,1.)
call SetSoundDistances(gg_snd_zombi_evolution_female,1000.,10000.)
call SetSoundDistanceCutoff(gg_snd_zombi_evolution_female,3000.)
call SetSoundConeAngles(gg_snd_zombi_evolution_female,.0,.0,127)
call SetSoundConeOrientation(gg_snd_zombi_evolution_female,.0,.0,.0)
set gg_snd_zombi_heal=CreateSound("war3mapImported\\zombi_heal.mp3",false,true,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_heal,1698)
call SetSoundChannel(gg_snd_zombi_heal,0)
call SetSoundVolume(gg_snd_zombi_heal,127)
call SetSoundPitch(gg_snd_zombi_heal,1.)
call SetSoundDistances(gg_snd_zombi_heal,1000.,10000.)
call SetSoundDistanceCutoff(gg_snd_zombi_heal,3000.)
call SetSoundConeAngles(gg_snd_zombi_heal,.0,.0,127)
call SetSoundConeOrientation(gg_snd_zombi_heal,.0,.0,.0)
set gg_snd_zombi_heal_female=CreateSound("war3mapImported\\zombi_heal_female.wav",false,true,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_heal_female,1454)
call SetSoundChannel(gg_snd_zombi_heal_female,0)
call SetSoundVolume(gg_snd_zombi_heal_female,127)
call SetSoundPitch(gg_snd_zombi_heal_female,1.)
call SetSoundDistances(gg_snd_zombi_heal_female,1000.,10000.)
call SetSoundDistanceCutoff(gg_snd_zombi_heal_female,3000.)
call SetSoundConeAngles(gg_snd_zombi_heal_female,.0,.0,127)
call SetSoundConeOrientation(gg_snd_zombi_heal_female,.0,.0,.0)
set gg_snd_zombi_heal_heavy=CreateSound("war3mapImported\\zombi_heal_heavy.mp3",false,true,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_heal_heavy,1515)
call SetSoundChannel(gg_snd_zombi_heal_heavy,0)
call SetSoundVolume(gg_snd_zombi_heal_heavy,127)
call SetSoundPitch(gg_snd_zombi_heal_heavy,1.)
call SetSoundDistances(gg_snd_zombi_heal_heavy,1000.,10000.)
call SetSoundDistanceCutoff(gg_snd_zombi_heal_heavy,3000.)
call SetSoundConeAngles(gg_snd_zombi_heal_heavy,.0,.0,127)
call SetSoundConeOrientation(gg_snd_zombi_heal_heavy,.0,.0,.0)
set gg_snd_zombi_hurt_01=CreateSound("war3mapImported\\zombi_hurt_01.mp3",false,true,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_hurt_01,732)
call SetSoundChannel(gg_snd_zombi_hurt_01,0)
call SetSoundVolume(gg_snd_zombi_hurt_01,127)
call SetSoundPitch(gg_snd_zombi_hurt_01,1.)
call SetSoundDistances(gg_snd_zombi_hurt_01,1000.,10000.)
call SetSoundDistanceCutoff(gg_snd_zombi_hurt_01,3000.)
call SetSoundConeAngles(gg_snd_zombi_hurt_01,.0,.0,127)
call SetSoundConeOrientation(gg_snd_zombi_hurt_01,.0,.0,.0)
set gg_snd_zombi_hurt_02=CreateSound("war3mapImported\\zombi_hurt_02.mp3",false,true,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_hurt_02,1019)
call SetSoundChannel(gg_snd_zombi_hurt_02,0)
call SetSoundVolume(gg_snd_zombi_hurt_02,127)
call SetSoundPitch(gg_snd_zombi_hurt_02,1.)
call SetSoundDistances(gg_snd_zombi_hurt_02,1000.,10000.)
call SetSoundDistanceCutoff(gg_snd_zombi_hurt_02,3000.)
call SetSoundConeAngles(gg_snd_zombi_hurt_02,.0,.0,127)
call SetSoundConeOrientation(gg_snd_zombi_hurt_02,.0,.0,.0)
set gg_snd_zombi_hurt_female_2=CreateSound("war3mapImported\\zombi_hurt_female_2.mp3",false,true,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_hurt_female_2,679)
call SetSoundChannel(gg_snd_zombi_hurt_female_2,0)
call SetSoundVolume(gg_snd_zombi_hurt_female_2,127)
call SetSoundPitch(gg_snd_zombi_hurt_female_2,1.)
call SetSoundDistances(gg_snd_zombi_hurt_female_2,1000.,10000.)
call SetSoundDistanceCutoff(gg_snd_zombi_hurt_female_2,3000.)
call SetSoundConeAngles(gg_snd_zombi_hurt_female_2,.0,.0,127)
call SetSoundConeOrientation(gg_snd_zombi_hurt_female_2,.0,.0,.0)
set gg_snd_zombi_hurt_heavy_1=CreateSound("war3mapImported\\zombi_hurt_heavy_1.mp3",false,true,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_hurt_heavy_1,888)
call SetSoundChannel(gg_snd_zombi_hurt_heavy_1,0)
call SetSoundVolume(gg_snd_zombi_hurt_heavy_1,127)
call SetSoundPitch(gg_snd_zombi_hurt_heavy_1,1.)
call SetSoundDistances(gg_snd_zombi_hurt_heavy_1,1000.,10000.)
call SetSoundDistanceCutoff(gg_snd_zombi_hurt_heavy_1,3000.)
call SetSoundConeAngles(gg_snd_zombi_hurt_heavy_1,.0,.0,127)
call SetSoundConeOrientation(gg_snd_zombi_hurt_heavy_1,.0,.0,.0)
set gg_snd_zombi_hurt_heavy_2=CreateSound("war3mapImported\\zombi_hurt_heavy_2.mp3",false,true,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_hurt_heavy_2,1123)
call SetSoundChannel(gg_snd_zombi_hurt_heavy_2,0)
call SetSoundVolume(gg_snd_zombi_hurt_heavy_2,127)
call SetSoundPitch(gg_snd_zombi_hurt_heavy_2,1.)
call SetSoundDistances(gg_snd_zombi_hurt_heavy_2,1000.,10000.)
call SetSoundDistanceCutoff(gg_snd_zombi_hurt_heavy_2,3000.)
call SetSoundConeAngles(gg_snd_zombi_hurt_heavy_2,.0,.0,127)
call SetSoundConeOrientation(gg_snd_zombi_hurt_heavy_2,.0,.0,.0)
set gg_snd_zombi_pre_idle_1=CreateSound("war3mapImported\\zombi_pre_idle_1.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_pre_idle_1,2859)
call SetSoundChannel(gg_snd_zombi_pre_idle_1,0)
call SetSoundVolume(gg_snd_zombi_pre_idle_1,127)
call SetSoundPitch(gg_snd_zombi_pre_idle_1,1.)
set gg_snd_zombi_pre_idle_2=CreateSound("war3mapImported\\zombi_pre_idle_2.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_pre_idle_2,2833)
call SetSoundChannel(gg_snd_zombi_pre_idle_2,0)
call SetSoundVolume(gg_snd_zombi_pre_idle_2,127)
call SetSoundPitch(gg_snd_zombi_pre_idle_2,1.)
set gg_snd_zombi_pressure=CreateSound("war3mapImported\\zombi_pressure.mp3",false,false,false,10,10,"")
call SetSoundDuration(gg_snd_zombi_pressure,3329)
call SetSoundChannel(gg_snd_zombi_pressure,0)
call SetSoundVolume(gg_snd_zombi_pressure,127)
call SetSoundPitch(gg_snd_zombi_pressure,1.)
set gg_snd_zombi_pressure_female=CreateSound("war3mapImported\\zombi_pressure_female.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_pressure_female,2508)
call SetSoundChannel(gg_snd_zombi_pressure_female,0)
call SetSoundVolume(gg_snd_zombi_pressure_female,127)
call SetSoundPitch(gg_snd_zombi_pressure_female,1.)
set gg_snd_zombi_start=CreateSound("war3mapImported\\zombi_start.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_zombi_start,13270)
call SetSoundChannel(gg_snd_zombi_start,0)
call SetSoundVolume(gg_snd_zombi_start,127)
call SetSoundPitch(gg_snd_zombi_start,1.)
set gg_snd_Will_come_190s=CreateSound("war3mapImported\\Will come-190s.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(gg_snd_Will_come_190s,190584)
call SetSoundChannel(gg_snd_Will_come_190s,0)
call SetSoundVolume(gg_snd_Will_come_190s,127)
call SetSoundPitch(gg_snd_Will_come_190s,1.)
endfunction
function CreateNeutralPassiveBuildings takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_PASSIVE)
local unit u
local integer unitID
local trigger t
local real life
set u=CreateUnit(p,'ndfl',-4288.,-4608.,270.)
set gg_unit_h000_0002=CreateUnit(p,'h000',-6144.,-5056.,270.)
set gg_unit_h000_0003=CreateUnit(p,'h000',1472.,3648.,270.)
set gg_unit_h000_0004=CreateUnit(p,'h000',-64.,3584.,270.)
set gg_unit_h000_0005=CreateUnit(p,'h000',640.,-5632.,270.)
set gg_unit_h000_0006=CreateUnit(p,'h000',-5888.,-1792.,270.)
set gg_unit_h000_0006=CreateUnit(p,'h000',2752.,4800.,270.)
set u=CreateUnit(p,'h000',-7296.,-512.,270.)
set u=CreateUnit(p,'h000',-5824.,1856.,270.)
set u=CreateUnit(p,'h000',2496.,6272.,270.)
set u=CreateUnit(p,'h000',-1984.,-2560.,270.)
set u=CreateUnit(p,'h000',7488.,2112.,270.)
set u=CreateUnit(p,'h000',-6144.,-7616.,270.)
set u=CreateUnit(p,'h000',-3136.,7232.,270.)
set u=CreateUnit(p,'h000',-5568.,3584.,270.)
set gg_unit_h000_0015=CreateUnit(p,'h000',-640.,-6528.,270.)
set u=CreateUnit(p,'h000',5120.,2496.,270.)
set gg_unit_h000_0017=CreateUnit(p,'h000',5376.,-4416.,270.)
set gg_unit_h000_0018=CreateUnit(p,'h000',4544.,-320.,270.)
set gg_unit_h000_0019=CreateUnit(p,'h000',5120.,4864.,270.)
set gg_unit_h000_0020=CreateUnit(p,'h000',-4800.,768.,270.)
set gg_unit_h000_0021=CreateUnit(p,'h000',-4288.,-3264.,270.)
set gg_unit_h000_0022=CreateUnit(p,'h000',-3712.,3712.,270.)
set gg_unit_h000_0023=CreateUnit(p,'h000',3648.,-5504.,270.)
set gg_unit_h000_0024=CreateUnit(p,'h000',-7360.,5568.,270.)
set gg_unit_h000_0025=CreateUnit(p,'h000',-960.,-4928.,270.)
set gg_unit_h000_0026=CreateUnit(p,'h000',-2944.,-5440.,270.)
set gg_unit_h000_0027=CreateUnit(p,'h000',.0,.0,270.)
set u=CreateUnit(p,'ndfl',-4736.,.0,270.)
set u=CreateUnit(p,'ndfl',-7360.,-5248.,270.)
set u=CreateUnit(p,'ndfl',-4096.,-6720.,270.)
set u=CreateUnit(p,'ndfl',-5504.,1664.,270.)
set u=CreateUnit(p,'ndfl',-7040.,896.,270.)
set u=CreateUnit(p,'ndfl',-5632.,-1792.,270.)
set u=CreateUnit(p,'ndfl',-3328.,2624.,270.)
set u=CreateUnit(p,'ndfl',-5952.,5952.,270.)
set u=CreateUnit(p,'ndfl',-7488.,4032.,270.)
set u=CreateUnit(p,'ndfl',-4672.,7360.,270.)
set u=CreateUnit(p,'ndfl',-256.,4480.,270.)
set gg_unit_ngme_0050=CreateUnit(p,'ngme',-192.,192.,270.)
set u=CreateUnit(p,'ndfl',-704.,7360.,270.)
set gg_unit_ngad_0052=CreateUnit(p,'ngad',-192.,-192.,270.)
set gg_unit_n000_0053=CreateUnit(p,'n000',192.,192.,270.)
set u=CreateUnit(p,'ndfl',-2048.,6208.,270.)
set gg_unit_h000_0055=CreateUnit(p,'h000',-5120.,-7552.,270.)
set gg_unit_h000_0056=CreateUnit(p,'h000',-4864.,-7040.,270.)
set gg_unit_h000_0057=CreateUnit(p,'h000',-4864.,-7552.,270.)
set gg_unit_h000_0058=CreateUnit(p,'h000',-4352.,-7040.,270.)
set gg_unit_h000_0059=CreateUnit(p,'h000',-4608.,-7552.,270.)
set gg_unit_n003_0060=CreateUnit(p,'n003',192.,-192.,270.)
set gg_unit_h000_0061=CreateUnit(p,'h000',-4352.,-7552.,270.)
set gg_unit_h01K_0062=CreateUnit(p,'h01K',-7552.,-7680.,270.)
set gg_unit_h000_0063=CreateUnit(p,'h000',-5120.,-7296.,270.)
set gg_unit_h000_0064=CreateUnit(p,'h000',-5120.,-7040.,270.)
set gg_unit_h000_0065=CreateUnit(p,'h000',-4864.,-7296.,270.)
set gg_unit_h000_0066=CreateUnit(p,'h000',-4608.,-7040.,270.)
set gg_unit_h000_0067=CreateUnit(p,'h000',-4608.,-7296.,270.)
set u=CreateUnit(p,'ndfl',3328.,-5568.,270.)
set gg_unit_h000_0069=CreateUnit(p,'h000',-4352.,-7296.,270.)
set u=CreateUnit(p,'ndfl',448.,-6016.,270.)
set u=CreateUnit(p,'ndfl',4544.,-6912.,270.)
set u=CreateUnit(p,'ndfl',576.,-2688.,270.)
set u=CreateUnit(p,'ndfl',-3520.,-1408.,270.)
set u=CreateUnit(p,'ndfl',2816.,5312.,270.)
set u=CreateUnit(p,'ndfl',2752.,7104.,270.)
set u=CreateUnit(p,'ndfl',5120.,6336.,270.)
set u=CreateUnit(p,'ndfl',4160.,2688.,270.)
set u=CreateUnit(p,'ndfl',5504.,-832.,270.)
set u=CreateUnit(p,'ndfl',4544.,1088.,270.)
set u=CreateUnit(p,'ndfl',6272.,-3392.,270.)
set u=CreateUnit(p,'ndfl',5696.,-6720.,270.)
set u=CreateUnit(p,'ndfl',6720.,5568.,270.)
set u=CreateUnit(p,'ndfl',7424.,1152.,270.)
set u=CreateUnit(p,'ndfl',3328.,-2688.,270.)
set u=CreateUnit(p,'n006',.0,.0,270.)
endfunction
function CreatePlayerBuildings takes nothing returns nothing
endfunction
function CreatePlayerUnits takes nothing returns nothing
endfunction
function CreateAllUnits takes nothing returns nothing
call CreateNeutralPassiveBuildings()
call CreatePlayerBuildings()
call CreatePlayerUnits()
endfunction
function CreateRegions takes nothing returns nothing
local weathereffect we
set gg_rct______________000=Rect(-5344.,-7584.,-4384.,-6848.)
endfunction
function CreateCameras takes nothing returns nothing
set gg_cam_Camera_001=CreateCameraSetup()
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_ZOFFSET,13.,.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_ROTATION,120.,.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_ANGLE_OF_ATTACK,336.,.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_TARGET_DISTANCE,1919.4,.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_FIELD_OF_VIEW,60.,.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_FARZ,5000.,.0)
call CameraSetupSetDestPosition(gg_cam_Camera_001,4666.5,-4180.1,.0)
set gg_cam_Camera_002=CreateCameraSetup()
call CameraSetupSetField(gg_cam_Camera_002,CAMERA_FIELD_ZOFFSET,.0,.0)
call CameraSetupSetField(gg_cam_Camera_002,CAMERA_FIELD_ROTATION,54.,.0)
call CameraSetupSetField(gg_cam_Camera_002,CAMERA_FIELD_ANGLE_OF_ATTACK,341.,.0)
call CameraSetupSetField(gg_cam_Camera_002,CAMERA_FIELD_TARGET_DISTANCE,2000.,.0)
call CameraSetupSetField(gg_cam_Camera_002,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(gg_cam_Camera_002,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)
call CameraSetupSetField(gg_cam_Camera_002,CAMERA_FIELD_FARZ,5000.,.0)
call CameraSetupSetDestPosition(gg_cam_Camera_002,-4447.3,-4802.3,.0)
set gg_cam_Camera_003=CreateCameraSetup()
call CameraSetupSetField(gg_cam_Camera_003,CAMERA_FIELD_ZOFFSET,.0,.0)
call CameraSetupSetField(gg_cam_Camera_003,CAMERA_FIELD_ROTATION,90.,.0)
call CameraSetupSetField(gg_cam_Camera_003,CAMERA_FIELD_ANGLE_OF_ATTACK,300.,.0)
call CameraSetupSetField(gg_cam_Camera_003,CAMERA_FIELD_TARGET_DISTANCE,1650.,.0)
call CameraSetupSetField(gg_cam_Camera_003,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(gg_cam_Camera_003,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)
call CameraSetupSetField(gg_cam_Camera_003,CAMERA_FIELD_FARZ,1880.,.0)
call CameraSetupSetDestPosition(gg_cam_Camera_003,-4828.1,-7290.2,.0)
endfunction
//***************************************************************************
//*
//*  Custom Script Code
//*
//***************************************************************************
function Upload_Data_Integer takes gamecache l__GC,string A,string B,integer C returns nothing
    call StoreInteger(l__GC, A, B, C)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=12
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetPlayerSlotState(Player(bj_forLoopAIndex - 1)) == PLAYER_SLOT_STATE_PLAYING ) ) then
            set udg_GC_Player=Player(bj_forLoopAIndex - 1)
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    if GetLocalPlayer() == udg_GC_Player then
        call SyncStoredInteger(udg_GC, A, B)
    endif
endfunction
//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************
function Trig_Initialization_uActions takes nothing returns nothing
local integer ydul_i
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
call ForceCinematicSubtitles(true)
set udg_yanse[1]="|cFFCC66CC"
set udg_yanse[2]="|cFF885ADD"
set udg_yanse[3]="|cFFFFFF00"
set udg_yanse[4]="|cFFFF0000"
set udg_yanse[5]="|cFF00CC33"
set udg_yanse[6]="|cffffcc00"
set udg_achievement_yanse[0]="|cFFFFFFFFLv.0|r"
set udg_achievement_yanse[1]="|cFFFFFF99Lv.|r|cFFFFFFFF1|r"
set udg_achievement_yanse[2]="|cFFFFFF00Lv.|r|cFFFFFFFF2|r"
set udg_achievement_yanse[3]="|cFF99FF66Lv.|r|cFFFFFFFF3|r"
set udg_achievement_yanse[4]="|cFF33CC00Lv.|r|cFFFFFFFF4|r"
set udg_achievement_yanse[5]="|cFF33CCCCLv.|r|cFFFFFFFF5|r"
set udg_achievement_yanse[6]="|cFF3366CCLv.|r|cFFFFFFFF6|r"
set udg_achievement_yanse[7]="|cFFFF6600Lv.|r|cFFFFFFFF7|r"
set udg_achievement_yanse[8]="|cFFFF3366Lv.|r|cFFFFFFFF8|r"
set udg_achievement_yanse[9]="|cFF6666FFLv.|r|cFFFFFFFF9|r"
set udg_achievement_yanse[10]="|cFF6600FFLv.|r|cFFFFFFFF10|r"
set udg_achievement_title[1]="|cFFFFFF99[菜鸟启程]|r"
set udg_achievement_title[2]="|cFFFFFF99[砖壁坚墙]|r"
set udg_achievement_title[3]="|cFFFFFF66[强装在手]|r"
set udg_achievement_title[4]="|cFF33CC00[ZB去死吧]|r"
set udg_achievement_title[5]="|cFF33CC00[指尖滑在肉上的感觉]|r"
set udg_achievement_title[6]="|cFF33CC00[黄金达人]|r"
set udg_achievement_title[7]="|cFF33CCCC[达官贵人]|r"
set udg_achievement_title[8]="|cFF33CCCC[可恶的刷钱货]|r"
set udg_achievement_title[9]="|cFF33CCCC[我爸是老僵，哦也]|r"
set udg_leve[1]=50
set udg_leve[2]=125
set udg_leve[3]=225
set udg_leve[4]=325
set udg_leve[5]=425
set udg_leve[6]=525
set udg_leve[7]=625
set udg_leve[8]=825
set udg_leve[9]=1000
set udg_leve[10]=1400
set udg_Number[97]=0
set udg_Speed[0]=40.

set udg_group_of_players[5] = CreateForce()

set bj_forLoopAIndex=2
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SetPlayerAllianceStateBJ(Player(0),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexA()),Player(0),bj_ALLIANCE_ALLIED)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop

//新增的动作
call YDWEPolledWaitNull(0.50)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3098AE2, 0)
    set ydul_i=1
    loop
        exitwhen ydul_i > 12
        if ( ( GetPlayerController(ConvertedPlayer(ydul_i)) == MAP_CONTROL_USER ) and ( GetPlayerSlotState(ConvertedPlayer(ydul_i)) == PLAYER_SLOT_STATE_PLAYING ) ) then
            call SaveStr(YDHT, GetHandleId(ConvertedPlayer(ydul_i)), 0x6F96F2D2, EXSYGetPlayerName(ydul_i))
            call ForceAddPlayer(udg_group_of_players[5], ConvertedPlayer(ydul_i))
        else
        endif
        set ydul_i=ydul_i + 1
    endloop
    call SaveStr(YDHT, GetHandleId(Player(0)), 0xBBAEF8F3, ( "|cFFFF0000" + LoadStr(YDHT, GetHandleId(Player(0)), 0x6F96F2D2) ))
    call SaveStr(YDHT, GetHandleId(Player(1)), 0xBBAEF8F3, ( "|cFF0041FF" + LoadStr(YDHT, GetHandleId(Player(1)), 0x6F96F2D2) ))
    call SaveStr(YDHT, GetHandleId(Player(2)), 0xBBAEF8F3, ( "|cFF1BE6B8" + LoadStr(YDHT, GetHandleId(Player(2)), 0x6F96F2D2) ))
    call SaveStr(YDHT, GetHandleId(Player(3)), 0xBBAEF8F3, ( "|cFF530080" + LoadStr(YDHT, GetHandleId(Player(3)), 0x6F96F2D2) ))
    call SaveStr(YDHT, GetHandleId(Player(4)), 0xBBAEF8F3, ( "|cFFFFFF00" + LoadStr(YDHT, GetHandleId(Player(4)), 0x6F96F2D2) ))
    call SaveStr(YDHT, GetHandleId(Player(5)), 0xBBAEF8F3, ( "|cFFFF8400" + LoadStr(YDHT, GetHandleId(Player(5)), 0x6F96F2D2) ))
    call SaveStr(YDHT, GetHandleId(Player(6)), 0xBBAEF8F3, ( "|cFF1FBF00" + LoadStr(YDHT, GetHandleId(Player(6)), 0x6F96F2D2) ))
    call SaveStr(YDHT, GetHandleId(Player(7)), 0xBBAEF8F3, ( "|cFFE55AAF" + LoadStr(YDHT, GetHandleId(Player(7)), 0x6F96F2D2) ))
    call SaveStr(YDHT, GetHandleId(Player(8)), 0xBBAEF8F3, ( "|cFF949596" + LoadStr(YDHT, GetHandleId(Player(8)), 0x6F96F2D2) ))
    call SaveStr(YDHT, GetHandleId(Player(9)), 0xBBAEF8F3, ( "|cFF7DBEF1" + LoadStr(YDHT, GetHandleId(Player(9)), 0x6F96F2D2) ))
    call SaveStr(YDHT, GetHandleId(Player(10)), 0xBBAEF8F3, ( "|cFF0F6145" + LoadStr(YDHT, GetHandleId(Player(10)), 0x6F96F2D2) ))
    call SaveStr(YDHT, GetHandleId(Player(11)), 0xBBAEF8F3, ( "|cFF4D2900" + LoadStr(YDHT, GetHandleId(Player(11)), 0x6F96F2D2) ))
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=12
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_achievement_players[GetForLoopIndexA()]=1
        if ( ( LoadBoolean(YDHT, GetHandleId(ConvertedPlayer(GetForLoopIndexA())), 0x7DEE92F8) == false ) and ( LoadBoolean(YDHT, GetHandleId(ConvertedPlayer(GetForLoopIndexA())), 0x4AD04EF9) == false ) and ( LoadBoolean(YDHT, GetHandleId(ConvertedPlayer(GetForLoopIndexA())), 0x80DEA918) == false ) ) then
            call SetPlayerName(ConvertedPlayer(GetForLoopIndexA()), ( udg_achievement_yanse[0] + LoadStr(YDHT, GetHandleId(ConvertedPlayer(GetForLoopIndexA())), 0xBBAEF8F3) ))
        else
            if ( ( LoadBoolean(YDHT, GetHandleId(ConvertedPlayer(GetForLoopIndexA())), 0x7DEE92F8) == true ) ) then
                call SetPlayerName(ConvertedPlayer(GetForLoopIndexA()), ( "[|cFFFF0000VIP|r1]" + LoadStr(YDHT, GetHandleId(ConvertedPlayer(GetForLoopIndexA())), 0xBBAEF8F3) ))
            else
                if ( ( LoadBoolean(YDHT, GetHandleId(ConvertedPlayer(GetForLoopIndexA())), 0x4AD04EF9) == true ) ) then
                    call SetPlayerName(ConvertedPlayer(GetForLoopIndexA()), ( "[|cFFFF0000VIP|r2]" + LoadStr(YDHT, GetHandleId(ConvertedPlayer(GetForLoopIndexA())), 0xBBAEF8F3) ))
                else
                    if ( ( LoadBoolean(YDHT, GetHandleId(ConvertedPlayer(GetForLoopIndexA())), 0x80DEA918) == true ) ) then
                        call SetPlayerName(ConvertedPlayer(GetForLoopIndexA()), ( "[|cFFFF0000VIP|r3]" + LoadStr(YDHT, GetHandleId(ConvertedPlayer(GetForLoopIndexA())), 0xBBAEF8F3) ))
                    else
                    endif
                endif
            endif
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
function InitTrig_Initialization_u takes nothing returns nothing
set gg_trg_Initialization_u=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_Initialization_u,2.)
call TriggerAddAction(gg_trg_Initialization_u,function Trig_Initialization_uActions)
endfunction
function Trig_chooseActions takes nothing returns nothing
call TriggerExecute(gg_trg_Explain_u)
endfunction
function InitTrig_choose takes nothing returns nothing
set gg_trg_choose=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_choose,5)
call TriggerAddAction(gg_trg_choose,function Trig_chooseActions)
endfunction
function Trig_choose_fzActions takes nothing returns nothing
local integer ydul_i
if((GetClickedButtonBJ()==LoadButtonHandle(YDHT,GetHandleId(udg_Choose),0x400B680E)))then
if((LoadBoolean(YDHT,GetHandleId(udg_Choose),0x11CB4EC6)==false)and(IsUnitGroupEmptyBJ(udg_mod)==true))then
call DisplayTextToPlayer(Player(0),0,0,(udg_yanse[GetRandomInt(1,6)]+"草泥马- .-"))
call PlaySoundBJ(gg_snd_Error)
call DialogDisplay(Player(0),udg_Choose,true)
else
call DialogClear(udg_Choose)
call DialogDisplay(Player(0),udg_Choose,false)
set ydul_i=2
loop
exitwhen ydul_i>12
call DisplayTextToPlayer(ConvertedPlayer(ydul_i),0,0,(udg_yanse[GetRandomInt(1,6)]+"主机开始了游戏"))
set ydul_i=ydul_i+1
endloop
call TriggerExecute(gg_trg_Explain_u)
call DestroyTrigger(GetTriggeringTrigger())
endif
else
call ClearTextMessages()
if((GetClickedButtonBJ()==LoadButtonHandle(YDHT,GetHandleId(udg_Choose),0x41DCC784)))then
if((LoadBoolean(YDHT,GetHandleId(udg_Choose),0x11CB4EC6)==true))then
set ydul_i=1
loop
exitwhen ydul_i>12
call DisplayTextToPlayer(ConvertedPlayer(ydul_i),0,0,(udg_yanse[GetRandomInt(1,6)]+"主机关闭了普通模式"))
set ydul_i=ydul_i+1
endloop
call SaveBoolean(YDHT,GetHandleId(udg_Choose),0x11CB4EC6,false)
else
set ydul_i=1
loop
exitwhen ydul_i>12
call DisplayTextToPlayer(ConvertedPlayer(ydul_i),0,0,(udg_yanse[GetRandomInt(1,6)]+"主机开启了普通模式"))
set ydul_i=ydul_i+1
endloop
call SaveBoolean(YDHT,GetHandleId(udg_Choose),0x11CB4EC6,true)
endif
else
endif
if((GetClickedButtonBJ()==LoadButtonHandle(YDHT,GetHandleId(udg_Choose),0x35F68998)))then
if((IsUnitInGroup(gg_unit_ngme_0050,udg_mod)==true))then
set ydul_i=1
loop
exitwhen ydul_i>12
call DisplayTextToPlayer(ConvertedPlayer(ydul_i),0,0,(udg_yanse[GetRandomInt(1,6)]+"主机关闭了复仇天神模式"))
set ydul_i=ydul_i+1
endloop
call GroupRemoveUnit(udg_mod,gg_unit_ngme_0050)
else
set ydul_i=1
loop
exitwhen ydul_i>12
call DisplayTextToPlayer(ConvertedPlayer(ydul_i),0,0,(udg_yanse[GetRandomInt(1,6)]+"主机开启了复仇天神模式"))
set ydul_i=ydul_i+1
endloop
call GroupAddUnit(udg_mod,gg_unit_ngme_0050)
endif
else
endif
call DialogClear(udg_Choose)
call DialogSetMessage(udg_Choose,"设置模式")
if((LoadBoolean(YDHT,GetHandleId(udg_Choose),0x11CB4EC6)==true))then
call SaveButtonHandle(YDHT,GetHandleId(udg_Choose),0x41DCC784,DialogAddButton(udg_Choose,"关闭普通模式",0))
else
call SaveButtonHandle(YDHT,GetHandleId(udg_Choose),0x41DCC784,DialogAddButton(udg_Choose,"开启普通模式",0))
endif
if((IsUnitInGroup(gg_unit_ngme_0050,udg_mod)==true))then
call SaveButtonHandle(YDHT,GetHandleId(udg_Choose),0x35F68998,DialogAddButton(udg_Choose,"关闭复仇天神模式",0))
else
call SaveButtonHandle(YDHT,GetHandleId(udg_Choose),0x35F68998,DialogAddButton(udg_Choose,"开启复仇天神模式",0))
endif
call SaveButtonHandle(YDHT,GetHandleId(udg_Choose),0x400B680E,DialogAddButton(udg_Choose,"开始游戏",0))
call DialogDisplay(Player(0),udg_Choose,true)
endif
endfunction


function InitTrig_choose_fz takes nothing returns nothing
set gg_trg_choose_fz=CreateTrigger()
call TriggerRegisterDialogEvent(gg_trg_choose_fz,udg_Choose)
call TriggerAddAction(gg_trg_choose_fz,function Trig_choose_fzActions)
endfunction
function Trig_Explain_uFunc008002001001 takes nothing returns boolean
return(((GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER)))
endfunction
function Trig_Explain_uFunc016T takes nothing returns nothing
call FogEnable(true)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Explain_uFunc018Func023Func002Func003003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)or(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true))))
endfunction
function Trig_Explain_uFunc018Func023Func002T takes nothing returns nothing
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2,(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)+1))
call SaveGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)),Condition(function Trig_Explain_uFunc018Func023Func002Func003003002)))
if((GetPlayerSlotState(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)))==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)))==MAP_CONTROL_USER)and(IsUnitGroupEmptyBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC))==true)and(LoadBoolean(YDHT,GetHandleId(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2))),0x602978BD)!=true))then
call ForceAddPlayer(udg_group_of_players[1],ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)))
call SetPlayerStateBJ(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)),PLAYER_STATE_RESOURCE_LUMBER,15)
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80,GetUnitLoc(GroupPickRandomUnit(udg_group_dian)))
call SetPlayerTechMaxAllowedSwap('h008',5,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)))
call SetPlayerTechMaxAllowedSwap('h00L',1,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)))
call SetPlayerTechMaxAllowedSwap('h00N',1,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)))
call SetPlayerTechMaxAllowedSwap('h00Q',1,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)))
call SetPlayerTechMaxAllowedSwap('h01S',1,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)))
call SetPlayerTechMaxAllowedSwap('h04X',1,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)))
call CreateNUnitsAtLoc(1,'hpea',ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80),bj_UNIT_FACING)
if((IsUnitAliveBJ(bj_lastCreatedUnit)==true)and(bj_lastCreatedUnit!=null))then
call UnitAddItemByIdSwapped('I000',bj_lastCreatedUnit)
else
endif
call PanCameraToTimedLocForPlayer(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80),.2)
call SelectUnitForPlayerSingle(bj_lastCreatedUnit,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
else
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC))
set udg_Number[37]=CountPlayersInForceBJ(udg_group_of_players[1])
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)==12))then
call DisableTrigger(gg_trg_Players_born)
call DestroyTrigger(gg_trg_Players_born)
call DestroyTrigger(gg_trg_Explain_u)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Explain_uFunc018Func023T takes nothing returns nothing
local timer ydl_timer
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x6859183B,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x6859183B)
call SaveInteger(YDHT,GetHandleId(ydl_timer),0xA3098AE2,0)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x24C3BB80,LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
call SaveGroupHandle(YDHT,GetHandleId(ydl_timer),0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC))
call TimerStart(ydl_timer,.3,true,function Trig_Explain_uFunc018Func023Func002T)
call EnableTrigger(gg_trg_Vote_kicking)
call EnableTrigger(gg_trg_Vote_kicking_fz)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
set ydl_timer=null
endfunction
function Trig_Explain_uFunc018T takes nothing returns nothing
local timer ydl_timer
call ClearTextMessages()
call EnableTrigger(gg_trg_Players_born)
call EnableTrigger(gg_trg_players_exit1)
call DisableTrigger(gg_trg_players_exit3)
call DestroyTrigger(gg_trg_players_exit3)
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=12
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call DisplayTimedTextToPlayer(ConvertedPlayer(GetForLoopIndexB()),.55,.5,2.,"|cffffcc00请按下Esc键创建角色，否则将在10秒后自动创建角色")
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,udg_achievement_title[1],"|cFFFFFF99[菜鸟启程]|r\n|cFF339900Ep：|r10\n成就条件：\n|cFF0041FF人类：|r第一次将【开采场】的开采效率升至满级\n|cFFFF0000僵尸：|r第一次装备【终结之爪】/【风速手套】/【病毒强化符】(任选其一)","ReplaceableTextures\\CommandButtons\\BTNStaffOfPreservation.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,udg_achievement_title[2],"|cFFFFFF99[砖壁坚墙]|r\n|cFF339900Ep：|r10\n成就条件：\n|cFF0041FF人类：|r第一次将【石柱】/【地刺石墙】的岩石防御力升至30级","ReplaceableTextures\\CommandButtons\\BTNDefend.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,udg_achievement_title[3],"|cFFFFFF66[强装在手]|r\n|cFF339900Ep：|r15\n成就条件：\n|cFFFF0000僵尸：|r第一次装备【嗜血之爪】/【异复之衣】/【幽冥手套】(任选其一)","ReplaceableTextures\\CommandButtons\\BTNTransmute.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,udg_achievement_title[4],"|cFF33CC00[ZB去死吧]|r\n|cFF339900Ep：|r20\n成就条件：\n|cFF0041FF人类：|r第一次杀一只僵尸","ReplaceableTextures\\CommandButtons\\BTNRaiseDead.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,udg_achievement_title[5],"|cFF33CC00[指尖滑在肉上的感觉]|r\n|cFF339900Ep：|r20\n成就条件：\n|cFFFF0000僵尸：|r第一次感染一个人类","ReplaceableTextures\\CommandButtons\\BTNImprovedStrengthOfTheWild.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,udg_achievement_title[6],"|cFF33CC00[黄金达人]|r\n|cFF339900Ep：|r20\n成就条件：\n|cFF0041FF人类：|r第一次将黄金收益升级到14级","ReplaceableTextures\\CommandButtons\\BTNChestOfGold.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,udg_achievement_title[7],"|cFF33CCCC[达官贵人]|r\n|cFF339900Ep：|r25\n成就条件：\n|cFF0041FF人类：|r在某一时刻，你石料与黄金的现有量都大于或等于10000","ReplaceableTextures\\CommandButtons\\BTNEnchantedCrows.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,udg_achievement_title[8],"|cFF33CCCC[可恶的刷钱货]|r\n|cFF339900Ep：|r25\n成就条件：\n|cFFFF0000僵尸：|r在某一时刻你拥有的黄金大于等于10000","ReplaceableTextures\\CommandButtons\\BTNPillage.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,udg_achievement_title[9],"|cFF33CCCC[我爸是老僵，哦也]|r\n|cFF339900Ep：|r25\n成就条件：\n|cFF0041FF人类：|r你使得僵尸刷到了很多钱，但你的箭塔攻击却很低","ReplaceableTextures\\CommandButtons\\BTNDestroyer.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"指令\n","-ach                    显示已获得的成就\n-hfhp                   在1.20e版本下输入可显示血条(需在浩方进行游戏)\n-ea+空格+数字           装备成就，使某成就成为你的称号(数字为你输入-ach看到某成就名称前面的数字编码)\n-kick+空格+玩家编号     投票踢人\n-MH                     检测并踢掉全图玩家","ReplaceableTextures\\CommandButtons\\BTNSorceressMaster.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"人类发展","人类一来，必须快速找准位置，前期先造个石墙堵个路，但别升级，家里再造5个开采场，一直升级开采效率，效率到4级时，建个市场，黄金一到40就换石料，把开采效率升满(途中，要是你被僵尸发现了，就把当前石料全升级石","ReplaceableTextures\\CommandButtons\\BTNTemp.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"僵尸发展","僵尸一开始，如果发现人类的开采场的话，千万别打爆，因为开采场不是满血状态的话就不会工作(加石料)，而且开采场有限制，这样的话，他就会少一个加石料的建筑。前期任务就是刷钱，才有力量对抗后期的人类。","ReplaceableTextures\\CommandButtons\\BTNDoom.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"致谢","|cFFFFFF00感谢玩家们的大力支持...|r\n感谢以下助手：\n|cFF0066CC神经の洨鬼\n|cFF33FF66神经の小新\n|cFFCC6633神经の狂草\n|cFFFE9FD8①号QQ群：48192644\n|cFFFE9FD8②号QQ群：254844126\n|r|cFFCCFF66PS：如大家觉得这图好玩，请加QQ群\n|cFFFE9FD8官方YY：34737\n|cFF33CC00测试人员名单：|r(暂不完全)\n神经の狂草 神经の洨鬼 神经の小新 神经の小牛\n神经の光环 神经の二哥 神经の老二 神经の农民\n逗比       梦魇       APM65      不唱悲歌\n演员       Ghost天魔  111111     残月\n另类       @@         神经の灰尘","ReplaceableTextures\\CommandButtons\\BTNDeathPact.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"原生态魔力宝贝","|cFF0066CC原生态魔力宝贝是一款Q版回合制客户端游戏，10年前以中国回合制鼻祖的身份出现在各个网吧内。虽然是回合制游戏的鼻祖，但画面精细度一点不输给梦幻西游等抄袭之作。人物、宠物的数值计算也堪称精细中的精细。欢迎各位新老玩家前来体验。地址：lh.ystml.com","LoadingScreenBL.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"僵尸无线电系统","僵尸指令无线电：\n(直接在聊天里输入这些文字即可)\n|cFFCCFF66明白指令：|r\n明白\nOK\n没问题\n可以\n行\n|cFFCCFF66GO指令：|r\n冲啊\nGO\ngo\n上\n我们上！\n|cFFCCFF66需要支援指令：|r\n快来帮我\n我快不行了\n需要支援\n大家快来\n支援�","ReplaceableTextures\\CommandButtons\\BTNSpiritLink.blp")
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x24C3BB80,LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
call SaveGroupHandle(YDHT,GetHandleId(ydl_timer),0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x6859183B,LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x6859183B))
call TimerStart(ydl_timer,10.,false,function Trig_Explain_uFunc018Func023T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
set ydl_timer=null
endfunction
function Trig_Explain_uActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call StartTimerBJ(udg_Jishiqi[1],false,60.)
call CreateTimerDialogBJ(udg_Jishiqi[1],"病毒寻找宿主...")
call TimerDialogSetTitleColorBJ(GetLastCreatedTimerDialogBJ(),100,10.,.0,0)
call TimerDialogSetTimeColor(bj_lastCreatedTimerDialog,255,0,155,255)
set udg_chuangkou=bj_lastCreatedTimerDialog
call TimerDialogSetSpeed(udg_chuangkou,60.)
call StartTimerBJ(udg_Jishiqi[0],false,37.)
set udg_Number[0]=CountPlayersInForceBJ(YDWEGetPlayersMatchingNull(Condition(function Trig_Explain_uFunc008002001001)))
call SaveGroupHandle(YDHT,GetHandleId(gg_trg_Wind_blade_pitfalls),0x214C62CC,CreateGroup())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexA()),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_UNALLIED)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetCreepCampFilterState(false)
call FogEnable(false)
call FogMaskEnable(false)
call CreateFogModifierRectBJ(true,Player(PLAYER_NEUTRAL_PASSIVE),FOG_OF_WAR_VISIBLE,GetPlayableMapRect())
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call TimerStart(ydl_timer,.03,false,function Trig_Explain_uFunc016T)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x24C3BB80,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call SaveGroupHandle(YDHT,GetHandleId(ydl_timer),0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x6859183B,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6859183B))
call TimerStart(ydl_timer,1.,false,function Trig_Explain_uFunc018T)
set udg_small_zb[0]='u000'
set udg_small_zb[1]='u001'
set udg_small_zb[2]='u003'
set udg_small_zb[3]='u004'
set udg_small_zb[4]='u005'
set udg_small_zb[5]='u009'
set udg_small_zb[6]='u006'
call GroupAddUnit(udg_group_dian,gg_unit_h000_0002)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0003)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0004)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0005)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0006)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0015)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0017)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0018)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0019)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0020)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0021)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0022)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0023)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0024)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0025)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0026)
call GroupAddUnit(udg_group_dian,gg_unit_h000_0027)
call GroupAddUnit(udg_group_both,gg_unit_h000_0002)
call GroupAddUnit(udg_group_both,gg_unit_h000_0003)
call GroupAddUnit(udg_group_both,gg_unit_h000_0004)
call GroupAddUnit(udg_group_both,gg_unit_h000_0005)
call GroupAddUnit(udg_group_both,gg_unit_h000_0006)
call GroupAddUnit(udg_group_both,gg_unit_h000_0015)
call GroupAddUnit(udg_group_both,gg_unit_h000_0017)
call GroupAddUnit(udg_group_both,gg_unit_h000_0018)
call GroupAddUnit(udg_group_both,gg_unit_h000_0019)
call GroupAddUnit(udg_group_both,gg_unit_h000_0020)
call GroupAddUnit(udg_group_both,gg_unit_h000_0021)
call GroupAddUnit(udg_group_both,gg_unit_h000_0022)
call GroupAddUnit(udg_group_both,gg_unit_h000_0023)
call GroupAddUnit(udg_group_both,gg_unit_h000_0024)
call GroupAddUnit(udg_group_both,gg_unit_h000_0025)
call GroupAddUnit(udg_group_both,gg_unit_h000_0026)
call GroupAddUnit(udg_group_both,gg_unit_h000_0027)
call GroupRemoveUnit(udg_group_both,gg_unit_h000_0027)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Explain_u takes nothing returns nothing
set gg_trg_Explain_u=CreateTrigger()
call TriggerAddAction(gg_trg_Explain_u,function Trig_Explain_uActions)
endfunction
function Trig_Players_bornFunc003003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)or(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true))))
endfunction
function Trig_Players_bornActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,GetConvertedPlayerId(GetTriggerPlayer()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)),Condition(function Trig_Players_bornFunc003003002)))
if((GetPlayerSlotState(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))==MAP_CONTROL_USER)and(IsUnitGroupEmptyBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))==true))then
call ForceAddPlayer(udg_group_of_players[1],ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))
call SetPlayerStateBJ(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)),PLAYER_STATE_RESOURCE_LUMBER,15)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GroupPickRandomUnit(udg_group_dian)))
call SetPlayerTechMaxAllowedSwap('h008',5,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))
call SetPlayerTechMaxAllowedSwap('h00L',1,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))
call SetPlayerTechMaxAllowedSwap('h00N',1,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))
call SetPlayerTechMaxAllowedSwap('h00Q',1,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))
call SetPlayerTechMaxAllowedSwap('h01S',1,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))
call SetPlayerTechMaxAllowedSwap('h04X',1,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))
call CreateNUnitsAtLoc(1,'hpea',ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),bj_UNIT_FACING)
if((IsUnitAliveBJ(bj_lastCreatedUnit)==true)and(bj_lastCreatedUnit!=null))then
call UnitAddItemByIdSwapped('I000',bj_lastCreatedUnit)
else
endif
call PanCameraToTimedLocForPlayer(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),.2)
call SelectUnitForPlayerSingle(bj_lastCreatedUnit,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Players_born takes nothing returns nothing
set gg_trg_Players_born=CreateTrigger()
call DisableTrigger(gg_trg_Players_born)
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(0))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(1))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(2))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(3))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(4))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(5))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(6))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(7))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(8))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(9))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(10))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(11))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(12))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(13))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(14))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Players_born,Player(15))
call TriggerAddAction(gg_trg_Players_born,function Trig_Players_bornActions)
endfunction
function Trig_Countdown_uFunc003T takes nothing returns nothing
call StopSoundBJ(gg_snd_zombi_start,true)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Countdown_uFunc005T takes nothing returns nothing
call PlaySoundBJ(gg_snd_10)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Countdown_uFunc007T takes nothing returns nothing
call PlaySoundBJ(gg_snd_9)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Countdown_uFunc009T takes nothing returns nothing
call PlaySoundBJ(gg_snd_8)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Countdown_uFunc011T takes nothing returns nothing
call PlaySoundBJ(gg_snd_7)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Countdown_uFunc013T takes nothing returns nothing
call PlaySoundBJ(gg_snd_6)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Countdown_uFunc015T takes nothing returns nothing
call PlaySoundBJ(gg_snd_5)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Countdown_uFunc017T takes nothing returns nothing
call PlaySoundBJ(gg_snd_4)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Countdown_uFunc019T takes nothing returns nothing
call PlaySoundBJ(gg_snd_3)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Countdown_uFunc021T takes nothing returns nothing
call PlaySoundBJ(gg_snd_2)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Countdown_uFunc023T takes nothing returns nothing
call PlaySoundBJ(gg_snd_1)
call DestroyTrigger(gg_trg_Countdown_u)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Countdown_uActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_zombi_start)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x21512F50,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x21512F50)
call TimerStart(ydl_timer,12.,false,function Trig_Countdown_uFunc003T)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x44A30695,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x44A30695)
call TimerStart(ydl_timer,13.,false,function Trig_Countdown_uFunc005T)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3FD683A7,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3FD683A7)
call TimerStart(ydl_timer,14.,false,function Trig_Countdown_uFunc007T)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x50138BC8,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x50138BC8)
call TimerStart(ydl_timer,15.,false,function Trig_Countdown_uFunc009T)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x13714C7A,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x13714C7A)
call TimerStart(ydl_timer,16.,false,function Trig_Countdown_uFunc011T)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x49914E59,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x49914E59)
call TimerStart(ydl_timer,17.,false,function Trig_Countdown_uFunc013T)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD44DE83E,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD44DE83E)
call TimerStart(ydl_timer,18.,false,function Trig_Countdown_uFunc015T)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6DFC0084,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6DFC0084)
call TimerStart(ydl_timer,19.,false,function Trig_Countdown_uFunc017T)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xEC9BF76D,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xEC9BF76D)
call TimerStart(ydl_timer,20.,false,function Trig_Countdown_uFunc019T)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6859183B,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6859183B)
call TimerStart(ydl_timer,21.,false,function Trig_Countdown_uFunc021T)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED)
call TimerStart(ydl_timer,22.,false,function Trig_Countdown_uFunc023T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Countdown_u takes nothing returns nothing
set gg_trg_Countdown_u=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Countdown_u,udg_Jishiqi[0])
call TriggerAddAction(gg_trg_Countdown_u,function Trig_Countdown_uActions)
endfunction
function Trig_Count_downFunc002T takes nothing returns nothing
endfunction
function Trig_Count_downActions takes nothing returns nothing
call TriggerExecute(gg_trg_ordinary)
endfunction
function InitTrig_Count_down takes nothing returns nothing
set gg_trg_Count_down=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Count_down,udg_Jishiqi[1])
call TriggerAddAction(gg_trg_Count_down,function Trig_Count_downActions)
endfunction
function Trig_article_readyFunc004A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(),true)
endfunction
function Trig_article_readyActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_UNALLIED)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_article_readyFunc004A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=12
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call DisplayTimedTextToPlayer(ConvertedPlayer(GetForLoopIndexB()),.0,.0,60.,"|cFFFFFF00感谢玩家们的大力支持...|r\n|cFFFF33CC盗版盛行，请大家明目双眼，正版是持续更新和发布在网上的，不可能\n跳跃版本，若有例外，我会在发布时说明，而且，正版\n的版本号是V1.XX 字母(A~E)，字母永远不会超过E|r\n|cFFFFFF00最新版本：|r\n1.10B\n|cFFFFFF00盗版关键词：|r\n|cFFFF33CC2.0/起源之战/世纪之战/神器版/加速版/1.29/5.0/正式版/最终版……")
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
call SaveReal(YDHT,GetHandleId(gg_trg_Human_skill_20),0xA3098AE2,60.)
call SaveBoolean(YDHT,'I00O',0xAC97B664,true)
call SaveBoolean(YDHT,'I00P',0xAC97B664,true)
call SaveBoolean(YDHT,'I00Q',0xAC97B664,true)
call SaveBoolean(YDHT,'I01C',0xAC97B664,true)
call SaveBoolean(YDHT,'I01D',0xAC97B664,true)
call SaveBoolean(YDHT,'I01E',0xAC97B664,true)
call SaveBoolean(YDHT,'I00S',0xAC97B664,true)
call SaveBoolean(YDHT,'I00T',0xAC97B664,true)
call SaveBoolean(YDHT,'I00U',0xAC97B664,true)
call SaveBoolean(YDHT,'I011',0xAC97B664,true)
call SaveBoolean(YDHT,'I012',0xAC97B664,true)
call SaveBoolean(YDHT,'I010',0xAC97B664,true)
call SaveBoolean(YDHT,'I00W',0xAC97B664,true)
call SaveBoolean(YDHT,'I00X',0xAC97B664,true)
call SaveBoolean(YDHT,'I00Y',0xAC97B664,true)
call SaveBoolean(YDHT,'I018',0xAC97B664,true)
call SaveBoolean(YDHT,'I019',0xAC97B664,true)
call SaveBoolean(YDHT,'I01A',0xAC97B664,true)
call SaveBoolean(YDHT,'I014',0xAC97B664,true)
call SaveBoolean(YDHT,'I015',0xAC97B664,true)
call SaveBoolean(YDHT,'I016',0xAC97B664,true)
call SaveBoolean(YDHT,'I028',0xAC97B664,true)
call SaveBoolean(YDHT,'I029',0xAC97B664,true)
call SaveBoolean(YDHT,'I02A',0xAC97B664,true)
call SaveBoolean(YDHT,'I048',0xAC97B664,true)
call SaveBoolean(YDHT,'I049',0xAC97B664,true)
call SaveBoolean(YDHT,'I047',0xAC97B664,true)
call SaveBoolean(YDHT,'I009',0xAC97B664,true)
call SaveBoolean(YDHT,'I005',0xAC97B664,true)
call SaveBoolean(YDHT,'I01M',0xAC97B664,true)
call SaveBoolean(YDHT,'I002',0xAC97B664,true)
call SaveBoolean(YDHT,'I003',0xAC97B664,true)
call SaveBoolean(YDHT,'I004',0xAC97B664,true)
call SaveBoolean(YDHT,'I008',0xAC97B664,true)
call SaveBoolean(YDHT,'I006',0xAC97B664,true)
call SaveBoolean(YDHT,'I007',0xAC97B664,true)
call SaveBoolean(YDHT,'I00H',0xAC97B664,true)
call SaveBoolean(YDHT,'I01O',0xAC97B664,true)
call SaveBoolean(YDHT,'I01I',0xAC97B664,true)
call SaveBoolean(YDHT,'I01K',0xAC97B664,true)
call SaveBoolean(YDHT,'I00J',0xAC97B664,true)
call SaveBoolean(YDHT,'I01F',0xAC97B664,true)
call SaveBoolean(YDHT,'I001',0xAC97B664,true)
call SaveBoolean(YDHT,'I01L',0xAC97B664,true)
call SaveBoolean(YDHT,'I00G',0xAC97B664,true)
call SaveBoolean(YDHT,'I01N',0xAC97B664,true)
call SaveBoolean(YDHT,'I01H',0xAC97B664,true)
call SaveBoolean(YDHT,'I01J',0xAC97B664,true)
call SaveBoolean(YDHT,'I00I',0xAC97B664,true)
call SaveBoolean(YDHT,'I01G',0xAC97B664,true)
call SaveBoolean(YDHT,'I00N',0xAC97B664,true)
call SaveBoolean(YDHT,'I013',0xAC97B664,true)
call SaveBoolean(YDHT,'I01B',0xAC97B664,true)
call SaveBoolean(YDHT,'I00R',0xAC97B664,true)
call SaveBoolean(YDHT,'I00Z',0xAC97B664,true)
call SaveBoolean(YDHT,'I00V',0xAC97B664,true)
call SaveBoolean(YDHT,'I017',0xAC97B664,true)
call SaveBoolean(YDHT,'I027',0xAC97B664,true)
call SaveBoolean(YDHT,'I046',0xAC97B664,true)
call SaveBoolean(YDHT,'rat6',0xAC97B664,true)
call SaveBoolean(YDHT,'rat9',0xAC97B664,true)
call SaveBoolean(YDHT,'ratc',0xAC97B664,true)
call SaveBoolean(YDHT,'I024',0xAC97B664,true)
call SaveBoolean(YDHT,'I025',0xAC97B664,true)
call SaveBoolean(YDHT,'I026',0xAC97B664,true)
call SaveBoolean(YDHT,'I02B',0xAC97B664,true)
call SaveBoolean(YDHT,'I02C',0xAC97B664,true)
call SaveBoolean(YDHT,'I02D',0xAC97B664,true)
call SaveBoolean(YDHT,'I02E',0xAC97B664,true)
call SaveBoolean(YDHT,'I02F',0xAC97B664,true)
call SaveBoolean(YDHT,'I02G',0xAC97B664,true)
call SaveBoolean(YDHT,'I01R',0xAC97B664,true)
call SaveBoolean(YDHT,'I01T',0xAC97B664,true)
call SaveBoolean(YDHT,'I04H',0xAC97B664,true)
call SaveBoolean(YDHT,'I04N',0xAC97B664,true)
call SaveBoolean(YDHT,'I022',0xAC97B664,true)
call SaveBoolean(YDHT,'I01U',0xAC97B664,true)
call SaveBoolean(YDHT,'I01Y',0xAC97B664,true)
call SaveBoolean(YDHT,'I04I',0xAC97B664,true)
call SaveBoolean(YDHT,'I01Q',0xAC97B664,true)
call SaveBoolean(YDHT,'I02H',0xAC97B664,true)
call SaveBoolean(YDHT,'I02J',0xAC97B664,true)
call SaveBoolean(YDHT,'I02L',0xAC97B664,true)
call SaveBoolean(YDHT,'I01S',0xAC97B664,true)
call SaveBoolean(YDHT,'I01V',0xAC97B664,true)
call SaveBoolean(YDHT,'I01W',0xAC97B664,true)
call SaveBoolean(YDHT,'I01X',0xAC97B664,true)
call SaveBoolean(YDHT,'I021',0xAC97B664,true)
call SaveBoolean(YDHT,'I01Z',0xAC97B664,true)
call SaveBoolean(YDHT,'I020',0xAC97B664,true)
call SaveBoolean(YDHT,'I023',0xAC97B664,true)
call SaveBoolean(YDHT,'I02I',0xAC97B664,true)
call SaveBoolean(YDHT,'I02K',0xAC97B664,true)
call SaveBoolean(YDHT,'I02M',0xAC97B664,true)
call SaveBoolean(YDHT,'I04D',0xAC97B664,true)
call SaveBoolean(YDHT,'I04E',0xAC97B664,true)
call SaveBoolean(YDHT,'I04F',0xAC97B664,true)
call SaveBoolean(YDHT,'I04G',0xAC97B664,true)
call SaveBoolean(YDHT,'I04J',0xAC97B664,true)
call SaveBoolean(YDHT,'I04K',0xAC97B664,true)
call SaveBoolean(YDHT,'I04L',0xAC97B664,true)
call SaveBoolean(YDHT,'I04M',0xAC97B664,true)
call SaveBoolean(YDHT,'plcl',0xF98FE75E,true)
call SaveBoolean(YDHT,'pnvl',0xF98FE75E,true)
call SaveBoolean(YDHT,'I00A',0xF98FE75E,true)
call SaveBoolean(YDHT,'I01P',0xF98FE75E,true)
call SaveBoolean(YDHT,'I00F',0xF98FE75E,true)
call SaveBoolean(YDHT,'I04A',0xF98FE75E,true)
call SaveInteger(YDHT,'A02I',0x24D4688D,'I00W')
call SaveInteger(YDHT,'A02I',0x70432FFB,'I00X')
call SaveInteger(YDHT,'A02I',0xC7D70C5B,'I00Y')
call SaveReal(YDHT,'A02I',0x3B60835B,30.)
call SaveInteger(YDHT,'A01M',0x24D4688D,'I01C')
call SaveInteger(YDHT,'A01M',0x70432FFB,'I01D')
call SaveInteger(YDHT,'A01M',0xC7D70C5B,'I01E')
call SaveInteger(YDHT,'A01P',0x24D4688D,'I01C')
call SaveInteger(YDHT,'A01P',0x70432FFB,'I01D')
call SaveInteger(YDHT,'A01P',0xC7D70C5B,'I01E')
call SaveReal(YDHT,'A01P',0x3B60835B,15.)
call SaveReal(YDHT,'A01M',0x3B60835B,15.)
call SaveReal(YDHT,'A01O',0x3B60835B,15.)
call SaveInteger(YDHT,'A01L',0x24D4688D,'I018')
call SaveInteger(YDHT,'A01L',0x70432FFB,'I019')
call SaveInteger(YDHT,'A01L',0xC7D70C5B,'I01A')
call SaveReal(YDHT,'A01L',0x3B60835B,60.)
call SaveInteger(YDHT,'A03G',0x24D4688D,'I028')
call SaveInteger(YDHT,'A03G',0x70432FFB,'I029')
call SaveInteger(YDHT,'A03G',0xC7D70C5B,'I02A')
call SaveReal(YDHT,'A03G',0x3B60835B,25.)
call SaveBoolean(YDHT,'I00K',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I02R',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I02Z',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I02P',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I02V',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I02X',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I033',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I034',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I035',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I04R',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I04T',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I04V',0x95C6A0CD,true)
call SaveBoolean(YDHT,'I00C',0x2AAC512D,true)
call SaveInteger(YDHT,'I00C',0x55D0E051,'I00L')
call SaveInteger(YDHT,'I02N',0x55D0E051,'I02O')
call SaveInteger(YDHT,'I02T',0x55D0E051,'I02U')
call SaveInteger(YDHT,'I031',0x55D0E051,'I032')
call SaveInteger(YDHT,'I00K',0x55D0E051,'I00M')
call SaveInteger(YDHT,'I02R',0x55D0E051,'I02S')
call SaveInteger(YDHT,'I02Z',0x55D0E051,'I030')
call SaveInteger(YDHT,'I02P',0x55D0E051,'I02Q')
call SaveInteger(YDHT,'I02V',0x55D0E051,'I02W')
call SaveInteger(YDHT,'I02X',0x55D0E051,'I02Y')
call SaveInteger(YDHT,'I033',0x55D0E051,'I039')
call SaveInteger(YDHT,'I034',0x55D0E051,'I03A')
call SaveInteger(YDHT,'I035',0x55D0E051,'I03B')
call SaveInteger(YDHT,'I04R',0x55D0E051,'I04Q')
call SaveInteger(YDHT,'I04T',0x55D0E051,'I04S')
call SaveInteger(YDHT,'I04V',0x55D0E051,'I04U')
call SaveInteger(YDHT,'I036',0x55D0E051,'I03C')
call SaveInteger(YDHT,'I037',0x55D0E051,'I03D')
call SaveInteger(YDHT,'I038',0x55D0E051,'I03E')
call SaveInteger(YDHT,'I03F',0x55D0E051,'I03G')
call SaveInteger(YDHT,'I03H',0x55D0E051,'I03I')
call SaveInteger(YDHT,'I02O',0x55D0E051,'I02O')
call SaveInteger(YDHT,'I00M',0x55D0E051,'I00M')
call SaveInteger(YDHT,'I02Q',0x55D0E051,'I02Q')
call SaveInteger(YDHT,'I02U',0x55D0E051,'I02U')
call SaveInteger(YDHT,'I02S',0x55D0E051,'I02S')
call SaveInteger(YDHT,'I02W',0x55D0E051,'I02W')
call SaveInteger(YDHT,'I032',0x55D0E051,'I032')
call SaveInteger(YDHT,'I030',0x55D0E051,'I030')
call SaveInteger(YDHT,'I02Y',0x55D0E051,'I02Y')
call SaveInteger(YDHT,'I039',0x55D0E051,'I039')
call SaveInteger(YDHT,'I03A',0x55D0E051,'I03A')
call SaveInteger(YDHT,'I03B',0x55D0E051,'I03B')
call SaveInteger(YDHT,'I04Q',0x55D0E051,'I04Q')
call SaveInteger(YDHT,'I04S',0x55D0E051,'I04S')
call SaveInteger(YDHT,'I04U',0x55D0E051,'I04U')
call SaveInteger(YDHT,'I03C',0x55D0E051,'I03C')
call SaveInteger(YDHT,'I03D',0x55D0E051,'I03D')
call SaveInteger(YDHT,'I03E',0x55D0E051,'I03E')
call SaveInteger(YDHT,'I03G',0x55D0E051,'I03G')
call SaveInteger(YDHT,'I03I',0x55D0E051,'I03I')
call SaveBoolean(YDHT,'I00C',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02N',0x9C0F555E,true)
call SaveBoolean(YDHT,'I00K',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02P',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02T',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02R',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02V',0x9C0F555E,true)
call SaveBoolean(YDHT,'I031',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02Z',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02X',0x9C0F555E,true)
call SaveBoolean(YDHT,'I036',0x9C0F555E,true)
call SaveBoolean(YDHT,'I037',0x9C0F555E,true)
call SaveBoolean(YDHT,'I038',0x9C0F555E,true)
call SaveBoolean(YDHT,'I033',0x9C0F555E,true)
call SaveBoolean(YDHT,'I034',0x9C0F555E,true)
call SaveBoolean(YDHT,'I035',0x9C0F555E,true)
call SaveBoolean(YDHT,'I04R',0x9C0F555E,true)
call SaveBoolean(YDHT,'I04T',0x9C0F555E,true)
call SaveBoolean(YDHT,'I04V',0x9C0F555E,true)
call SaveBoolean(YDHT,'I03F',0x9C0F555E,true)
call SaveBoolean(YDHT,'I03H',0x9C0F555E,true)
call SaveBoolean(YDHT,'I00L',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02O',0x9C0F555E,true)
call SaveBoolean(YDHT,'I00M',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02Q',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02U',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02S',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02W',0x9C0F555E,true)
call SaveBoolean(YDHT,'I032',0x9C0F555E,true)
call SaveBoolean(YDHT,'I030',0x9C0F555E,true)
call SaveBoolean(YDHT,'I02Y',0x9C0F555E,true)
call SaveBoolean(YDHT,'I03C',0x9C0F555E,true)
call SaveBoolean(YDHT,'I03D',0x9C0F555E,true)
call SaveBoolean(YDHT,'I03E',0x9C0F555E,true)
call SaveBoolean(YDHT,'I039',0x9C0F555E,true)
call SaveBoolean(YDHT,'I03A',0x9C0F555E,true)
call SaveBoolean(YDHT,'I03B',0x9C0F555E,true)
call SaveBoolean(YDHT,'I04Q',0x9C0F555E,true)
call SaveBoolean(YDHT,'I04S',0x9C0F555E,true)
call SaveBoolean(YDHT,'I04U',0x9C0F555E,true)
call SaveBoolean(YDHT,'I03G',0x9C0F555E,true)
call SaveBoolean(YDHT,'I03I',0x9C0F555E,true)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_article_ready takes nothing returns nothing
set gg_trg_article_ready=CreateTrigger()
call TriggerAddAction(gg_trg_article_ready,function Trig_article_readyActions)
endfunction
function Trig_ordinaryFunc003Func001003001 takes nothing returns boolean
return((((GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER)and(LoadBoolean(YDHT,GetHandleId(GetFilterPlayer()),0x602978BD)!=true))and((GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING)and(udg_Number[GetConvertedPlayerId(GetFilterPlayer())]==0))))
endfunction
function Trig_ordinaryFunc003Func002Func001Func001Func001003001 takes nothing returns boolean
return((((GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER)and(LoadBoolean(YDHT,GetHandleId(GetFilterPlayer()),0x602978BD)!=true))and((GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING)and(udg_Number[GetConvertedPlayerId(GetFilterPlayer())]==0))))
endfunction
function Trig_ordinaryFunc003Func002Func001Func001Func014003002 takes nothing returns boolean
return(((GetUnitPointValue(GetFilterUnit())==1)or(GetUnitPointValue(GetFilterUnit())==2)))
endfunction
function Trig_ordinaryFunc003Func002Func001Func001Func036003002 takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())!='H003'))
endfunction
function Trig_ordinaryFunc003Func002Func001Func001Func037A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call YDWETimerRemoveUnit(3.,GetEnumUnit())
endfunction
function Trig_ordinaryFunc003Func002Func002Func001003001 takes nothing returns boolean
return((((GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER)and(LoadBoolean(YDHT,GetHandleId(GetFilterPlayer()),0x602978BD)!=true))and((GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING)and(udg_Number[GetConvertedPlayerId(GetFilterPlayer())]==0))))
endfunction
function Trig_ordinaryFunc003Func002Func002Func014003002 takes nothing returns boolean
return(((GetUnitPointValue(GetFilterUnit())==1)or(GetUnitPointValue(GetFilterUnit())==2)))
endfunction
function Trig_ordinaryFunc003Func002Func002Func036003002 takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())!='H003'))
endfunction
function Trig_ordinaryFunc003Func002Func002Func037A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call YDWETimerRemoveUnit(3.,GetEnumUnit())
endfunction
function Trig_ordinaryFunc003Func015003002 takes nothing returns boolean
return(((GetUnitPointValue(GetFilterUnit())==1)or(GetUnitPointValue(GetFilterUnit())==2)))
endfunction
function Trig_ordinaryFunc003Func037003002 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true))
endfunction
function Trig_ordinaryFunc003Func038A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call YDWETimerRemoveUnit(3.,GetEnumUnit())
endfunction
function Trig_ordinaryFunc006A takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),GetEnumPlayer(),bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_ALLIED_VISION)
endfunction
function Trig_ordinaryFunc008A takes nothing returns nothing
call SetUnitInvulnerable(GetEnumUnit(),false)
endfunction
function Trig_ordinaryFunc011T takes nothing returns nothing
call StartTimerBJ(udg_Timer_come,false,2980.)
call StartTimerBJ(udg_Human_jishiqi,false,3000.)
call StartTimerBJ(udg_Timer_game,false,2400.)
call CreateTimerDialogBJ(udg_Human_jishiqi,"救援大部队到来...")
call TimerDialogSetTimeColor(bj_lastCreatedTimerDialog,0,200,125,255)
call TimerDialogSetTitleColorBJ(GetLastCreatedTimerDialogBJ(),20.,80.,100.,0)
set udg_chuangkou=bj_lastCreatedTimerDialog
call TimerDialogSetSpeed(udg_chuangkou,1.)
call DestroyTrigger(gg_trg_Win)
call DestroyTrigger(gg_trg_Hero_npc)
call DestroyTrigger(gg_trg_Hp_full)
call DestroyTrigger(gg_trg_experience)
call DestroyTrigger(gg_trg_experience_god)
call DestroyTrigger(gg_trg_vengeance_god)
call DestroyTrigger(gg_trg_vengeance_god_come)
call DestroyTrigger(gg_trg_vengeance_god_come_fz)
call DestroyTrigger(gg_trg_small_zb_birth)
call DestroyTrigger(gg_trg_small_zb_move)
call DestroyTrigger(gg_trg_vengeance_god_Min)
call DestroyTrigger(gg_trg_Hero_death)
call EnableTrigger(gg_trg_Human_death)
call EnableTrigger(gg_trg_Human_win_1)
call EnableTrigger(gg_trg_Human_win_2)
call EnableTrigger(gg_trg_Human_win_3)
call EnableTrigger(gg_trg_Zombi_win)
call EnableTrigger(gg_trg_Zombi_death)
call EnableTrigger(gg_trg_Items_function_a)
call EnableTrigger(gg_trg_Ashenvale_wav_1)
call EnableTrigger(gg_trg_Ashenvale_wav_2)
call PlaySoundBJ(gg_snd_Zombi_Ambience)
call DestroyTrigger(gg_trg_Count_down)
call DestroyTrigger(gg_trg_ordinary)
call DestroyTrigger(gg_trg_Hero_Min)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_ordinaryActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_zombi_coming_1)
call PlaySoundBJ(gg_snd_zombi_coming_2)
if((udg_Number[0]<=4))then
call SaveForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF1BE4464,YDWEGetPlayersMatchingNull(Condition(function Trig_ordinaryFunc003Func001003001)))
call SavePlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B,ForcePickRandomPlayer(LoadForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF1BE4464)))
call SetFogStateRect(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),FOG_OF_WAR_MASKED,GetPlayableMapRect(),true)
set udg_Number[99]=(udg_Number[99]+1)
call ForceAddPlayer(udg_group_of_players[0],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
call ForceRemovePlayer(udg_group_of_players[1],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
set udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))]=1
call SetPlayerStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_LUMBER,0)
call SetPlayerState(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((udg_Number[GetConvertedPlayerId(ConvertedPlayer(GetForLoopIndexA()))]==1))then
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexA()),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED_VISION)
else
if((LoadBoolean(YDHT,GetHandleId(ConvertedPlayer(GetForLoopIndexA())),0x602978BD)!=true))then
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexA()),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_UNALLIED)
call SetPlayerAlliance(ConvertedPlayer(GetForLoopIndexA()),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ALLIANCE_SHARED_VISION,false)
else
endif
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Condition(function Trig_ordinaryFunc003Func015003002)))
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'plcl')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181,'plcl')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'pnvl')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794,'pnvl')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I00A')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1,'I00A')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I00F')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3,'I00F')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I01P')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009,'I01P')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I04A')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96,'I04A')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96,GetItemTypeId(null))
endif
call YDWEReplaceUnitBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'H003',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveUnitHandle(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xE6E64075,bj_lastReplacedUnit)
call SaveStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xAF9C0D5D,"(普通僵尸)")
call SaveInteger(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0x62274AD0,'H003')
call SetPlayerName(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),((LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))]-1)])+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xAF9C0D5D))))
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96),bj_lastReplacedUnit)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl",bj_lastReplacedUnit,"origin"))
call SetUnitAbilityLevel(bj_lastReplacedUnit,'A000',2)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0,YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Condition(function Trig_ordinaryFunc003Func037003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0),function Trig_ordinaryFunc003Func038A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0))
call DestroyForce(LoadForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF1BE4464))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("|cFFFF00FF"+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xBBAEF8F3)+"|r 成为了母体僵尸！！！")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if((udg_Number[0]>4)and(udg_Number[0]<=8))then
set udg_Number[100]=1
loop
exitwhen udg_Number[100]>2
call SaveForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF1BE4464,YDWEGetPlayersMatchingNull(Condition(function Trig_ordinaryFunc003Func002Func002Func001003001)))
call SavePlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B,ForcePickRandomPlayer(LoadForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF1BE4464)))
call SetFogStateRect(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),FOG_OF_WAR_MASKED,GetPlayableMapRect(),true)
set udg_Number[99]=(udg_Number[99]+1)
call ForceAddPlayer(udg_group_of_players[0],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
call ForceRemovePlayer(udg_group_of_players[1],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
set udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))]=1
call SetPlayerStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_LUMBER,0)
call SetPlayerState(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((udg_Number[GetConvertedPlayerId(ConvertedPlayer(GetForLoopIndexA()))]==1)and(LoadBoolean(YDHT,GetHandleId(ConvertedPlayer(GetForLoopIndexA())),0x602978BD)!=true))then
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexA()),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED_VISION)
else
if((LoadBoolean(YDHT,GetHandleId(ConvertedPlayer(GetForLoopIndexA())),0x602978BD)!=true))then
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexA()),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_UNALLIED)
call SetPlayerAlliance(ConvertedPlayer(GetForLoopIndexA()),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ALLIANCE_SHARED_VISION,false)
else
endif
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Condition(function Trig_ordinaryFunc003Func002Func002Func014003002)))
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'plcl')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181,'plcl')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'pnvl')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794,'pnvl')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I00A')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1,'I00A')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I00F')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3,'I00F')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I01P')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009,'I01P')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I04A')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96,'I04A')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96,GetItemTypeId(null))
endif
call YDWEReplaceUnitBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'H003',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveUnitHandle(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xE6E64075,bj_lastReplacedUnit)
call SaveStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xAF9C0D5D,"(普通僵尸)")
call SaveInteger(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0x62274AD0,'H003')
call SetPlayerName(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),((LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))]-1)])+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xAF9C0D5D))))
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96),bj_lastReplacedUnit)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl",bj_lastReplacedUnit,"origin"))
call SetUnitAbilityLevel(bj_lastReplacedUnit,'A000',2)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0,YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Condition(function Trig_ordinaryFunc003Func002Func002Func036003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0),function Trig_ordinaryFunc003Func002Func002Func037A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0))
call DestroyForce(LoadForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF1BE4464))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("|cFFFF00FF"+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xBBAEF8F3)+"|r 成为了母体僵尸！！！")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_Number[100]=udg_Number[100]+1
endloop
else
if((udg_Number[0]>8)and(udg_Number[0]<=12))then
set udg_Number[100]=1
loop
exitwhen udg_Number[100]>3
call SaveForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF1BE4464,YDWEGetPlayersMatchingNull(Condition(function Trig_ordinaryFunc003Func002Func001Func001Func001003001)))
call SavePlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B,ForcePickRandomPlayer(LoadForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF1BE4464)))
call SetFogStateRect(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),FOG_OF_WAR_MASKED,GetPlayableMapRect(),true)
set udg_Number[99]=(udg_Number[99]+1)
call ForceAddPlayer(udg_group_of_players[0],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
call ForceRemovePlayer(udg_group_of_players[1],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
set udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))]=1
call SetPlayerStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_LUMBER,0)
call SetPlayerState(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((udg_Number[GetConvertedPlayerId(ConvertedPlayer(GetForLoopIndexA()))]==1)and(LoadBoolean(YDHT,GetHandleId(ConvertedPlayer(GetForLoopIndexA())),0x602978BD)!=true))then
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexA()),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED_VISION)
else
if((LoadBoolean(YDHT,GetHandleId(ConvertedPlayer(GetForLoopIndexA())),0x602978BD)!=true))then
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexA()),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_UNALLIED)
call SetPlayerAlliance(ConvertedPlayer(GetForLoopIndexA()),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ALLIANCE_SHARED_VISION,false)
else
endif
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Condition(function Trig_ordinaryFunc003Func002Func001Func001Func014003002)))
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'plcl')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181,'plcl')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'pnvl')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794,'pnvl')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I00A')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1,'I00A')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I00F')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3,'I00F')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I01P')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009,'I01P')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I04A')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96,'I04A')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96,GetItemTypeId(null))
endif
call YDWEReplaceUnitBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'H003',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveUnitHandle(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xE6E64075,bj_lastReplacedUnit)
call SaveStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xAF9C0D5D,"(普通僵尸)")
call SaveInteger(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0x62274AD0,'H003')
call SetPlayerName(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),((LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))]-1)])+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xAF9C0D5D))))
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96),bj_lastReplacedUnit)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl",bj_lastReplacedUnit,"origin"))
call SetUnitAbilityLevel(bj_lastReplacedUnit,'A000',2)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0,YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Condition(function Trig_ordinaryFunc003Func002Func001Func001Func036003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0),function Trig_ordinaryFunc003Func002Func001Func001Func037A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0))
call DestroyForce(LoadForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF1BE4464))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("|cFFFF00FF"+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xBBAEF8F3)+"|r 成为了母体僵尸！！！")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_Number[100]=udg_Number[100]+1
endloop
else
endif
endif
endif
call DestroyTimerDialog(udg_chuangkou)
call PauseTimer(udg_Jishiqi[1])
call ForForce(udg_group_of_players[1],function Trig_ordinaryFunc006A)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_ordinaryFunc008A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED)
call TimerStart(ydl_timer,.2,false,function Trig_ordinaryFunc011T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
set ydl_timer=null
endfunction
function InitTrig_ordinary takes nothing returns nothing
set gg_trg_ordinary=CreateTrigger()
call TriggerAddAction(gg_trg_ordinary,function Trig_ordinaryActions)
endfunction
function Trig_vengeance_godFunc006A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_vengeance_godFunc047A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),150.,.0))
call CreateNUnitsAtLoc(1,'n004',Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7),bj_UNIT_FACING)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),150.,45.))
call CreateNUnitsAtLoc(1,'n005',Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7),bj_UNIT_FACING)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_vengeance_godFunc049A takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function Trig_vengeance_godFunc055T takes nothing returns nothing
call FogEnable(true)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_vengeance_godFunc056Func003A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_vengeance_godFunc058Func001Func012A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1ABADE9B),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1ABADE9B),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
endfunction
function Trig_vengeance_godFunc058Func001Func013A takes nothing returns nothing
call SetPlayerUnitAvailableBJ('U007',false,GetEnumPlayer())
call SetPlayerUnitAvailableBJ('U002',false,GetEnumPlayer())
call SetPlayerAllianceStateBJ(GetEnumPlayer(),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1ABADE9B),bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1ABADE9B),GetEnumPlayer(),bj_ALLIANCE_ALLIED_VISION)
endfunction
function Trig_vengeance_godFunc058Func001Func015A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_vengeance_godFunc058Func013A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1ABADE9B),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1ABADE9B),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
endfunction
function Trig_vengeance_godFunc058Func014A takes nothing returns nothing
call SetPlayerUnitAvailableBJ('U007',false,GetEnumPlayer())
call SetPlayerUnitAvailableBJ('U002',false,GetEnumPlayer())
call SetPlayerAllianceStateBJ(GetEnumPlayer(),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1ABADE9B),bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1ABADE9B),GetEnumPlayer(),bj_ALLIANCE_ALLIED_VISION)
endfunction
function Trig_vengeance_godFunc058Func019A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_vengeance_godFunc068A takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),GetEnumPlayer(),bj_ALLIANCE_ALLIED_VISION)
call DisplayTimedTextToPlayer(GetEnumPlayer(),0,0,30,"|cff0000ff你是一位人类英雄，你暂时无法与你的盟友共享视野，但你们必须团结，你们需要在复仇天神出现之前\n\n的3分钟内，不断的击杀小僵尸，获取钱与经验，你不能死而复生，若你们所有人倒下，游戏将会结束\n\n，你们共同的任务是消灭所有复仇天神，而你们的商店，是在原来泉水的位置，祝你们好运...|r")
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_ALLIED_VISION)
endfunction
function Trig_vengeance_godFunc071T takes nothing returns nothing
call PlaySoundBJ(gg_snd_Will_come_190s)
call StartTimerBJ(udg_Timer_come,false,190.)
call StartTimerBJ(udg_Human_jishiqi,false,210.)
call CreateTimerDialogBJ(udg_Human_jishiqi,"复仇天神来临...")
call TimerDialogSetTimeColor(bj_lastCreatedTimerDialog,255,25,0,255)
call TimerDialogSetTitleColorBJ(GetLastCreatedTimerDialogBJ(),100.,.0,25.,20.)
set udg_chuangkou=bj_lastCreatedTimerDialog
call TimerDialogSetSpeed(udg_chuangkou,1.)
call EnableTrigger(gg_trg_Win)
call DestroyTrigger(gg_trg_article_1)
call DestroyTrigger(gg_trg_article_2)
call DestroyTrigger(gg_trg_article_3)
call DestroyTrigger(gg_trg_article_4)
call DestroyTrigger(gg_trg_article_5)
call DestroyTrigger(gg_trg_article_6)
call DestroyTrigger(gg_trg_article_7)
call DestroyTrigger(gg_trg_article_8)
call DestroyTrigger(gg_trg_article_9)
call DestroyTrigger(gg_trg_Ashenvale_wav_1)
call DestroyTrigger(gg_trg_Ashenvale_wav_2)
call DestroyTrigger(gg_trg_Building_coming)
call DestroyTrigger(gg_trg_Building_death)
call DestroyTrigger(gg_trg_Building_restrictions)
call DestroyTrigger(gg_trg_Building_then_damage)
call DestroyTrigger(gg_trg_enemys)
call DestroyTrigger(gg_trg_Human_come)
call DestroyTrigger(gg_trg_Human_death)
call DestroyTrigger(gg_trg_Human_economic_a)
call DestroyTrigger(gg_trg_Human_economic_b)
call DestroyTrigger(gg_trg_Human_npc)
call DestroyTrigger(gg_trg_Human_skill_1)
call DestroyTrigger(gg_trg_Human_skill_2)
call DestroyTrigger(gg_trg_Human_skill_3)
call DestroyTrigger(gg_trg_Human_skill_3_fz)
call DestroyTrigger(gg_trg_Human_skill_4_5)
call DestroyTrigger(gg_trg_Human_skill_6)
call DestroyTrigger(gg_trg_Human_skill_7_18_19)
call DestroyTrigger(gg_trg_Human_skill_7_9_10_16_fz)
call DestroyTrigger(gg_trg_Human_skill_11)
call DestroyTrigger(gg_trg_Human_skill_12)
call DestroyTrigger(gg_trg_Human_skill_13)
call DestroyTrigger(gg_trg_Human_skill_14)
call DestroyTrigger(gg_trg_Human_skill_15)
call DestroyTrigger(gg_trg_Human_skill_17)
call DestroyTrigger(gg_trg_Human_skill_17_fz)
call DestroyTrigger(gg_trg_Human_vision_u)
call DestroyTrigger(gg_trg_Human_win_1)
call DestroyTrigger(gg_trg_Human_win_2)
call DestroyTrigger(gg_trg_Human_win_3)
call DestroyTrigger(gg_trg_Human_win_fz)
call DestroyTrigger(gg_trg_Items_function_a)
call DestroyTrigger(gg_trg_Items_function_b)
call DestroyTrigger(gg_trg_Items_function_c)
call DestroyTrigger(gg_trg_lottery_u)
call DestroyTrigger(gg_trg_Mining_stone_u)
call DestroyTrigger(gg_trg_science_and_technology)
call DestroyTrigger(gg_trg_Sunkens_correction_u)
call DestroyTrigger(gg_trg_Zombi_death)
call DestroyTrigger(gg_trg_Zombi_gold_1)
call DestroyTrigger(gg_trg_Zombi_gold_2)
call DestroyTrigger(gg_trg_Zombi_heal)
call DestroyTrigger(gg_trg_Zombi_hurt)
call DestroyTrigger(gg_trg_Zombi_min)
call DestroyTrigger(gg_trg_Zombi_skill_1_5_10)
call DestroyTrigger(gg_trg_Zombi_skill_2_4_6_8)
call DestroyTrigger(gg_trg_Zombi_skill_2_fz)
call DestroyTrigger(gg_trg_Zombi_skill_3)
call DestroyTrigger(gg_trg_Zombi_skill_7_9)
call DestroyTrigger(gg_trg_Zombi_skill_8_fz)
call DestroyTrigger(gg_trg_Zombi_up)
call DestroyTrigger(gg_trg_Zombi_win)
call EnableTrigger(gg_trg_vengeance_god_Min)
call EnableTrigger(gg_trg_small_zb_birth)
call EnableTrigger(gg_trg_Hero_Min)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_vengeance_godActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local timer ydl_timer
local integer ydul_s
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_BONUSMISSION_UI)
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=12
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call DisplayTimedTextToPlayer(ConvertedPlayer(GetForLoopIndexB()),.65,.5,5.,"|cffff0000复仇天神模式...|r")
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT,.0,"ReplaceableTextures\\CameraMasks\\White_mask.blp",100.,0,0,0)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN,3.5,"ReplaceableTextures\\CameraMasks\\White_mask.blp",100.,0,0,0)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_vengeance_godFunc006A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(gg_unit_ngme_0050))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),100.,.0))
call CreateNUnitsAtLoc(1,'n004',Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),bj_UNIT_FACING)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),100.,45.))
call CreateNUnitsAtLoc(1,'n005',Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),bj_UNIT_FACING)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call RemoveUnit(gg_unit_ngme_0050)
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(gg_unit_n000_0053))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),100.,.0))
call CreateNUnitsAtLoc(1,'n004',Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),bj_UNIT_FACING)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),100.,45.))
call CreateNUnitsAtLoc(1,'n005',Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),bj_UNIT_FACING)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call RemoveUnit(gg_unit_n000_0053)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(gg_unit_ngad_0052))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),100.,.0))
call CreateNUnitsAtLoc(1,'n004',Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),bj_UNIT_FACING)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),100.,45.))
call CreateNUnitsAtLoc(1,'n005',Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),bj_UNIT_FACING)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call RemoveUnit(gg_unit_ngad_0052)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(gg_unit_n003_0060))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),100.,.0))
call CreateNUnitsAtLoc(1,'n004',Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),bj_UNIT_FACING)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),100.,45.))
call CreateNUnitsAtLoc(1,'n005',Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),bj_UNIT_FACING)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call RemoveUnit(gg_unit_n003_0060)
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('ndfl'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_vengeance_godFunc047A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call EnumItemsInRectBJ(GetPlayableMapRect(),function Trig_vengeance_godFunc049A)
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call GroupRemoveUnit(udg_group_dian,gg_unit_h000_0027)
call FogEnable(false)
call FogMaskEnable(false)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call TimerStart(ydl_timer,.03,false,function Trig_vengeance_godFunc055T)
set ydul_s=1
loop
exitwhen ydul_s>12
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,ydul_s)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,(YDWEGetUnitsOfPlayerMatchingNull((ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))),null)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_vengeance_godFunc056Func003A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
if((GetPlayerSlotState(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))==MAP_CONTROL_USER))then
set udg_Number[GetConvertedPlayerId(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))]=0
call SetPlayerStateBJ(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)),PLAYER_STATE_RESOURCE_GOLD,525)
call SetPlayerStateBJ(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)),PLAYER_STATE_RESOURCE_LUMBER,0)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GroupPickRandomUnit(udg_group_dian)))
call CreateNUnitsAtLoc(1,'h021',ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),bj_UNIT_FACING)
call PanCameraToTimedLocForPlayer(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),.2)
call SelectUnitForPlayerSingle(bj_lastCreatedUnit,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call SaveStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xAF9C0D5D,"")
call SetPlayerName(GetOwningPlayer(GetSoldUnit()),((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetSoldUnit()))]-1)])+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xAF9C0D5D))))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0x62274AD0,0)
else
endif
set ydul_s=ydul_s+1
endloop
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((CountPlayersInForceBJ(udg_group_of_players[1])<=6))then
call SavePlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B,ForcePickRandomPlayer(udg_group_of_players[1]))
call ForceAddPlayer(udg_group_of_players[0],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
call ForceRemovePlayer(udg_group_of_players[1],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
set udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))]=1
call AdjustPlayerStateBJ(250,LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED)
call SetPlayerAlliance(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_PASSIVE),ALLIANCE_SHARED_VISION,false)
call SetPlayerAlliance(Player(PLAYER_NEUTRAL_PASSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ALLIANCE_SHARED_VISION,false)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_UNALLIED)
call ForForce(udg_group_of_players[1],function Trig_vengeance_godFunc058Func013A)
call ForForce(udg_group_of_players[0],function Trig_vengeance_godFunc058Func014A)
call SaveStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xAF9C0D5D,"(复仇天神)")
call SetPlayerName(GetOwningPlayer(GetSoldUnit()),((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetSoldUnit()))]-1)])+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xAF9C0D5D))))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0x62274AD0,0)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,(YDWEGetUnitsOfPlayerMatchingNull((LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),null)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_vengeance_godFunc058Func019A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call DisplayTimedTextToPlayer(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),0,0,30,"|cffff0000你是一位复仇天神，你暂时无法获得自由，但你会在3分钟后出现在地图上，你的任务是击杀掉所有人\n\n类，你出现时，可以购买一些装备得以提高你的战斗力，或许，你能升级你方的僵尸群，得以提高你们\n\n整体的战斗")
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SavePlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B,ForcePickRandomPlayer(udg_group_of_players[1]))
call ForceAddPlayer(udg_group_of_players[0],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
call ForceRemovePlayer(udg_group_of_players[1],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
set udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))]=1
call AdjustPlayerStateBJ(250,LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED)
call SetPlayerAlliance(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_PASSIVE),ALLIANCE_SHARED_VISION,false)
call SetPlayerAlliance(Player(PLAYER_NEUTRAL_PASSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ALLIANCE_SHARED_VISION,false)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_UNALLIED)
call ForForce(udg_group_of_players[1],function Trig_vengeance_godFunc058Func001Func012A)
call ForForce(udg_group_of_players[0],function Trig_vengeance_godFunc058Func001Func013A)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,(YDWEGetUnitsOfPlayerMatchingNull((LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),null)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_vengeance_godFunc058Func001Func015A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call DisplayTimedTextToPlayer(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),0,0,30,"|cffff0000你是一位复仇天神，你暂时无法获得自由，但你会在3分钟后出现在地图上，你的任务是击杀掉所有人\n\n类，你出现时，可以购买一些装备得以提高你的战斗力，或许，你能升级你方的僵尸群，得以提高你们\n\n整体的战斗力，但你们也无法重生，只要你被人类干掉，地图上没有存货的复仇天神的话，那么，你们\n\n将会失败...|r")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SetTimeOfDayScale(.0)
call SetTimeOfDay(3.)
call SetWaterDeforms(true)
call SetSkyModel("Environment\\Sky\\FelwoodSky\\FelwoodSky.mdl")
call EnableWeatherEffect(AddWeatherEffect(GetPlayableMapRect(),'RAhr'),true)
call EnableWeatherEffect(AddWeatherEffect(GetPlayableMapRect(),'LRma'),true)
call DestroyTimerDialog(udg_chuangkou)
call PauseTimer(udg_Jishiqi[1])
call ForForce(udg_group_of_players[1],function Trig_vengeance_godFunc068A)
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED)
call TimerStart(ydl_timer,.2,false,function Trig_vengeance_godFunc071T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
set ydl_timer=null
endfunction
function InitTrig_vengeance_god takes nothing returns nothing
set gg_trg_vengeance_god=CreateTrigger()
call TriggerAddAction(gg_trg_vengeance_god,function Trig_vengeance_godActions)
endfunction
function Trig_show_achActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]>0))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,0)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x18ABF571,0)
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8B1FFFFC,"")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,("你已获得如下成就："))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,(LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3))),StringHash(("成就")))))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,("你目前的|cFFFFFF33Ep|r为："))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,(I2S(LoadInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x84056CE3))+(" / "+I2S(udg_leve[udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]]))))
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"你未获得任何成就...")
call PlaySoundBJ(gg_snd_Error)
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_show_ach takes nothing returns nothing
set gg_trg_show_ach=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(0),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(1),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(2),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(3),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(4),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(5),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(6),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(7),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(8),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(9),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(10),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(11),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(12),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(13),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(14),"-ach",true)
call TriggerRegisterPlayerChatEvent(gg_trg_show_ach,Player(15),"-ach",true)
call TriggerAddAction(gg_trg_show_ach,function Trig_show_achActions)
endfunction
function Trig_Equipment_achActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3A0441A9,SubStringBJ(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString())))
if((udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]>0)and(udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]>=S2I(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3A0441A9))))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,S2I(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3A0441A9)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetConvertedPlayerId(GetTriggerPlayer()))
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont1[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont2[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont3[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont4[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont5[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont6[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont7[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont8[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont9[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont10[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont11[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
call SaveStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B,udg_ach_cont12[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)])
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,("你已装上成就："+LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B)))
call SetPlayerName(GetTriggerPlayer(),((LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]-1)])+(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xAF9C0D5D))))
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"错误...")
call PlaySoundBJ(gg_snd_Error)
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Equipment_ach takes nothing returns nothing
set gg_trg_Equipment_ach=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(0),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(1),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(2),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(3),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(4),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(5),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(6),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(7),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(8),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(9),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(10),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(11),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(12),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(13),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(14),"-ea ",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Equipment_ach,Player(15),"-ea ",false)
call TriggerAddAction(gg_trg_Equipment_ach,function Trig_Equipment_achActions)
endfunction
function Trig_1_1Conditions takes nothing returns boolean
return((GetResearched()=='R001')and(GetPlayerTechCountSimple('R001',GetOwningPlayer(GetTriggerUnit()))==9)and(LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x39BCA3AA)==false))
endfunction
function Trig_1_1Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_QuestCompleted)
set udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x39BCA3AA,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r  获得了成就 "+(udg_achievement_title[1]+"|r ！！！"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)+10))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,1)
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
set udg_ach_cont1[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
set udg_ach_cont2[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
set udg_ach_cont3[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
set udg_ach_cont4[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
set udg_ach_cont5[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
set udg_ach_cont6[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
set udg_ach_cont7[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
set udg_ach_cont8[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
set udg_ach_cont9[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
set udg_ach_cont10[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
set udg_ach_cont11[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
set udg_ach_cont12[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SaveStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3))),StringHash(("成就")),(((LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3))),StringHash(("成就"))))+(("-"+I2S(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))+udg_achievement_title[1]))))
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]]))then
call PlaySoundBJ(gg_snd_WarlockAppears)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_1_1 takes nothing returns nothing
set gg_trg_1_1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_1_1,EVENT_PLAYER_UNIT_RESEARCH_FINISH)
call TriggerAddCondition(gg_trg_1_1,Condition(function Trig_1_1Conditions))
call TriggerAddAction(gg_trg_1_1,function Trig_1_1Actions)
endfunction
function Trig_1_2Conditions takes nothing returns boolean
return(((GetItemTypeId(GetManipulatedItem())=='I001')or(GetItemTypeId(GetManipulatedItem())=='I005')or(GetItemTypeId(GetManipulatedItem())=='I009'))and(LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x39BCA3AA)==false))
endfunction
function Trig_1_2Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_QuestCompleted)
set udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x39BCA3AA,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r  获得了成就 "+(udg_achievement_title[1]+"|r ！！！"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)+10))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,1)
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
set udg_ach_cont1[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
set udg_ach_cont2[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
set udg_ach_cont3[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
set udg_ach_cont4[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
set udg_ach_cont5[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
set udg_ach_cont6[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
set udg_ach_cont7[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
set udg_ach_cont8[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
set udg_ach_cont9[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
set udg_ach_cont10[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
set udg_ach_cont11[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
set udg_ach_cont12[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SaveStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3))),StringHash(("成就")),(((LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3))),StringHash(("成就"))))+(("-"+I2S(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))+udg_achievement_title[1]))))
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]]))then
call PlaySoundBJ(gg_snd_WarlockAppears)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(GetForLoopIndexA()+1))
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_1_2 takes nothing returns nothing
set gg_trg_1_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_1_2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_1_2,Condition(function Trig_1_2Conditions))
call TriggerAddAction(gg_trg_1_2,function Trig_1_2Actions)
endfunction
function Trig_2Conditions takes nothing returns boolean
return((GetResearched()=='Rhac')and(GetPlayerTechCountSimple('Rhac',GetOwningPlayer(GetTriggerUnit()))==30)and(LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x89CBE375)==false))
endfunction
function Trig_2Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_QuestCompleted)
set udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x89CBE375,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r  获得了成就 "+(udg_achievement_title[2]+"|r ！！！"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)+10))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,2)
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
set udg_ach_cont1[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
set udg_ach_cont2[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
set udg_ach_cont3[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
set udg_ach_cont4[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
set udg_ach_cont5[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
set udg_ach_cont6[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
set udg_ach_cont7[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
set udg_ach_cont8[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
set udg_ach_cont9[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
set udg_ach_cont10[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
set udg_ach_cont11[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
set udg_ach_cont12[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SaveStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3))),StringHash(("成就")),(((LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3))),StringHash(("成就"))))+(("-"+I2S(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))+udg_achievement_title[2]))))
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]]))then
call PlaySoundBJ(gg_snd_WarlockAppears)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_2 takes nothing returns nothing
set gg_trg_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_2,EVENT_PLAYER_UNIT_RESEARCH_FINISH)
call TriggerAddCondition(gg_trg_2,Condition(function Trig_2Conditions))
call TriggerAddAction(gg_trg_2,function Trig_2Actions)
endfunction
function Trig_3Conditions takes nothing returns boolean
return(((GetItemTypeId(GetManipulatedItem())=='I00H')or(GetItemTypeId(GetManipulatedItem())=='I00J')or(GetItemTypeId(GetManipulatedItem())=='I01F'))and(LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBC525567)==false))
endfunction
function Trig_3Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_QuestCompleted)
set udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBC525567,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r  获得了成就 "+(udg_achievement_title[3]+"|r ！！！"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)+15))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,3)
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
set udg_ach_cont1[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
set udg_ach_cont2[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
set udg_ach_cont3[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
set udg_ach_cont4[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
set udg_ach_cont5[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
set udg_ach_cont6[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
set udg_ach_cont7[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
set udg_ach_cont8[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
set udg_ach_cont9[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
set udg_ach_cont10[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
set udg_ach_cont11[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
set udg_ach_cont12[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SaveStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3))),StringHash(("成就")),(((LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3))),StringHash(("成就"))))+(("-"+I2S(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))+udg_achievement_title[3]))))
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]]))then
call PlaySoundBJ(gg_snd_WarlockAppears)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_3 takes nothing returns nothing
set gg_trg_3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_3,Condition(function Trig_3Conditions))
call TriggerAddAction(gg_trg_3,function Trig_3Actions)
endfunction
function Trig_4Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true)and(GetOwningPlayer(GetKillingUnitBJ())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))and(LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x673B3F8E)==false))
endfunction
function Trig_4Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_QuestCompleted)
set udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x673B3F8E,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,.0,(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3)+("|r  获得了成就 "+(udg_achievement_title[4]+"|r ！！！"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x84056CE3,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x84056CE3)+20))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ())))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,4)
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
set udg_ach_cont1[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
set udg_ach_cont2[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
set udg_ach_cont3[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
set udg_ach_cont4[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
set udg_ach_cont5[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
set udg_ach_cont6[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
set udg_ach_cont7[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
set udg_ach_cont8[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
set udg_ach_cont9[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
set udg_ach_cont10[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
set udg_ach_cont11[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
set udg_ach_cont12[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SaveStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3))),StringHash(("成就")),(((LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3))),StringHash(("成就"))))+(("-"+I2S(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+udg_achievement_title[4]))))
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]]))then
call PlaySoundBJ(gg_snd_WarlockAppears)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3)+("|r  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call SetPlayerName(GetOwningPlayer(GetKillingUnitBJ()),(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]-1)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xAF9C0D5D))))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_4 takes nothing returns nothing
set gg_trg_4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_4,Condition(function Trig_4Conditions))
call TriggerAddAction(gg_trg_4,function Trig_4Actions)
endfunction
function Trig_5Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==0)and((GetUnitPointValue(GetTriggerUnit())==1)or(GetUnitPointValue(GetTriggerUnit())==2))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==true)and(GetOwningPlayer(GetKillingUnitBJ())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))and(LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x8040EB16)==false))
endfunction
function Trig_5Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_QuestCompleted)
set udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x8040EB16,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,.0,(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3)+("|r  获得了成就 "+(udg_achievement_title[5]+"|r ！！！"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x84056CE3,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x84056CE3)+20))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ())))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,5)
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
set udg_ach_cont1[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
set udg_ach_cont2[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
set udg_ach_cont3[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
set udg_ach_cont4[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
set udg_ach_cont5[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
set udg_ach_cont6[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
set udg_ach_cont7[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
set udg_ach_cont8[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
set udg_ach_cont9[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
set udg_ach_cont10[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
set udg_ach_cont11[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
set udg_ach_cont12[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SaveStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3))),StringHash(("成就")),(((LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3))),StringHash(("成就"))))+(("-"+I2S(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+udg_achievement_title[5]))))
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]]))then
call PlaySoundBJ(gg_snd_WarlockAppears)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3)+("|r  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call SetPlayerName(GetOwningPlayer(GetKillingUnitBJ()),(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]-1)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xAF9C0D5D))))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_5 takes nothing returns nothing
set gg_trg_5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_5,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_5,Condition(function Trig_5Conditions))
call TriggerAddAction(gg_trg_5,function Trig_5Actions)
endfunction
function Trig_6Conditions takes nothing returns boolean
return(((GetResearched()=='R004')and(GetPlayerTechCountSimple('R004',GetOwningPlayer(GetTriggerUnit()))>=14))and(LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x3FFDB98C)==false))
endfunction
function Trig_6Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_QuestCompleted)
set udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x3FFDB98C,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r  获得了成就 "+(udg_achievement_title[6]+"|r ！！！"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)+20))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,6)
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
set udg_ach_cont1[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
set udg_ach_cont2[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
set udg_ach_cont3[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
set udg_ach_cont4[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
set udg_ach_cont5[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
set udg_ach_cont6[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
set udg_ach_cont7[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
set udg_ach_cont8[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
set udg_ach_cont9[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
set udg_ach_cont10[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
set udg_ach_cont11[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
set udg_ach_cont12[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SaveStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3))),StringHash(("成就")),(((LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3))),StringHash(("成就"))))+(("-"+I2S(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))+udg_achievement_title[6]))))
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]]))then
call PlaySoundBJ(gg_snd_WarlockAppears)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_6 takes nothing returns nothing
set gg_trg_6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_6,EVENT_PLAYER_UNIT_RESEARCH_FINISH)
call TriggerAddCondition(gg_trg_6,Condition(function Trig_6Conditions))
call TriggerAddAction(gg_trg_6,function Trig_6Actions)
endfunction
function Trig_7Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetTriggerPlayer())]==0)and(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)>=10000)and(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)>=10000)and(LoadBoolean(YDHT,GetHandleId(GetTriggerPlayer()),0x5E71AEC4)==false))
endfunction
function Trig_7Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_QuestCompleted)
set udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]+1)
call SaveBoolean(YDHT,GetHandleId(GetTriggerPlayer()),0x5E71AEC4,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+("|r  获得了成就 "+(udg_achievement_title[7]+"|r ！！！"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x84056CE3,(LoadInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x84056CE3)+25))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetConvertedPlayerId(GetTriggerPlayer()))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,7)
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
set udg_ach_cont1[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
set udg_ach_cont2[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
set udg_ach_cont3[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
set udg_ach_cont4[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
set udg_ach_cont5[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
set udg_ach_cont6[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
set udg_ach_cont7[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
set udg_ach_cont8[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
set udg_ach_cont9[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
set udg_ach_cont10[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
set udg_ach_cont11[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
set udg_ach_cont12[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SaveStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3))),StringHash(("成就")),(((LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3))),StringHash(("成就"))))+(("-"+I2S(udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]))+udg_achievement_title[7]))))
if((LoadInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]]))then
call PlaySoundBJ(gg_snd_WarlockAppears)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),.0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+("|r  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call SetPlayerName(GetTriggerPlayer(),(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]-1)]+(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xAF9C0D5D))))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_7 takes nothing returns nothing
set gg_trg_7=CreateTrigger()
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(0),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(1),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(2),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(3),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(4),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(5),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(6),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(7),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(8),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(9),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(10),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(11),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(12),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(13),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(14),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(15),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(0),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(1),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(2),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(3),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(4),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(5),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(6),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(7),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(8),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(9),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(10),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(11),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(12),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(13),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(14),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_7,Player(15),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10000.)
call TriggerAddCondition(gg_trg_7,Condition(function Trig_7Conditions))
call TriggerAddAction(gg_trg_7,function Trig_7Actions)
endfunction
function Trig_8Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetTriggerPlayer())]==1)and(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)>=10000)and(LoadBoolean(YDHT,GetHandleId(GetTriggerPlayer()),0x52449837)==false))
endfunction
function Trig_8Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_QuestCompleted)
set udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]+1)
call SaveBoolean(YDHT,GetHandleId(GetTriggerPlayer()),0x52449837,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+("|r  获得了成就 "+(udg_achievement_title[8]+"|r ！！！"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x84056CE3,(LoadInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x84056CE3)+25))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetConvertedPlayerId(GetTriggerPlayer()))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,8)
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
set udg_ach_cont1[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
set udg_ach_cont2[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
set udg_ach_cont3[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
set udg_ach_cont4[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
set udg_ach_cont5[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
set udg_ach_cont6[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
set udg_ach_cont7[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
set udg_ach_cont8[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
set udg_ach_cont9[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
set udg_ach_cont10[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
set udg_ach_cont11[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
set udg_ach_cont12[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SaveStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3))),StringHash(("成就")),(((LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3))),StringHash(("成就"))))+(("-"+I2S(udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]))+udg_achievement_title[8]))))
if((LoadInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]]))then
call PlaySoundBJ(gg_snd_WarlockAppears)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),.0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+("|r  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call SetPlayerName(GetTriggerPlayer(),(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]-1)]+(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xAF9C0D5D))))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_8 takes nothing returns nothing
set gg_trg_8=CreateTrigger()
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(0),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(1),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(2),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(3),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(4),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(5),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(6),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(7),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(8),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(9),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(10),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(11),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(12),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(13),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(14),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerRegisterPlayerStateEvent(gg_trg_8,Player(15),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,10000.)
call TriggerAddCondition(gg_trg_8,Condition(function Trig_8Conditions))
call TriggerAddAction(gg_trg_8,function Trig_8Actions)
endfunction
function Trig_9Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]==0)and(GetUnitPointValue(GetEventDamageSource())==50)and(LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(GetEventDamageSource())),0x962F8085)==false)and(GetUnitTypeId(GetEventDamageSource())!='h00P')and(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetEventDamageSource())),0x736A3C94)>0))then
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEventDamageSource())),0x736A3C94,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetEventDamageSource())),0x736A3C94)-(R2I(GetEventDamage())/225)))
else
endif
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]==1)and(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==true)and(LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x962F8085)==false))then
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x736A3C94,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetEventDamageSource())),0x736A3C94)-(R2I(GetEventDamage())/50)))
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x736A3C94)>=2500))then
call PlaySoundBJ(gg_snd_QuestCompleted)
set udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]+1)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x962F8085,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xBBAEF8F3)+("|r  获得了成就 "+(udg_achievement_title[9]+"|r ！！！"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x84056CE3,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x84056CE3)+25))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ())))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,9)
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
set udg_ach_cont1[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
set udg_ach_cont2[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
set udg_ach_cont3[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
set udg_ach_cont4[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
set udg_ach_cont5[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
set udg_ach_cont6[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
set udg_ach_cont7[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
set udg_ach_cont8[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
set udg_ach_cont9[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
set udg_ach_cont10[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
set udg_ach_cont11[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
set udg_ach_cont12[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SaveStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xBBAEF8F3))),StringHash(("成就")),(((LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xBBAEF8F3))),StringHash(("成就"))))+(("-"+I2S(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]))+udg_achievement_title[9]))))
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]]))then
call PlaySoundBJ(gg_snd_WarlockAppears)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),.0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xBBAEF8F3)+("|r  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call SetPlayerName(GetTriggerPlayer(),(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]-1)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xAF9C0D5D))))
else
endif
else
endif
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_9 takes nothing returns nothing
set gg_trg_9=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_9)
call TriggerAddAction(gg_trg_9,function Trig_9Actions)
endfunction
function Trig_goConditions takes nothing returns boolean
return((udg_go[GetConvertedPlayerId(GetTriggerPlayer())]==0)and(udg_Number[GetConvertedPlayerId(GetTriggerPlayer())]==1))
endfunction
function Trig_goFunc004003002 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_goActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_go[GetConvertedPlayerId(GetTriggerPlayer())]=1
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfPlayerMatchingNull(GetTriggerPlayer(),Condition(function Trig_goFunc004003002)))
if(((GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==1)or(GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==3)))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_com_go,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_com_go_f,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call YDWEPolledWaitNull(10.)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_go[GetConvertedPlayerId(GetTriggerPlayer())]=0
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_go takes nothing returns nothing
set gg_trg_go=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(0),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(1),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(2),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(3),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(4),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(5),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(6),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(7),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(8),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(9),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(10),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(11),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(12),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(13),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(14),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(15),"go",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(0),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(1),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(2),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(3),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(4),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(5),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(6),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(7),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(8),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(9),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(10),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(11),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(12),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(13),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(14),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(15),"GO",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(0),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(1),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(2),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(3),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(4),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(5),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(6),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(7),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(8),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(9),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(10),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(11),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(12),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(13),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(14),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(15),"冲啊",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(0),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(1),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(2),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(3),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(4),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(5),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(6),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(7),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(8),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(9),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(10),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(11),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(12),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(13),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(14),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(15),"我们上！",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(0),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(1),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(2),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(3),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(4),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(5),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(6),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(7),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(8),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(9),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(10),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(11),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(12),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(13),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(14),"上",true)
call TriggerRegisterPlayerChatEvent(gg_trg_go,Player(15),"上",true)
call TriggerAddCondition(gg_trg_go,Condition(function Trig_goConditions))
call TriggerAddAction(gg_trg_go,function Trig_goActions)
endfunction
function Trig_affirmConditions takes nothing returns boolean
return((udg_affirm[GetConvertedPlayerId(GetTriggerPlayer())]==0)and(udg_Number[GetConvertedPlayerId(GetTriggerPlayer())]==1))
endfunction
function Trig_affirmFunc004003002 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_affirmActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_affirm[GetConvertedPlayerId(GetTriggerPlayer())]=1
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfPlayerMatchingNull(GetTriggerPlayer(),Condition(function Trig_affirmFunc004003002)))
if(((GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==1)or(GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==3)))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_ct_affirm,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_ct_affirm_f,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call YDWEPolledWaitNull(10.)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_affirm[GetConvertedPlayerId(GetTriggerPlayer())]=0
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_affirm takes nothing returns nothing
set gg_trg_affirm=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(0),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(1),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(2),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(3),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(4),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(5),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(6),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(7),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(8),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(9),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(10),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(11),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(12),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(13),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(14),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(15),"明白",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(0),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(1),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(2),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(3),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(4),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(5),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(6),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(7),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(8),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(9),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(10),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(11),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(12),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(13),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(14),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(15),"OK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(0),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(1),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(2),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(3),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(4),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(5),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(6),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(7),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(8),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(9),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(10),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(11),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(12),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(13),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(14),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(15),"没问题",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(0),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(1),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(2),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(3),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(4),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(5),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(6),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(7),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(8),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(9),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(10),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(11),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(12),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(13),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(14),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(15),"可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(0),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(1),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(2),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(3),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(4),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(5),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(6),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(7),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(8),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(9),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(10),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(11),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(12),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(13),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(14),"行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_affirm,Player(15),"行",true)
call TriggerAddCondition(gg_trg_affirm,Condition(function Trig_affirmConditions))
call TriggerAddAction(gg_trg_affirm,function Trig_affirmActions)
endfunction
function Trig_backupConditions takes nothing returns boolean
return((udg_backup[GetConvertedPlayerId(GetTriggerPlayer())]==0)and(udg_Number[GetConvertedPlayerId(GetTriggerPlayer())]==1))
endfunction
function Trig_backupFunc004003002 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_backupActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_backup[GetConvertedPlayerId(GetTriggerPlayer())]=1
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfPlayerMatchingNull(GetTriggerPlayer(),Condition(function Trig_backupFunc004003002)))
if(((GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==1)or(GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==3)))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_ct_backup,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_ct_backup_f,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call YDWEPolledWaitNull(10.)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_backup[GetConvertedPlayerId(GetTriggerPlayer())]=0
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_backup takes nothing returns nothing
set gg_trg_backup=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(0),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(1),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(2),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(3),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(4),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(5),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(6),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(7),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(8),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(9),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(10),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(11),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(12),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(13),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(14),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(15),"需要支援",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(0),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(1),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(2),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(3),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(4),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(5),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(6),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(7),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(8),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(9),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(10),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(11),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(12),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(13),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(14),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(15),"大家快来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(0),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(1),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(2),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(3),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(4),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(5),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(6),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(7),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(8),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(9),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(10),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(11),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(12),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(13),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(14),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(15),"快来帮我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(0),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(1),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(2),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(3),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(4),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(5),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(6),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(7),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(8),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(9),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(10),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(11),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(12),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(13),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(14),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(15),"我快不行了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(0),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(1),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(2),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(3),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(4),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(5),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(6),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(7),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(8),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(9),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(10),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(11),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(12),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(13),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(14),"支援我",true)
call TriggerRegisterPlayerChatEvent(gg_trg_backup,Player(15),"支援我",true)
call TriggerAddCondition(gg_trg_backup,Condition(function Trig_backupConditions))
call TriggerAddAction(gg_trg_backup,function Trig_backupActions)
endfunction
function Trig_fallbackConditions takes nothing returns boolean
return((udg_fallback[GetConvertedPlayerId(GetTriggerPlayer())]==0)and(udg_Number[GetConvertedPlayerId(GetTriggerPlayer())]==1))
endfunction
function Trig_fallbackFunc004003002 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_fallbackActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_fallback[GetConvertedPlayerId(GetTriggerPlayer())]=1
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfPlayerMatchingNull(GetTriggerPlayer(),Condition(function Trig_fallbackFunc004003002)))
if(((GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==1)or(GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==3)))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_fallback,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_fallback_f,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call YDWEPolledWaitNull(10.)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_fallback[GetConvertedPlayerId(GetTriggerPlayer())]=0
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_fallback takes nothing returns nothing
set gg_trg_fallback=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(0),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(1),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(2),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(3),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(4),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(5),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(6),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(7),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(8),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(9),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(10),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(11),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(12),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(13),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(14),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(15),"全部撤退",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(0),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(1),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(2),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(3),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(4),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(5),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(6),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(7),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(8),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(9),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(10),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(11),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(12),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(13),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(14),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(15),"快跑",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(0),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(1),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(2),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(3),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(4),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(5),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(6),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(7),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(8),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(9),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(10),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(11),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(12),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(13),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(14),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(15),"去回血",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(0),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(1),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(2),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(3),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(4),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(5),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(6),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(7),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(8),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(9),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(10),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(11),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(12),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(13),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(14),"别打了",true)
call TriggerRegisterPlayerChatEvent(gg_trg_fallback,Player(15),"别打了",true)
call TriggerAddCondition(gg_trg_fallback,Condition(function Trig_fallbackConditions))
call TriggerAddAction(gg_trg_fallback,function Trig_fallbackActions)
endfunction
function Trig_followmeConditions takes nothing returns boolean
return((udg_followme[GetConvertedPlayerId(GetTriggerPlayer())]==0)and(udg_Number[GetConvertedPlayerId(GetTriggerPlayer())]==1))
endfunction
function Trig_followmeFunc004003002 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_followmeActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_followme[GetConvertedPlayerId(GetTriggerPlayer())]=1
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfPlayerMatchingNull(GetTriggerPlayer(),Condition(function Trig_followmeFunc004003002)))
if(((GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==1)or(GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==3)))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_followme,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_followme_f,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call YDWEPolledWaitNull(10.)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_followme[GetConvertedPlayerId(GetTriggerPlayer())]=0
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_followme takes nothing returns nothing
set gg_trg_followme=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(0),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(1),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(2),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(3),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(4),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(5),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(6),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(7),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(8),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(9),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(10),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(11),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(12),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(13),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(14),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(15),"跟我来",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(0),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(1),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(2),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(3),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(4),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(5),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(6),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(7),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(8),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(9),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(10),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(11),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(12),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(13),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(14),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(15),"跟我走",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(0),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(1),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(2),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(3),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(4),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(5),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(6),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(7),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(8),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(9),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(10),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(11),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(12),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(13),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(14),"和我一起",true)
call TriggerRegisterPlayerChatEvent(gg_trg_followme,Player(15),"和我一起",true)
call TriggerAddCondition(gg_trg_followme,Condition(function Trig_followmeConditions))
call TriggerAddAction(gg_trg_followme,function Trig_followmeActions)
endfunction
function Trig_negativeConditions takes nothing returns boolean
return((udg_nagative[GetConvertedPlayerId(GetTriggerPlayer())]==0)and(udg_Number[GetConvertedPlayerId(GetTriggerPlayer())]==1))
endfunction
function Trig_negativeFunc004003002 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_negativeActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_nagative[GetConvertedPlayerId(GetTriggerPlayer())]=1
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfPlayerMatchingNull(GetTriggerPlayer(),Condition(function Trig_negativeFunc004003002)))
if(((GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==1)or(GetUnitPointValue(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)))==3)))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_negative,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3),gg_snd_negative_f,GetEventPlayerChatString(),bj_TIMETYPE_ADD,.25,true)
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call YDWEPolledWaitNull(10.)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set udg_nagative[GetConvertedPlayerId(GetTriggerPlayer())]=0
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_negative takes nothing returns nothing
set gg_trg_negative=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(0),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(1),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(2),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(3),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(4),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(5),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(6),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(7),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(8),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(9),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(10),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(11),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(12),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(13),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(14),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(15),"不可以",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(0),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(1),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(2),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(3),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(4),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(5),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(6),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(7),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(8),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(9),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(10),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(11),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(12),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(13),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(14),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(15),"不可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(0),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(1),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(2),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(3),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(4),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(5),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(6),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(7),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(8),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(9),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(10),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(11),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(12),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(13),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(14),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(15),"不行",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(0),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(1),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(2),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(3),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(4),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(5),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(6),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(7),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(8),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(9),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(10),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(11),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(12),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(13),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(14),"怎么可能",true)
call TriggerRegisterPlayerChatEvent(gg_trg_negative,Player(15),"怎么可能",true)
call TriggerAddCondition(gg_trg_negative,Condition(function Trig_negativeConditions))
call TriggerAddAction(gg_trg_negative,function Trig_negativeActions)
endfunction
function Trig_enemysFunc001Func001Func002003002 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitAliveBJ(GetFilterUnit())==true)))
endfunction
function Trig_enemysFunc001Func001Func005003003 takes nothing returns boolean
return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))==true)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))==true)))
endfunction
function Trig_enemysFunc001Func001Func007Func002Func005003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true)))
endfunction
function Trig_enemysActions takes nothing returns nothing
local integer ydul_i
local integer ydul_c
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set ydul_i=1
loop
exitwhen ydul_i>12
if(((udg_Number[GetConvertedPlayerId(ConvertedPlayer(ydul_i))]==1)or(IsPlayerInForce(ConvertedPlayer(ydul_i),udg_group_of_players[0])==true)))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(ConvertedPlayer(ydul_i),Condition(function Trig_enemysFunc001Func001Func002003002)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB,YDWEGetUnitsInRangeOfLocMatchingNull(1500.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),Condition(function Trig_enemysFunc001Func001Func005003003)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
if((CountUnitsInGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB))>=1))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB)))
if((LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788))),0x9BBE45E5)!=true))then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788))),0x9BBE45E5,true)
if(((GetUnitPointValue(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))==1)or(GetUnitPointValue(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))==3)))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_ct_enemys,"发现Human！！！",bj_TIMETYPE_ADD,.5,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_ct_enemys_f,"发现Human！！！",bj_TIMETYPE_ADD,.5,true)
endif
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0x4BB7FBCF)+1))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7C24209D,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788)),Condition(function Trig_enemysFunc001Func001Func007Func002Func005003002)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7C24209D)))
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788))=='h001'))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788)),gg_snd_enemys_n,"尼玛，这就被发现了啊？？我靠，你TM开全图吧...",bj_TIMETYPE_ADD,0,true)
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788))=='h005'))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788)),gg_snd_enemys_g,"嗯？这才多久啊，你TMD就找到我了，据我分析，你有15%的几率是找到的，5%的几率是开全图，10%的几率是你开黑，50%的几率是造了大本营看到的，20%的几率是乱找找到的...噢，不不不，我都把自己给绕晕了，草",bj_TIMETYPE_ADD,0,true)
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788))=='h006'))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788)),gg_snd_enemys_f,"嘘，你不要给别人说啊...",bj_TIMETYPE_ADD,0,true)
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788))=='h01M'))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788)),gg_snd_enemys_y,"我正忙着呢，次奥，大部队还有那么久才到，你TMD就找到我了？？",bj_TIMETYPE_ADD,0,true)
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788))=='h04L'))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1BF14788)),gg_snd_BanditPissed3,"诶，你这逗逼，我还在数钱呢，等等，一块钱、二块钱、五块钱、八块钱、一百块，终于数完了，让哥哥来陪你玩会儿吧。",bj_TIMETYPE_ADD,0,true)
else
endif
endif
endif
endif
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7C24209D))
else
endif
else
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,0)
set ydul_c=1
loop
exitwhen ydul_c>12
if((GetPlayerController(ConvertedPlayer(ydul_c))==MAP_CONTROL_USER)and(GetPlayerSlotState(ConvertedPlayer(ydul_c))==PLAYER_SLOT_STATE_PLAYING)and(udg_Number[GetConvertedPlayerId(ConvertedPlayer(ydul_c))]==0)and(LoadBoolean(YDHT,GetHandleId(ConvertedPlayer(ydul_c)),0x9BBE45E5)!=true)and(LoadBoolean(YDHT,GetHandleId(ConvertedPlayer(ydul_c)),0x602978BD)!=true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1))
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)<=0))then
call DisableTrigger(GetTriggeringTrigger())
call DestroyTrigger(GetTriggeringTrigger())
else
endif
else
endif
set ydul_i=ydul_i+1
endloop
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_enemys takes nothing returns nothing
set gg_trg_enemys=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_enemys,.5)
call TriggerAddAction(gg_trg_enemys,function Trig_enemysActions)
endfunction
function Trig_up_attackFunc004A takes nothing returns nothing
call UnitAddAbility(GetEnumUnit(),'A06D')
endfunction
function Trig_up_attackFunc007Func004A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A06D',2)
endfunction
function Trig_up_attackFunc007T takes nothing returns nothing
local integer ydul_i
local group ydl_group
local unit ydl_unit
call PlaySoundBJ(gg_snd_HumanCallToArmsWhat1)
set ydul_i=1
loop
exitwhen ydul_i>12
call DisplayTextToPlayer(ConvertedPlayer(ydul_i),0,0,"僵尸的福利又来啦！！\n增加你们100%的攻击力...")
set ydul_i=ydul_i+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC),function Trig_up_attackFunc007Func004A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC))
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_up_attackActions takes nothing returns nothing
local integer ydul_i
local group ydl_group
local unit ydl_unit
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PlaySoundBJ(gg_snd_HumanCallToArmsWhat1)
set ydul_i=1
loop
exitwhen ydul_i>12
call DisplayTextToPlayer(ConvertedPlayer(ydul_i),0,0,"僵尸的福利来啦！！\n增加你们50%的攻击力...")
set ydul_i=ydul_i+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_up_attackFunc004A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveGroupHandle(YDHT,GetHandleId(ydl_timer),0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call TimerStart(ydl_timer,300.,false,function Trig_up_attackFunc007T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
set ydl_timer=null
endfunction
function InitTrig_up_attack takes nothing returns nothing
set gg_trg_up_attack=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_up_attack,udg_Timer_game)
call TriggerAddAction(gg_trg_up_attack,function Trig_up_attackActions)
endfunction
function Trig_science_and_technologyActions takes nothing returns nothing
if((GetResearched()=='R004'))then
call YDWEPolledWaitNull(.1)
call SetUnitAnimation(GetTriggerUnit(),"work")
else
if((GetResearched()=='R006'))then
call YDWEPolledWaitNull(.1)
call SetUnitAnimation(GetTriggerUnit(),"work")
else
endif
endif
endfunction
function InitTrig_science_and_technology takes nothing returns nothing
set gg_trg_science_and_technology=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_science_and_technology,EVENT_PLAYER_UNIT_RESEARCH_FINISH)
call TriggerAddAction(gg_trg_science_and_technology,function Trig_science_and_technologyActions)
endfunction
function Trig_Human_deathConditions takes nothing returns boolean
return(((GetUnitPointValue(GetTriggerUnit())==1)or(GetUnitPointValue(GetTriggerUnit())==2))and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==0)and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1)and(YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit(),'clfm')!=true))
endfunction
function Trig_Human_deathFunc001Func019003002 takes nothing returns boolean
return(((GetUnitPointValue(GetFilterUnit())==1)or(GetUnitPointValue(GetFilterUnit())==2)))
endfunction
function Trig_Human_deathFunc001Func047003002 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true))
endfunction
function Trig_Human_deathFunc001Func048A takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function Trig_Human_deathActions takes nothing returns nothing
local integer ydul_i
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((IsUnitIllusionBJ(GetKillingUnitBJ())==false))then
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUTIN,.4,"ReplaceableTextures\\CameraMasks\\HazeAndFogFilter_Mask.blp",100.,0,0,0)
call SavePlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B,GetOwningPlayer(GetDyingUnit()))
set udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))]=1
set udg_Number[99]=(udg_Number[99]+1)
call ForceAddPlayer(udg_group_of_players[0],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
call ForceRemovePlayer(udg_group_of_players[1],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
set ydul_i=1
loop
exitwhen ydul_i>12
if((udg_Number[GetConvertedPlayerId(ConvertedPlayer(ydul_i))]==1))then
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ConvertedPlayer(ydul_i),bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(ConvertedPlayer(ydul_i),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED_VISION)
else
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ConvertedPlayer(ydul_i),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(ConvertedPlayer(ydul_i),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_UNALLIED)
call SetPlayerAlliance(ConvertedPlayer(ydul_i),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ALLIANCE_SHARED_VISION,false)
endif
set ydul_i=ydul_i+1
endloop
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED)
call SetFogStateRect(GetOwningPlayer(GetTriggerUnit()),FOG_OF_WAR_FOGGED,GetPlayableMapRect(),true)
call SetPlayerStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_LUMBER,0)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Condition(function Trig_Human_deathFunc001Func019003002)))
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'plcl')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181,'plcl')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'pnvl')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794,'pnvl')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I00A')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1,'I00A')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I00F')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3,'I00F')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I01P')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009,'I01P')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009,GetItemTypeId(null))
endif
if((YDWEUnitHasItemOfTypeBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'I04A')==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96,'I04A')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96,GetItemTypeId(null))
endif
if((GetUnitPointValue(GetDyingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_human_death_01)
else
call PlaySoundBJ(gg_snd_human_death_02)
endif
else
if((GetUnitPointValue(GetDyingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_human_death_female_01)
else
call PlaySoundBJ(gg_snd_human_death_female_02)
endif
else
endif
endif
set ydul_i=1
loop
exitwhen ydul_i>6
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9DA51395,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9DA51395)+R2I(GetItemLifeBJ(UnitItemInSlotBJ(GetKillingUnitBJ(),ydul_i)))))
set ydul_i=ydul_i+1
endloop
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9DA51395,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9DA51395)+GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9DA51395,R2I((I2R(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9DA51395))*.8)))
call SetPlayerStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_GOLD,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9DA51395))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xF034EC60,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xF034EC60)+3))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetDyingUnit())),0x9B5D2FB9,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetDyingUnit())),0x9B5D2FB9)+1))
call YDWEReplaceUnitBJNull(FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001)),'H002',bj_UNIT_STATE_METHOD_MAXIMUM)
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D,"(普通僵尸)")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H002')
call SetPlayerName(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),((LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))]-1)])+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xAF9C0D5D))))
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x446DE794),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF9C807E1),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCC612AE3),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2C45A009),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA6870C96),bj_lastReplacedUnit)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",bj_lastReplacedUnit,"origin"))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call SetHeroLevelBJ(GetKillingUnitBJ(),(GetHeroLevel(GetKillingUnitBJ())+1),false)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0,YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Condition(function Trig_Human_deathFunc001Func047003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0),function Trig_Human_deathFunc001Func048A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5F1515B0))
if((GetRandomInt(1,2)==1))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xBBAEF8F3)+("|r 无助的被 "+(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3)+"|r 感染了！！！"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xBBAEF8F3)+("|r 强悍的把 "+(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xBBAEF8F3)+"|r 感染了！！！"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),GetOwningPlayer(GetTriggerUnit()),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetOwningPlayer(GetTriggerUnit()),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_UNALLIED)
call YDWEPolledWaitNull(.3)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SetPlayerState(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_GIVES_BOUNTY,1)
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_zombi_coming_1)
else
call PlaySoundBJ(gg_snd_zombi_coming_2)
endif
else
call KillUnit(GetKillingUnitBJ())
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetTriggerUnit()))
call CreateNUnitsAtLoc(1,GetUnitTypeId(GetTriggerUnit()),GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),GetUnitFacing(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x0EF5DDF0,bj_lastCreatedUnit)
call SelectUnitForPlayerSingle(bj_lastCreatedUnit,GetOwningPlayer(GetTriggerUnit()))
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Human_death takes nothing returns nothing
set gg_trg_Human_death=CreateTrigger()
call DisableTrigger(gg_trg_Human_death)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Human_death,Condition(function Trig_Human_deathConditions))
call TriggerAddAction(gg_trg_Human_death,function Trig_Human_deathActions)
endfunction
function Trig_Human_npcConditions takes nothing returns boolean
return(((GetUnitTypeId(GetTriggerUnit())=='h006')or(GetUnitTypeId(GetTriggerUnit())=='h005')or(GetUnitTypeId(GetTriggerUnit())=='h001')or(GetUnitTypeId(GetTriggerUnit())=='h01M')or(GetUnitTypeId(GetTriggerUnit())=='h04L')))
endfunction
function Trig_Human_npcActions takes nothing returns nothing
call SaveStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D,("("+(GetUnitName(GetTriggerUnit())+")")))
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)])+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
call SetUnitVertexColorBJ(GetTriggerUnit(),100,100,100,0)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,GetUnitTypeId(GetTriggerUnit()))
endfunction
function InitTrig_Human_npc takes nothing returns nothing
set gg_trg_Human_npc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_npc,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddCondition(gg_trg_Human_npc,Condition(function Trig_Human_npcConditions))
call TriggerAddAction(gg_trg_Human_npc,function Trig_Human_npcActions)
endfunction
function Trig_Human_win_1Func015A takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),GetEnumPlayer(),bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_ALLIED_VISION)
endfunction
function Trig_Human_win_1Func018003002 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitAliveBJ(GetFilterUnit())==true)))
endfunction
function Trig_Human_win_1Func019A takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80,GetUnitLoc(GetEnumUnit()))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x774DA7A4,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80),150.,GetRandomDirectionDeg()))
call CreateNUnitsAtLoc(1,'zmar',Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x774DA7A4),bj_UNIT_FACING)
call IssueTargetOrder(bj_lastCreatedUnit,"attack",GetEnumUnit())
call YDWETimerRemoveUnit(5.,bj_lastCreatedUnit)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x774DA7A4))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function Trig_Human_win_1Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call DisableTrigger(gg_trg_Vote_kicking)
call DisableTrigger(gg_trg_Vote_kicking_fz)
call DisableTrigger(gg_trg_MH)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Human_win_2)
call DisableTrigger(gg_trg_Zombi_death)
call DisableTrigger(gg_trg_Zombi_win)
call DisableTrigger(gg_trg_Reinforcement_of_forces_fz1)
call EnableTrigger(gg_trg_Human_win_fz)
call DestroyTimerDialog(udg_chuangkou)
call PauseTimer(udg_Human_jishiqi)
call FogEnable(false)
call FogMaskEnable(false)
call YDWEPauseAllUnitsBJNull(true)
call ForForce(udg_group_of_players[1],function Trig_Human_win_1Func015A)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_ALLIED)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect(),Condition(function Trig_Human_win_1Func018003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001),function Trig_Human_win_1Func019A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call ResetToGameCameraForPlayer(ConvertedPlayer(GetForLoopIndexA()),0)
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,"|cFF0066FF人类胜利")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PlaySoundBJ(gg_snd_win_human)
call YDWEPolledWaitNull(5.)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call TriggerExecute(gg_trg_Games_end)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Human_win_1 takes nothing returns nothing
set gg_trg_Human_win_1=CreateTrigger()
call DisableTrigger(gg_trg_Human_win_1)
call TriggerRegisterTimerExpireEvent(gg_trg_Human_win_1,udg_Human_jishiqi)
call TriggerAddAction(gg_trg_Human_win_1,function Trig_Human_win_1Actions)
endfunction
function Trig_Human_win_2Conditions takes nothing returns boolean
return((CountPlayersInForceBJ(udg_group_of_players[0])==0))
endfunction
function Trig_Human_win_2Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Human_win_1)
call DisableTrigger(gg_trg_Zombi_death)
call DisableTrigger(gg_trg_Zombi_win)
call DisableTrigger(gg_trg_Vote_kicking)
call DisableTrigger(gg_trg_Vote_kicking_fz)
call DisableTrigger(gg_trg_MH)
call DestroyTimerDialog(udg_chuangkou)
call PauseTimer(udg_Human_jishiqi)
call FogEnable(false)
call FogMaskEnable(false)
call YDWEPauseAllUnitsBJNull(true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call ResetToGameCameraForPlayer(ConvertedPlayer(GetForLoopIndexA()),0)
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,"|cFF0066FF人类胜利")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PlaySoundBJ(gg_snd_win_human)
call YDWEPolledWaitNull(5.)
call TriggerExecute(gg_trg_Games_end)
endfunction
function InitTrig_Human_win_2 takes nothing returns nothing
set gg_trg_Human_win_2=CreateTrigger()
call DisableTrigger(gg_trg_Human_win_2)
call TriggerRegisterTimerEventPeriodic(gg_trg_Human_win_2,1.)
call TriggerAddCondition(gg_trg_Human_win_2,Condition(function Trig_Human_win_2Conditions))
call TriggerAddAction(gg_trg_Human_win_2,function Trig_Human_win_2Actions)
endfunction
function Trig_Human_win_3Conditions takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())=='n006'))
endfunction
function Trig_Human_win_3Func015A takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),GetEnumPlayer(),bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_ALLIED_VISION)
endfunction
function Trig_Human_win_3Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Human_win_1)
call DisableTrigger(gg_trg_Human_win_2)
call DisableTrigger(gg_trg_Zombi_death)
call DisableTrigger(gg_trg_Zombi_win)
call DisableTrigger(gg_trg_Vote_kicking)
call EnableTrigger(gg_trg_Human_win_fz)
call DisableTrigger(gg_trg_MH)
call DestroyTimerDialog(udg_chuangkou)
call PauseTimer(udg_Human_jishiqi)
call FogEnable(false)
call FogMaskEnable(false)
call YDWEPauseAllUnitsBJNull(true)
call ForForce(udg_group_of_players[1],function Trig_Human_win_3Func015A)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call ResetToGameCameraForPlayer(ConvertedPlayer(GetForLoopIndexA()),0)
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,"|cFF0066FF人类胜利")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PlaySoundBJ(gg_snd_win_human)
call YDWEPolledWaitNull(5.)
call TriggerExecute(gg_trg_Games_end)
endfunction
function InitTrig_Human_win_3 takes nothing returns nothing
set gg_trg_Human_win_3=CreateTrigger()
call DisableTrigger(gg_trg_Human_win_3)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_win_3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Human_win_3,Condition(function Trig_Human_win_3Conditions))
call TriggerAddAction(gg_trg_Human_win_3,function Trig_Human_win_3Actions)
endfunction
function Trig_Human_win_fzConditions takes nothing returns boolean
return((GetUnitTypeId(GetEventDamageSource())=='zmar'))
endfunction
function Trig_Human_win_fzActions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTarget(GetEventDamageSource(),GetAttackedUnitBJ(),(GetUnitState(GetAttackedUnitBJ(),UNIT_STATE_MAX_LIFE)*.02),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Human_win_fz takes nothing returns nothing
set gg_trg_Human_win_fz=CreateTrigger()
call DisableTrigger(gg_trg_Human_win_fz)
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Human_win_fz)
call TriggerAddCondition(gg_trg_Human_win_fz,Condition(function Trig_Human_win_fzConditions))
call TriggerAddAction(gg_trg_Human_win_fz,function Trig_Human_win_fzActions)
endfunction
function Trig_Human_vision_uConditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]!=1)and(GetUnitTypeId(GetTriggerUnit())=='o000'))
endfunction
function Trig_Human_vision_uFunc002003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((GetUnitTypeId(GetFilterUnit())=='o000')and(LoadBoolean(YDHT,GetHandleId(GetFilterUnit()),0x8615081F)==true))))
endfunction
function Trig_Human_vision_uActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetTriggerUnit()),Condition(function Trig_Human_vision_uFunc002003002)))
if((IsUnitGroupEmptyBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))==false))then
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xA7D338CE,CountUnitsInGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC)))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((udg_Number[GetConvertedPlayerId(ConvertedPlayer(GetForLoopIndexA()))]==0)and(GetOwningPlayer(GetTriggerUnit())!=ConvertedPlayer(GetForLoopIndexA()))and(LoadBoolean(YDHT,GetHandleId(ConvertedPlayer(GetForLoopIndexA())),0x602978BD)!=true))then
call SetPlayerAlliance(ConvertedPlayer(GetForLoopIndexA()),GetOwningPlayer(GetTriggerUnit()),ALLIANCE_SHARED_VISION,true)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xA7D338CE,0)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((udg_Number[GetConvertedPlayerId(ConvertedPlayer(GetForLoopIndexA()))]==0)and(GetOwningPlayer(GetTriggerUnit())!=ConvertedPlayer(GetForLoopIndexA())))then
call SetPlayerAlliance(ConvertedPlayer(GetForLoopIndexA()),GetOwningPlayer(GetTriggerUnit()),ALLIANCE_SHARED_VISION,false)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Human_vision_u takes nothing returns nothing
set gg_trg_Human_vision_u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_vision_u,EVENT_PLAYER_UNIT_CONSTRUCT_FINISH)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_vision_u,EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_vision_u,EVENT_PLAYER_UNIT_CONSTRUCT_CANCEL)
call TriggerAddCondition(gg_trg_Human_vision_u,Condition(function Trig_Human_vision_uConditions))
call TriggerAddAction(gg_trg_Human_vision_u,function Trig_Human_vision_uActions)
endfunction
function Trig_Human_skill_1Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A00Y'))
endfunction
function Trig_Human_skill_1Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x0EF5DDF0,GetSpellTargetUnit())
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x0EF5DDF0)))
call IssueImmediateOrder(GetTriggerUnit(),"stop")
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),400.,GetUnitFacing(GetTriggerUnit())))
call UnitRemoveAbility(GetTriggerUnit(),'A00Y')
call UnitAddAbility(GetTriggerUnit(),'A00Z')
call IssueNeutralPointOrder(GetOwningPlayer(GetTriggerUnit()),GetTriggerUnit(),"blink",GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4)))
call YDWEPolledWaitNull(.2)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call UnitRemoveAbility(GetTriggerUnit(),'A00Z')
call UnitAddAbility(GetTriggerUnit(),'A00Y')
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x0EF5DDF0,null)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Human_skill_1 takes nothing returns nothing
set gg_trg_Human_skill_1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_skill_1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Human_skill_1,Condition(function Trig_Human_skill_1Conditions))
call TriggerAddAction(gg_trg_Human_skill_1,function Trig_Human_skill_1Actions)
endfunction
function Trig_Human_skill_2Conditions takes nothing returns boolean
return((IsUnitAliveBJ(GetAttackedUnitBJ())==true)and(GetUnitPointValue(GetEventDamageSource())==40))
endfunction
function Trig_Human_skill_2Func001T takes nothing returns nothing
if((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788))==true))then
call DisableTrigger(gg_trg_Human_skill_2)
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h00R')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h032')))then
call SetUnitManaBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MANA)-(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*(.0005))))
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*(.0005))*20.),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h033'))then
call SetUnitManaBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MANA)-(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*(.001))))
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*(.001))*30.),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h034'))then
call SetUnitManaBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MANA)-(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*(.002))))
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*(.002))*45.),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
else
endif
endif
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h00X')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h035')))then
call SetUnitManaBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MANA)-(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*(.025))))
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*(.025))*80.),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h036'))then
call SetUnitManaBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MANA)-(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*.05)))
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*.05)*160.),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h037'))then
call SetUnitManaBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MANA)-(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*(.075))))
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*(.075))*240.),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
else
endif
endif
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01B')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h038')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h039')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h03A')))then
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*.08))
call SetUnitManaBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MANA)-LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)))
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)*200.),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
if((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MANA)<(1.*(I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01W'))*175.))))then
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_MANA)*(2.5*I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01W')))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl",LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),"origin"))
else
endif
else
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01C')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h03D')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h03E')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h03C')))then
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_MAX_LIFE)*(I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01X'))*(.0002))),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),"chest"))
else
endif
call EnableTrigger(gg_trg_Human_skill_2)
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Human_skill_2Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetEventDamageSource())
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x1BF14788,GetAttackedUnitBJ())
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call TimerStart(ydl_timer,.05,false,function Trig_Human_skill_2Func001T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Human_skill_2 takes nothing returns nothing
set gg_trg_Human_skill_2=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Human_skill_2)
call TriggerAddCondition(gg_trg_Human_skill_2,Condition(function Trig_Human_skill_2Conditions))
call TriggerAddAction(gg_trg_Human_skill_2,function Trig_Human_skill_2Actions)
endfunction
function Trig_Human_skill_3Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((IsUnitAliveBJ(GetAttackedUnitBJ())==true)and(GetAttackedUnitBJ()==GetEventDamageSource())and((GetUnitTypeId(GetEventDamageSource())=='h019')or(GetUnitTypeId(GetEventDamageSource())=='h03K')or(GetUnitTypeId(GetEventDamageSource())=='h03L')or(GetUnitTypeId(GetEventDamageSource())=='h03M'))and(LoadUnitHandle(YDHT,GetHandleId(GetEventDamageSource()),0xEFC23552)!=null))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnit(GetOwningPlayer(GetEventDamageSource()),'h01D',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),.0))
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),'A01U',GetUnitAbilityLevel(GetTriggerUnit(),'A026'))
call IssueTargetOrder(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),"chainlightning",LoadUnitHandle(YDHT,GetHandleId(GetTriggerUnit()),0xEFC23552))
call YDWETimerRemoveUnit(2.,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,null)
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Human_skill_3 takes nothing returns nothing
set gg_trg_Human_skill_3=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Human_skill_3)
call TriggerAddAction(gg_trg_Human_skill_3,function Trig_Human_skill_3Actions)
endfunction
function Trig_Human_skill_3_fzConditions takes nothing returns boolean
return((IsUnitAliveBJ(GetAttackedUnitBJ())==true)and((GetUnitTypeId(GetAttacker())=='h019')or(GetUnitTypeId(GetAttacker())=='h03K')or(GetUnitTypeId(GetAttacker())=='h03L')or(GetUnitTypeId(GetAttacker())=='h03M'))and(LoadUnitHandle(YDHT,GetHandleId(GetAttacker()),0xEFC23552)!=GetAttackedUnitBJ()))
endfunction
function Trig_Human_skill_3_fzActions takes nothing returns nothing
if((LoadUnitHandle(YDHT,GetHandleId(GetAttacker()),0xEFC23552)!=null))then
call RemoveSavedHandle(YDHT,GetHandleId(GetAttacker()),0xEFC23552)
call SaveUnitHandle(YDHT,GetHandleId(GetAttacker()),0xEFC23552,GetAttackedUnitBJ())
else
call SaveUnitHandle(YDHT,GetHandleId(GetAttacker()),0xEFC23552,GetAttackedUnitBJ())
endif
endfunction
function InitTrig_Human_skill_3_fz takes nothing returns nothing
set gg_trg_Human_skill_3_fz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_skill_3_fz,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Human_skill_3_fz,Condition(function Trig_Human_skill_3_fzConditions))
call TriggerAddAction(gg_trg_Human_skill_3_fz,function Trig_Human_skill_3_fzActions)
endfunction
function Trig_Human_skill_4_5Conditions takes nothing returns boolean
return((IsUnitAliveBJ(GetAttackedUnitBJ())==true))
endfunction
function Trig_Human_skill_4_5Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetUnitTypeId(GetAttackedUnitBJ())=='h00U'))then
if((GetRandomInt(1,100)<=5))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetAttackedUnitBJ()))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4,GetUnitLoc(GetAttacker()))
call CreateNUnitsAtLoc(1,'h01E',GetOwningPlayer(GetAttackedUnitBJ()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4)))
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A02B',(GetPlayerTechCountSimple('R00C',GetOwningPlayer(GetAttackedUnitBJ()))+1))
call YDWETimerRemoveUnit(1.,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"thunderbolt",GetAttacker())
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4))
else
endif
else
endif
if((GetUnitTypeId(GetAttackedUnitBJ())=='h00T')and(IsUnitAlly(GetAttacker(),GetOwningPlayer(GetAttackedUnitBJ()))==false))then
if((GetRandomInt(1,100)<=(GetPlayerTechCountSimple('R002',GetOwningPlayer(GetAttackedUnitBJ()))*2)))then
call DestroyEffect(AddSpecialEffect("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(1*GetPlayerTechCountSimple('R002',GetOwningPlayer(GetTriggerUnit()))))
call AdjustPlayerStateBJ((0-LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)),GetOwningPlayer(GetAttacker()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF),GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
else
endif
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Human_skill_4_5 takes nothing returns nothing
set gg_trg_Human_skill_4_5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_skill_4_5,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Human_skill_4_5,Condition(function Trig_Human_skill_4_5Conditions))
call TriggerAddAction(gg_trg_Human_skill_4_5,function Trig_Human_skill_4_5Actions)
endfunction
function Trig_Human_skill_6Conditions takes nothing returns boolean
return((IsUnitAliveBJ(GetAttackedUnitBJ())==true)and((GetUnitTypeId(GetEventDamageSource())=='h01P')or(GetUnitTypeId(GetEventDamageSource())=='h02Z')or(GetUnitTypeId(GetEventDamageSource())=='h030')or(GetUnitTypeId(GetEventDamageSource())=='h031')))
endfunction
function Trig_Human_skill_6Func001Func001T takes nothing returns nothing
if((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788))==true))then
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A042'))*80000.))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A042'))*25000.))
call DisableTrigger(gg_trg_Human_skill_6)
if((GetRandomInt(1,3)<=2))then
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7),false,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x458B7DE9),"chest"))
else
call SetUnitLifeBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_LIFE)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),"chest"))
endif
call EnableTrigger(gg_trg_Human_skill_6)
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Human_skill_6Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetRandomInt(1,100)<=5))then
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetEventDamageSource())
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x1BF14788,GetAttackedUnitBJ())
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x458B7DE9,GetTriggerUnit())
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x18ABF571))
call TimerStart(ydl_timer,.05,false,function Trig_Human_skill_6Func001Func001T)
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Human_skill_6 takes nothing returns nothing
set gg_trg_Human_skill_6=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Human_skill_6)
call TriggerAddCondition(gg_trg_Human_skill_6,Condition(function Trig_Human_skill_6Conditions))
call TriggerAddAction(gg_trg_Human_skill_6,function Trig_Human_skill_6Actions)
endfunction
function Trig_Human_skill_7_18_19Func001003002 takes nothing returns boolean
return(((GetUnitAbilityLevel(GetFilterUnit(),'A046')>=1)and((IsUnitAliveBJ(GetFilterUnit())==true)and(LoadBoolean(YDHT,GetHandleId(GetFilterUnit()),0x8615081F)==true))))
endfunction
function Trig_Human_skill_7_18_19Func002A takes nothing returns nothing
local integer ydul_i
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,GetRandomReal(.0,2.))
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0xDBB3D4DB,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))
call SetUnitScale(GetEnumUnit(),(.6*LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)),(.6*LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)),(.6*LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)))
if((LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xDBB3D4DB)>1.))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,((1.*(.02*I2R(GetPlayerTechCountSimple('R00W',GetOwningPlayer(GetEnumUnit())))))*(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xDBB3D4DB)-1.)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("现在你获得了 |cFF33FF00"+(R2S((LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)*100.))+"%|r 的伤害减免。")))
set ydul_i=1
loop
exitwhen ydul_i>10
call YDWESetUnitAbilityDataString(GetEnumUnit(),'A046',ydul_i,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
set ydul_i=ydul_i+1
endloop
else
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,((1.*((.005)*I2R(GetPlayerTechCountSimple('R00W',GetOwningPlayer(GetEnumUnit())))))*(1.-LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xDBB3D4DB))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("现在你获得了 |cFFFF0000-"+(R2S((LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)*100.))+"%|r 的伤害减免。")))
set ydul_i=1
loop
exitwhen ydul_i>10
call YDWESetUnitAbilityDataString(GetEnumUnit(),'A046',ydul_i,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
set ydul_i=ydul_i+1
endloop
endif
endfunction
function Trig_Human_skill_7_18_19Func004Func001003002 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true)and(IsUnitAliveBJ(GetFilterUnit())==true)))
endfunction
function Trig_Human_skill_7_18_19Func004Func004003003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true)))
endfunction
function Trig_Human_skill_7_18_19Func004A takes nothing returns nothing
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetEnumPlayer(),Condition(function Trig_Human_skill_7_18_19Func004Func001003002)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB,YDWEGetUnitsInRangeOfLocMatchingNull(512.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),Condition(function Trig_Human_skill_7_18_19Func004Func004003003)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA99320FA,I2R(CountUnitsInGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))))
if((LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA99320FA)<=6.))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xFDF65382,(((-.217)*Pow(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA99320FA),2.))+(((1.467)*LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA99320FA))+.5)))
else
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xFDF65382,((.25*LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA99320FA))-.45))
endif
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xFDF65382,(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xFDF65382)/LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA99320FA)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xFDF65382,(1./LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xFDF65382)))
call YDWESetUnitAbilityDataReal(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'Ahrp',1,109,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xFDF65382))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
endfunction
function Trig_Human_skill_7_18_19Func005003002 takes nothing returns boolean
return(((UnitHasBuffBJ(GetFilterUnit(),'B00L')==true)and(IsUnitAliveBJ(GetFilterUnit())==true)))
endfunction
function Trig_Human_skill_7_18_19Func006Func005T takes nothing returns nothing
if((UnitHasBuffBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'B00L')==false))then
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),2,0,R2I(LoadReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x47366344)))
call SaveReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x47366344,.0)
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Human_skill_7_18_19Func006A takes nothing returns nothing
local timer ydl_timer
call YDWEGeneralBounsSystemUnitSetBonus(GetEnumUnit(),2,0,R2I(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0x47366344)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,(GetUnitState(GetEnumUnit(),ConvertUnitState(0x20))*.25))
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0x47366344,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))
call YDWEGeneralBounsSystemUnitSetBonus(GetEnumUnit(),2,1,R2I(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0x47366344)))
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetEnumUnit())
call TimerStart(ydl_timer,.6,false,function Trig_Human_skill_7_18_19Func006Func005T)
set ydl_timer=null
endfunction
function Trig_Human_skill_7_18_19Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydul_i
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect(),Condition(function Trig_Human_skill_7_18_19Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Human_skill_7_18_19Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call ForForce(udg_group_of_players[1],function Trig_Human_skill_7_18_19Func004A)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect(),Condition(function Trig_Human_skill_7_18_19Func005003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Human_skill_7_18_19Func006A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
set ydl_timer=null
endfunction
function InitTrig_Human_skill_7_18_19 takes nothing returns nothing
set gg_trg_Human_skill_7_18_19=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Human_skill_7_18_19,.25)
call TriggerAddAction(gg_trg_Human_skill_7_18_19,function Trig_Human_skill_7_18_19Actions)
endfunction
function Trig_Human_skill_7_9_10_16_fzConditions takes nothing returns boolean
return((IsUnitAliveBJ(GetAttackedUnitBJ())==true))
endfunction
function Trig_Human_skill_7_9_10_16_fzActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetUnitAbilityLevel(GetAttackedUnitBJ(),'A046')>=1))then
if((LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0xDBB3D4DB)>1.))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((1.*(.02*I2R(GetPlayerTechCountSimple('R00W',GetOwningPlayer(GetAttackedUnitBJ())))))*(LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0xDBB3D4DB)-1.)))
call EXSetEventDamage((((GetEventDamage()*(1-LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))))*1.))
else
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((1.*((.005)*I2R(GetPlayerTechCountSimple('R00W',GetOwningPlayer(GetAttackedUnitBJ())))))*(1.-LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0xDBB3D4DB))))
call EXSetEventDamage((((GetEventDamage()*(1+LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))))*1.))
endif
else
endif
if((GetUnitTypeId(GetAttackedUnitBJ())=='h00S'))then
if((GetRandomInt(1,100)<=(GetPlayerTechCountSimple('R009',GetOwningPlayer(GetAttackedUnitBJ()))*2)))then
call EXSetEventDamage(((.0)*1.))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
else
endif
else
endif
if((GetUnitTypeId(GetAttackedUnitBJ())=='h04M')and(IsUnitAlly(GetEventDamageSource(),GetOwningPlayer(GetAttackedUnitBJ()))==false))then
if((GetRandomInt(1,100)<=3))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,(GetEventDamage()*(I2R(GetUnitAbilityLevel(GetAttackedUnitBJ(),'A07M'))*(.035))))
call CreateTextTagUnitBJ(("+"+I2S(R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)))),GetAttackedUnitBJ(),0,12.,100.,86.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),75.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),.5)
call AdjustPlayerStateBJ(R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)),GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
else
endif
else
endif
if((GetUnitTypeId(GetAttackedUnitBJ())=='h00U'))then
if((GetRandomReal((.0),(1.))<=((.018)*I2R(GetPlayerTechCountSimple('R00C',GetOwningPlayer(GetAttackedUnitBJ()))))))then
call EXSetEventDamage(((.0)*1.))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
else
endif
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Human_skill_7_9_10_16_fz takes nothing returns nothing
set gg_trg_Human_skill_7_9_10_16_fz=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Human_skill_7_9_10_16_fz)
call TriggerAddCondition(gg_trg_Human_skill_7_9_10_16_fz,Condition(function Trig_Human_skill_7_9_10_16_fzConditions))
call TriggerAddAction(gg_trg_Human_skill_7_9_10_16_fz,function Trig_Human_skill_7_9_10_16_fzActions)
endfunction
function Trig_Human_skill_8Conditions takes nothing returns boolean
return((IsUnitAliveBJ(GetAttackedUnitBJ())==true)and((GetUnitTypeId(GetEventDamageSource())=='h01Q')or(GetUnitTypeId(GetEventDamageSource())=='h02W')or(GetUnitTypeId(GetEventDamageSource())=='h02X')or(GetUnitTypeId(GetEventDamageSource())=='h02Y')))
endfunction
function Trig_Human_skill_8Func001Func001T takes nothing returns nothing
if((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788))==true))then
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,(I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A043'))*(.005)))
call DisableTrigger(gg_trg_Human_skill_8)
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),UNIT_STATE_LIFE)*LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)),false,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Demon\\DemonLargeDeathExplode\\DemonLargeDeathExplode.mdl",GetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788)),GetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788))))
call EnableTrigger(gg_trg_Human_skill_8)
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Human_skill_8Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetRandomInt(1,100)<=12))then
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetEventDamageSource())
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x1BF14788,GetAttackedUnitBJ())
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call TimerStart(ydl_timer,.05,false,function Trig_Human_skill_8Func001Func001T)
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Human_skill_8 takes nothing returns nothing
set gg_trg_Human_skill_8=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Human_skill_8)
call TriggerAddCondition(gg_trg_Human_skill_8,Condition(function Trig_Human_skill_8Conditions))
call TriggerAddAction(gg_trg_Human_skill_8,function Trig_Human_skill_8Actions)
endfunction
function Trig_Human_skill_11Func001Func002Func003Func002003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitAlly(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),GetOwningPlayer(GetFilterUnit()))!=true))))
endfunction
function Trig_Human_skill_11Func001Func002Func003Func003Func007T takes nothing returns nothing
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2,R2I((I2R(GetPlayerState(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x2D5DEA42)),PLAYER_STATE_RESOURCE_GOLD))*(I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),'A07N'))*(.0065)))))
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)>12000))then
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2,12000)
else
endif
call CreateTextTagUnitBJ(("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2))),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),0,12.,100.,86.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2),GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ((0-LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)),GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x2D5DEA42)),PLAYER_STATE_RESOURCE_GOLD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)),GetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7))))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC18F437A))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Human_skill_11Func001A takes nothing returns nothing
local timer ydl_timer
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB,YDWEGetUnitsOfPlayerAndTypeIdNull(GetEnumPlayer(),'h04N'))
if((IsUnitGroupEmptyBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))==false))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB)))
if((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))==true))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect(),Condition(function Trig_Human_skill_11Func001Func002Func003Func002003002)))
if((IsUnitGroupEmptyBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))==false))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC43E936C,GroupPickRandomUnit(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC43E936C)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1BF14788,CreateUnit(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),'h04O',GetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC43E936C)),GetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC43E936C)),0))
call YDWETimerRemoveUnit(.8,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1BF14788))
call YDWEJumpTimer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1BF14788),AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476)),YDWEDistanceBetweenUnits(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC43E936C)),1.5,.03,200.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x312C4181,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x312C4181)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0xC18F437A,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x20CD7CD7,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x2D5DEA42,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC43E936C))
call SaveInteger(YDHT,GetHandleId(ydl_timer),0xA3098AE2,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA3098AE2))
call TimerStart(ydl_timer,1.5,false,function Trig_Human_skill_11Func001Func002Func003Func003Func007T)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
else
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
endif
else
endif
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D,null)
else
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))
set ydl_timer=null
endfunction
function Trig_Human_skill_11Actions takes nothing returns nothing
call ForForce(udg_group_of_players[1],function Trig_Human_skill_11Func001A)
endfunction
function InitTrig_Human_skill_11 takes nothing returns nothing
set gg_trg_Human_skill_11=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Human_skill_11,20.)
call TriggerAddAction(gg_trg_Human_skill_11,function Trig_Human_skill_11Actions)
endfunction
function Trig_Human_skill_12Conditions takes nothing returns boolean
return((IsUnitAliveBJ(GetAttackedUnitBJ())==true)and((GetUnitTypeId(GetEventDamageSource())=='h04P')or(GetUnitTypeId(GetEventDamageSource())=='h04Q')or(GetUnitTypeId(GetEventDamageSource())=='h04R')or(GetUnitTypeId(GetEventDamageSource())=='h04S')))
endfunction
function Trig_Human_skill_12Actions takes nothing returns nothing
if((GetRandomInt(1,25)<=3))then
if((GetUnitAbilityLevel(GetEventDamageSource(),'A07Q')>=1))then
call CreateTextTagUnitBJ("+6",GetEventDamageSource(),0,12.,100.,86.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),75.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),.5)
call AdjustPlayerStateBJ(6,GetOwningPlayer(GetEventDamageSource()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-6,GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
else
if((GetUnitAbilityLevel(GetEventDamageSource(),'A07P')>=1))then
call CreateTextTagUnitBJ("+12",GetEventDamageSource(),0,12.,100.,86.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),75.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),.5)
call AdjustPlayerStateBJ(12,GetOwningPlayer(GetEventDamageSource()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-12,GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
else
if((GetUnitAbilityLevel(GetEventDamageSource(),'A07R')>=1))then
call CreateTextTagUnitBJ("+24",GetEventDamageSource(),0,12.,100.,86.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),75.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),.5)
call AdjustPlayerStateBJ(24,GetOwningPlayer(GetEventDamageSource()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-24,GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
else
endif
endif
endif
else
endif
endfunction
function InitTrig_Human_skill_12 takes nothing returns nothing
set gg_trg_Human_skill_12=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Human_skill_12)
call TriggerAddCondition(gg_trg_Human_skill_12,Condition(function Trig_Human_skill_12Conditions))
call TriggerAddAction(gg_trg_Human_skill_12,function Trig_Human_skill_12Actions)
endfunction
function Trig_Human_skill_13Conditions takes nothing returns boolean
return((IsUnitAliveBJ(GetAttackedUnitBJ())==true)and(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_HERO)==true)and((GetUnitTypeId(GetEventDamageSource())=='h04T')or(GetUnitTypeId(GetEventDamageSource())=='h04U')or(GetUnitTypeId(GetEventDamageSource())=='h04V')or(GetUnitTypeId(GetEventDamageSource())=='h04W')))
endfunction
function Trig_Human_skill_13Actions takes nothing returns nothing
if((GetUnitAbilityLevel(GetEventDamageSource(),'A07T')>=1))then
call CreateTextTagUnitBJ("+8",GetEventDamageSource(),0,12.,100.,86.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),75.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),.5)
call AdjustPlayerStateBJ(8,GetOwningPlayer(GetEventDamageSource()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-6,GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call DestroyEffect(AddSpecialEffect("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl",GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource())))
else
if((GetUnitAbilityLevel(GetEventDamageSource(),'A07S')>=1))then
call CreateTextTagUnitBJ("+16",GetEventDamageSource(),0,12.,100.,86.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),75.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),.5)
call AdjustPlayerStateBJ(16,GetOwningPlayer(GetEventDamageSource()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-12,GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call DestroyEffect(AddSpecialEffect("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl",GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource())))
else
if((GetUnitAbilityLevel(GetEventDamageSource(),'A07U')>=1))then
call CreateTextTagUnitBJ("+32",GetEventDamageSource(),0,12.,100.,86.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),75.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),.5)
call AdjustPlayerStateBJ(32,GetOwningPlayer(GetEventDamageSource()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-24,GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call DestroyEffect(AddSpecialEffect("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl",GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource())))
else
endif
endif
endif
endfunction
function InitTrig_Human_skill_13 takes nothing returns nothing
set gg_trg_Human_skill_13=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Human_skill_13)
call TriggerAddCondition(gg_trg_Human_skill_13,Condition(function Trig_Human_skill_13Conditions))
call TriggerAddAction(gg_trg_Human_skill_13,function Trig_Human_skill_13Actions)
endfunction
function Trig_Human_skill_14Conditions takes nothing returns boolean
return((IsUnitAliveBJ(GetAttackedUnitBJ())==true)and((GetUnitTypeId(GetEventDamageSource())=='h04Y')or(GetUnitTypeId(GetEventDamageSource())=='h04Z')or(GetUnitTypeId(GetEventDamageSource())=='h050')or(GetUnitTypeId(GetEventDamageSource())=='h051')))
endfunction
function Trig_Human_skill_14Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetRandomInt(1,100)<=3))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,(GetUnitAbilityLevel(GetEventDamageSource(),'A07V')*35))
call CreateTextTagUnitBJ(("+"+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))),GetEventDamageSource(),0,12.,100.,86.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),75.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),.5)
call AdjustPlayerStateBJ(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2),GetOwningPlayer(GetEventDamageSource()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ((0-LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)),GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Human_skill_14 takes nothing returns nothing
set gg_trg_Human_skill_14=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Human_skill_14)
call TriggerAddCondition(gg_trg_Human_skill_14,Condition(function Trig_Human_skill_14Conditions))
call TriggerAddAction(gg_trg_Human_skill_14,function Trig_Human_skill_14Actions)
endfunction
function Trig_Human_skill_15Conditions takes nothing returns boolean
return((IsUnitAliveBJ(GetAttackedUnitBJ())==true)and((GetUnitTypeId(GetEventDamageSource())=='h052')or(GetUnitTypeId(GetEventDamageSource())=='h053')or(GetUnitTypeId(GetEventDamageSource())=='h054')or(GetUnitTypeId(GetEventDamageSource())=='h055')))
endfunction
function Trig_Human_skill_15Func001Func002Func009Func004Func002T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.85))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.7))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),(27.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=10.))then
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),12.)
call YDWETimerDestroyTextTag(3.,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Human_skill_15Func001Func002Func009T takes nothing returns nothing
local timer ydl_timer
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.65))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),(12.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=17.))then
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0xDEFC4000,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x47C461BA,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call TimerStart(ydl_timer,.02,true,function Trig_Human_skill_15Func001Func002Func009Func004Func002T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_timer=null
endfunction
function Trig_Human_skill_15Func001Func002T takes nothing returns nothing
local timer ydl_timer
call DisableTrigger(gg_trg_Human_skill_15)
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call EnableTrigger(gg_trg_Human_skill_15)
call SaveTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),GetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),GetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),.0)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),100.,8.,.0,0)
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2))),12.)
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1CA61CEC)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0xA3098AE2,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED))
call TimerStart(ydl_timer,.02,true,function Trig_Human_skill_15Func001Func002Func009T)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",GetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788)),GetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788))))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
set ydl_timer=null
endfunction
function Trig_Human_skill_15Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetRandomInt(1,100)<=3))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,(I2R((GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(GetOwningPlayer(GetEventDamageSource()),PLAYER_STATE_RESOURCE_GOLD)))*(I2R(GetUnitAbilityLevel(GetEventDamageSource(),'A07W'))*.8)))
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetEventDamageSource())
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x1BF14788,GetAttackedUnitBJ())
call SaveReal(YDHT,GetHandleId(ydl_timer),0xA3098AE2,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x1CA61CEC,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.05,false,function Trig_Human_skill_15Func001Func002T)
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Human_skill_15 takes nothing returns nothing
set gg_trg_Human_skill_15=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Human_skill_15)
call TriggerAddCondition(gg_trg_Human_skill_15,Condition(function Trig_Human_skill_15Conditions))
call TriggerAddAction(gg_trg_Human_skill_15,function Trig_Human_skill_15Actions)
endfunction
function Trig_Human_skill_17Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A045')and(GetUnitTypeId(GetSpellAbilityUnit())=='h01T'))
endfunction
function Trig_Human_skill_17Func004T takes nothing returns nothing
call SaveBoolean(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x25F62AE1,false)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Human_skill_17Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181,(I2R(GetUnitAbilityLevel(GetSpellAbilityUnit(),'A045'))*.35))
call YDWETimerDestroyEffect(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181),AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAura.mdl",GetTriggerUnit(),"origin"))
call SaveBoolean(YDHT,GetHandleId(GetSpellAbilityUnit()),0x25F62AE1,true)
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetSpellAbilityUnit())
call TimerStart(ydl_timer,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181),false,function Trig_Human_skill_17Func004T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Human_skill_17 takes nothing returns nothing
set gg_trg_Human_skill_17=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_skill_17,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Human_skill_17,Condition(function Trig_Human_skill_17Conditions))
call TriggerAddAction(gg_trg_Human_skill_17,function Trig_Human_skill_17Actions)
endfunction
function Trig_Human_skill_17_fzConditions takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true)and(LoadBoolean(YDHT,GetHandleId(GetAttackedUnitBJ()),0x25F62AE1)==true)and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1))
endfunction
function Trig_Human_skill_17_fzFunc005T takes nothing returns nothing
call PauseUnitBJ(false,LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))
call SetUnitTimeScale(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),1.)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Human_skill_17_fzActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call PauseUnitBJ(true,GetAttacker())
call SetUnitTimeScale(GetAttacker(),.0)
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181,(I2R(GetUnitAbilityLevel(GetAttackedUnitBJ(),'A045'))*.2))
call YDWETimerDestroyEffect(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181),AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl",GetAttacker(),"chest"))
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetAttacker())
call TimerStart(ydl_timer,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x312C4181),false,function Trig_Human_skill_17_fzFunc005T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Human_skill_17_fz takes nothing returns nothing
set gg_trg_Human_skill_17_fz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_skill_17_fz,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Human_skill_17_fz,Condition(function Trig_Human_skill_17_fzConditions))
call TriggerAddAction(gg_trg_Human_skill_17_fz,function Trig_Human_skill_17_fzActions)
endfunction
function Trig_Human_skill_20Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A08D'))
endfunction
function Trig_Human_skill_20Func004Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h00Q')))
endfunction
function Trig_Human_skill_20Func004Func002A takes nothing returns nothing
call YDWESetUnitAbilityState(GetEnumUnit(),'A08D',1,LoadReal(YDHT,GetHandleId(gg_trg_Human_skill_20),0xA3098AE2))
endfunction
function Trig_Human_skill_20Func005T takes nothing returns nothing
call SetMapFlag(MAP_LOCK_RESOURCE_TRADING,false)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Human_skill_20Actions takes nothing returns nothing
local integer ydul_i
local group ydl_group
local unit ydl_unit
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveReal(YDHT,GetHandleId(gg_trg_Human_skill_20),0xA3098AE2,(LoadReal(YDHT,GetHandleId(gg_trg_Human_skill_20),0xA3098AE2)+8.))
call SetMapFlag(MAP_LOCK_RESOURCE_TRADING,true)
call EXDisplayChat((GetOwningPlayer(GetTriggerUnit())),(0),("队友们对不起了啊，老娘禁止了资源交易，只不过没事，看那群逗比僵尸怎么开银行，哈哈哈~~~"))
set ydul_i=1
loop
exitwhen ydul_i>12
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(ConvertedPlayer(ydul_i),Condition(function Trig_Human_skill_20Func004Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Human_skill_20Func004Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
set ydul_i=ydul_i+1
endloop
set ydl_timer=CreateTimer()
call TimerStart(ydl_timer,20.,false,function Trig_Human_skill_20Func005T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
set ydl_timer=null
endfunction
function InitTrig_Human_skill_20 takes nothing returns nothing
set gg_trg_Human_skill_20=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_skill_20,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Human_skill_20,Condition(function Trig_Human_skill_20Conditions))
call TriggerAddAction(gg_trg_Human_skill_20,function Trig_Human_skill_20Actions)
endfunction
function Trig_Human_comeActions takes nothing returns nothing
call ClearTextMessages()
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=12
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call DisplayTimedTextToPlayer(ConvertedPlayer(GetForLoopIndexB()),.6,.6,3.,(udg_yanse[GetRandomInt(1,5)]+"人类大部队将在20秒后抵达..."))
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
call PlaySoundBJ(gg_snd_20secremain)
endfunction
function InitTrig_Human_come takes nothing returns nothing
set gg_trg_Human_come=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Human_come,udg_Timer_come)
call TriggerAddAction(gg_trg_Human_come,function Trig_Human_comeActions)
endfunction
function Trig_Human_Into_the_potential_uActions takes nothing returns nothing
local integer ydul_i
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetSpellAbilityId()=='A06H'))then
if((GetUnitPointValue(GetSpellTargetUnit())==40))then
call UnitRemoveAbility(GetSpellTargetUnit(),LoadInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2))
call UnitRemoveAbility(GetSpellTargetUnit(),LoadInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,GetRandomInt(1,11))
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=4))then
call UnitAddAbility(GetSpellTargetUnit(),'A06S')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2,'A06S')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=7))then
call UnitAddAbility(GetSpellTargetUnit(),'A06T')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2,'A06T')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=9))then
call UnitAddAbility(GetSpellTargetUnit(),'A06U')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2,'A06U')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=10))then
call UnitAddAbility(GetSpellTargetUnit(),'A06V')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2,'A06V')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=11))then
call UnitAddAbility(GetSpellTargetUnit(),'A06L')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2,'A06L')
else
endif
endif
endif
endif
endif
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,GetRandomInt(1,11))
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=4))then
call UnitAddAbility(GetSpellTargetUnit(),'A06O')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12,'A06O')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=7))then
call UnitAddAbility(GetSpellTargetUnit(),'A06J')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12,'A06J')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=9))then
call UnitAddAbility(GetSpellTargetUnit(),'A06I')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12,'A06I')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=10))then
call UnitAddAbility(GetSpellTargetUnit(),'A06K')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12,'A06K')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=11))then
call UnitAddAbility(GetSpellTargetUnit(),'A06M')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12,'A06M')
else
endif
endif
endif
endif
endif
set ydul_i=1
loop
exitwhen ydul_i>6
if((GetItemTypeId(UnitItemInSlotBJ(GetSpellAbilityUnit(),ydul_i))=='I04B'))then
call RemoveItem(UnitItemInSlotBJ(GetSpellAbilityUnit(),ydul_i))
else
endif
set ydul_i=ydul_i+1
endloop
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFF0000无效的目标")
endif
else
endif
if((GetSpellAbilityId()=='A06N'))then
if((GetUnitPointValue(GetSpellTargetUnit())==50))then
call UnitRemoveAbility(GetSpellTargetUnit(),LoadInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2))
call UnitRemoveAbility(GetSpellTargetUnit(),LoadInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,GetRandomInt(1,11))
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=4))then
call UnitAddAbility(GetSpellTargetUnit(),'A06P')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2,'A06P')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=7))then
call UnitAddAbility(GetSpellTargetUnit(),'A06Q')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2,'A06Q')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=9))then
call UnitAddAbility(GetSpellTargetUnit(),'A06W')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2,'A06W')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=10))then
call UnitAddAbility(GetSpellTargetUnit(),'A06R')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2,'A06R')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=11))then
call UnitAddAbility(GetSpellTargetUnit(),'A06X')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x6B963BC2,'A06X')
else
endif
endif
endif
endif
endif
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,GetRandomInt(1,11))
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=4))then
call UnitAddAbility(GetSpellTargetUnit(),'A06Z')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12,'A06Z')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=7))then
call UnitAddAbility(GetSpellTargetUnit(),'A070')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12,'A070')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=9))then
call UnitAddAbility(GetSpellTargetUnit(),'A071')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12,'A071')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=10))then
call UnitAddAbility(GetSpellTargetUnit(),'A072')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12,'A072')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)<=11))then
call UnitAddAbility(GetSpellTargetUnit(),'A06Y')
call SaveInteger(YDHT,GetHandleId(GetSpellTargetUnit()),0x19D09D12,'A06Y')
else
endif
endif
endif
endif
endif
set ydul_i=1
loop
exitwhen ydul_i>6
if((GetItemTypeId(UnitItemInSlotBJ(GetSpellAbilityUnit(),ydul_i))=='I04C'))then
call RemoveItem(UnitItemInSlotBJ(GetSpellAbilityUnit(),ydul_i))
else
endif
set ydul_i=ydul_i+1
endloop
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFF0000无效的目标")
endif
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Human_Into_the_potential_u takes nothing returns nothing
set gg_trg_Human_Into_the_potential_u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Human_Into_the_potential_u,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(gg_trg_Human_Into_the_potential_u,function Trig_Human_Into_the_potential_uActions)
endfunction
function Trig_Human_minFunc002Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((GetUnitTypeId(GetFilterUnit())=='h008')or(GetUnitTypeId(GetFilterUnit())=='h03Q'))))
endfunction
function Trig_Human_minActions takes nothing returns nothing
local integer ydul_i
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set ydul_i=1
loop
exitwhen ydul_i>12
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(ConvertedPlayer(ydul_i),Condition(function Trig_Human_minFunc002Func001003002)))
if((CountUnitsInGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))>=5))then
call SetPlayerTechMaxAllowedSwap('h008',0,ConvertedPlayer(ydul_i))
else
call SetPlayerTechMaxAllowedSwap('h008',-1,ConvertedPlayer(ydul_i))
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
set ydul_i=ydul_i+1
endloop
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Human_min takes nothing returns nothing
set gg_trg_Human_min=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Human_min,.1)
call TriggerAddAction(gg_trg_Human_min,function Trig_Human_minActions)
endfunction
function Trig_Human_economic_aFunc002Func001Func002003001 takes nothing returns boolean
return((GetOwningPlayer(GetEnumUnit())!=GetFilterPlayer()))
endfunction
function Trig_Human_economic_aFunc002A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true)and(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)==GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)))then
call CreateTextTagUnitBJ(("+"+I2S((GetPlayerTechCountSimple('R004',GetOwningPlayer(GetEnumUnit()))+1))),GetEnumUnit(),0,12.,100.,86.,.0,0)
call ShowTextTagForceBJ(false,GetLastCreatedTextTag(),YDWEGetPlayersMatchingNull(Condition(function Trig_Human_economic_aFunc002Func001Func002003001)))
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ((GetPlayerTechCountSimple('R004',GetOwningPlayer(GetEnumUnit()))+1),GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
endif
endfunction
function Trig_Human_economic_aFunc005Func001Func002003001 takes nothing returns boolean
return((GetOwningPlayer(GetEnumUnit())!=GetFilterPlayer()))
endfunction
function Trig_Human_economic_aFunc005A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true)and(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)==GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)))then
call CreateTextTagUnitBJ(("+"+I2S((GetPlayerTechCountSimple('R004',GetOwningPlayer(GetEnumUnit()))+1))),GetEnumUnit(),0,12.,100.,86.,.0,0)
call ShowTextTagForceBJ(false,GetLastCreatedTextTag(),YDWEGetPlayersMatchingNull(Condition(function Trig_Human_economic_aFunc005Func001Func002003001)))
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ((GetPlayerTechCountSimple('R004',GetOwningPlayer(GetEnumUnit()))+1),GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
endif
endfunction
function Trig_Human_economic_aFunc008Func001Func002003001 takes nothing returns boolean
return((GetOwningPlayer(GetEnumUnit())!=GetFilterPlayer()))
endfunction
function Trig_Human_economic_aFunc008A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true)and(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)==GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)))then
call CreateTextTagUnitBJ(("+"+I2S((GetPlayerTechCountSimple('R004',GetOwningPlayer(GetEnumUnit()))+1))),GetEnumUnit(),0,12.,100.,86.,.0,0)
call ShowTextTagForceBJ(false,GetLastCreatedTextTag(),YDWEGetPlayersMatchingNull(Condition(function Trig_Human_economic_aFunc008Func001Func002003001)))
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ((GetPlayerTechCountSimple('R004',GetOwningPlayer(GetEnumUnit()))+1),GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
endif
endfunction
function Trig_Human_economic_aActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfTypeIdAllNull('h00L'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001),function Trig_Human_economic_aFunc002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfTypeIdAllNull('h00Q'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001),function Trig_Human_economic_aFunc005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfTypeIdAllNull('h01S'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001),function Trig_Human_economic_aFunc008A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Human_economic_a takes nothing returns nothing
set gg_trg_Human_economic_a=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Human_economic_a,.7)
call TriggerAddAction(gg_trg_Human_economic_a,function Trig_Human_economic_aActions)
endfunction
function Trig_Human_economic_bFunc002Func001Func002003001 takes nothing returns boolean
return((GetOwningPlayer(GetEnumUnit())!=GetFilterPlayer()))
endfunction
function Trig_Human_economic_bFunc002A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true)and(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)==GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)))then
call CreateTextTagUnitBJ(("+"+I2S(((GetPlayerTechCountSimple('R004',GetOwningPlayer(GetEnumUnit()))*1)+1))),GetEnumUnit(),0,12.,100.,86.,.0,0)
call ShowTextTagForceBJ(false,GetLastCreatedTextTag(),YDWEGetPlayersMatchingNull(Condition(function Trig_Human_economic_bFunc002Func001Func002003001)))
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ(((GetPlayerTechCountSimple('R004',GetOwningPlayer(GetEnumUnit()))*1)+1),GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
endif
endfunction
function Trig_Human_economic_bActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfTypeIdAllNull('h00N'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001),function Trig_Human_economic_bFunc002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Human_economic_b takes nothing returns nothing
set gg_trg_Human_economic_b=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Human_economic_b,.6)
call TriggerAddAction(gg_trg_Human_economic_b,function Trig_Human_economic_bActions)
endfunction
function Trig_Human_economic_cFunc002Func001Func002003001 takes nothing returns boolean
return((GetOwningPlayer(GetEnumUnit())!=GetFilterPlayer()))
endfunction
function Trig_Human_economic_cFunc002A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true)and(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)==GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)))then
call CreateTextTagUnitBJ(("+"+I2S((GetPlayerTechCountSimple('R004',GetOwningPlayer(GetEnumUnit()))+1))),GetEnumUnit(),0,12.,100.,86.,.0,0)
call ShowTextTagForceBJ(false,GetLastCreatedTextTag(),YDWEGetPlayersMatchingNull(Condition(function Trig_Human_economic_cFunc002Func001Func002003001)))
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ((GetPlayerTechCountSimple('R004',GetOwningPlayer(GetEnumUnit()))+1),GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
endif
endfunction
function Trig_Human_economic_cActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfTypeIdAllNull('h04X'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001),function Trig_Human_economic_cFunc002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Human_economic_c takes nothing returns nothing
set gg_trg_Human_economic_c=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Human_economic_c,1.2)
call TriggerAddAction(gg_trg_Human_economic_c,function Trig_Human_economic_cActions)
endfunction
function Trig_Zombi_winFunc001002001001 takes nothing returns boolean
return(((GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING)and((LoadBoolean(YDHT,GetHandleId(GetFilterPlayer()),0x602978BD)!=true)and(GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER))))
endfunction
function Trig_Zombi_winActions takes nothing returns nothing
set udg_Number[98]=CountPlayersInForceBJ(YDWEGetPlayersMatchingNull(Condition(function Trig_Zombi_winFunc001002001001)))
set udg_Number[0]=CountPlayersInForceBJ(udg_group_of_players[0])
call YDWEPolledWaitNull(.1)
if((udg_Number[0]==udg_Number[98]))then
call DisableTrigger(gg_trg_Vote_kicking)
call DisableTrigger(gg_trg_Vote_kicking_fz)
call DisableTrigger(gg_trg_MH)
call DestroyTimerDialog(udg_chuangkou)
set udg_winner=true
call PauseTimer(udg_Human_jishiqi)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Human_win_1)
call DisableTrigger(gg_trg_Human_win_2)
call DisableTrigger(gg_trg_Zombi_death)
call FogEnable(false)
call FogMaskEnable(false)
call YDWEPolledWaitNull(.75)
call YDWEPauseAllUnitsBJNull(true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call ResetToGameCameraForPlayer(ConvertedPlayer(GetForLoopIndexA()),0)
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,"|cFFCC6633僵尸胜利")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PlaySoundBJ(gg_snd_win_zombi)
call DisableTrigger(GetTriggeringTrigger())
call YDWEPolledWaitNull(2.)
call TriggerExecute(gg_trg_Games_end)
else
endif
endfunction
function InitTrig_Zombi_win takes nothing returns nothing
set gg_trg_Zombi_win=CreateTrigger()
call DisableTrigger(gg_trg_Zombi_win)
call TriggerRegisterTimerEventPeriodic(gg_trg_Zombi_win,1.)
call TriggerAddAction(gg_trg_Zombi_win,function Trig_Zombi_winActions)
endfunction
function Trig_Zombi_healFunc002Func002003003 takes nothing returns boolean
return(((IsPlayerInForce(GetOwningPlayer(GetFilterUnit()),udg_group_of_players[0])==true)and((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE)))))
endfunction
function Trig_Zombi_healFunc002Func003A takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl",GetEnumUnit(),"origin"))
if((GetUnitPointValue(GetEnumUnit())==1))then
call PlaySoundOnUnitBJ(gg_snd_zombi_heal,65.,GetEnumUnit())
else
if((GetUnitPointValue(GetEnumUnit())==2))then
call PlaySoundOnUnitBJ(gg_snd_zombi_heal_female,65.,GetEnumUnit())
else
if((GetUnitPointValue(GetEnumUnit())==3))then
call PlaySoundOnUnitBJ(gg_snd_zombi_heal_heavy,100.,GetEnumUnit())
else
endif
endif
endif
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+(GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*.08)))
call CreateTextTagUnitBJ(("+"+I2S(R2I((GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*.08)))),GetEnumUnit(),0,10,.0,100,40.,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
endfunction
function Trig_Zombi_healFunc002A takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80,GetUnitLoc(GetEnumUnit()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x5F1515B0,YDWEGetUnitsInRangeOfLocMatchingNull(350.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80),Condition(function Trig_Zombi_healFunc002Func002003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x5F1515B0),function Trig_Zombi_healFunc002Func003A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x5F1515B0))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80))
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Zombi_healActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfTypeIdAllNull('ndfl'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001),function Trig_Zombi_healFunc002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Zombi_heal takes nothing returns nothing
set gg_trg_Zombi_heal=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Zombi_heal,2.)
call TriggerAddAction(gg_trg_Zombi_heal,function Trig_Zombi_healActions)
endfunction
function Trig_Zombi_hurtConditions takes nothing returns boolean
return((IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_HERO)==true)and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]==1)and(IsPlayerAlly(GetOwningPlayer(GetAttackedUnitBJ()),GetOwningPlayer(GetEventDamageSource()))!=true))
endfunction
function Trig_Zombi_hurtActions takes nothing returns nothing
if((GetUnitPointValue(GetAttackedUnitBJ())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundOnUnitBJ(gg_snd_zombi_hurt_01,60.,GetAttackedUnitBJ())
else
call PlaySoundOnUnitBJ(gg_snd_zombi_hurt_02,60.,GetAttackedUnitBJ())
endif
else
if((GetUnitPointValue(GetAttackedUnitBJ())==2))then
call PlaySoundOnUnitBJ(gg_snd_zombi_hurt_female_2,60.,GetAttackedUnitBJ())
else
if((GetUnitPointValue(GetAttackedUnitBJ())==3))then
if((GetRandomInt(1,2)==1))then
call PlaySoundOnUnitBJ(gg_snd_zombi_hurt_heavy_1,60.,GetAttackedUnitBJ())
else
call PlaySoundOnUnitBJ(gg_snd_zombi_hurt_heavy_2,60.,GetAttackedUnitBJ())
endif
else
endif
endif
endif
if((GetOwningPlayer(GetEventDamageSource())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
call AddHeroXPSwapped(R2I((GetEventDamage()*.2)),GetAttackedUnitBJ(),false)
else
endif
endfunction
function InitTrig_Zombi_hurt takes nothing returns nothing
set gg_trg_Zombi_hurt=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Zombi_hurt)
call TriggerAddCondition(gg_trg_Zombi_hurt,Condition(function Trig_Zombi_hurtConditions))
call TriggerAddAction(gg_trg_Zombi_hurt,function Trig_Zombi_hurtActions)
endfunction
function Trig_Zombi_upConditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(IsUnitAliveBJ(GetTriggerUnit())==true))
endfunction
function Trig_Zombi_upActions takes nothing returns nothing
if((I2R((GetHeroLevel(GetTriggerUnit())/3))!=(I2R(GetHeroLevel(GetTriggerUnit()))/3.)))then
call ModifyHeroSkillPoints(GetTriggerUnit(),bj_MODIFYMETHOD_SUB,1)
else
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",GetTriggerUnit(),"origin"))
call CreateTextTagUnitBJ("怒气UP",GetTriggerUnit(),-35.,10,100.,40.,40.,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
if(((GetUnitPointValue(GetTriggerUnit())==1)or(GetUnitPointValue(GetTriggerUnit())==3)))then
call PlaySoundOnUnitBJ(gg_snd_zombi_evolution,75.,GetTriggerUnit())
else
call PlaySoundOnUnitBJ(gg_snd_zombi_evolution_female,75.,GetTriggerUnit())
endif
call SetUnitInvulnerable(GetTriggerUnit(),true)
call YDWEPolledWaitNull(.1)
call SetUnitInvulnerable(GetTriggerUnit(),false)
if((IsUnitAliveBJ(GetTriggerUnit())==true))then
if((GetHeroLevel(GetTriggerUnit())>=6))then
if((GetUnitTypeId(GetTriggerUnit())=='H00C'))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00D',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,2)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00D')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,2)
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='H002'))then
if((UnitHasBuffBJ(GetTriggerUnit(),'Bbsk')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'Bbsk')
else
endif
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H003',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H003')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,2)
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='H00F'))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00G',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00G')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,2)
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='H00Z'))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H010',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,3)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H011')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,2)
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='H01G'))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H01H',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H01H')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,2)
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='H03R'))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H03S',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H03S')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,2)
else
endif
else
endif
if((GetHeroLevel(GetTriggerUnit())>=12))then
if((GetUnitTypeId(GetTriggerUnit())=='H00D'))then
if((UnitHasBuffBJ(GetTriggerUnit(),'Bbsk')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'Bbsk')
else
endif
if((UnitHasBuffBJ(GetTriggerUnit(),'B006')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'B006')
else
endif
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00E',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,2)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00E')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,3)
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='H003'))then
if((UnitHasBuffBJ(GetTriggerUnit(),'Bbsk')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'Bbsk')
else
endif
if((UnitHasBuffBJ(GetTriggerUnit(),'B006')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'B006')
else
endif
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H004',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H004')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,3)
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='H00G'))then
if((UnitHasBuffBJ(GetTriggerUnit(),'Bbsk')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'Bbsk')
else
endif
if((UnitHasBuffBJ(GetTriggerUnit(),'B006')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'B006')
else
endif
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00H',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00H')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,4)
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='H010'))then
if((UnitHasBuffBJ(GetTriggerUnit(),'Bbsk')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'Bbsk')
else
endif
if((UnitHasBuffBJ(GetTriggerUnit(),'B006')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'B006')
else
endif
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H011',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,3)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H011')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,4)
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='H01H'))then
if((UnitHasBuffBJ(GetTriggerUnit(),'Bbsk')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'Bbsk')
else
endif
if((UnitHasBuffBJ(GetTriggerUnit(),'B006')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'B006')
else
endif
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H01I',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H01I')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,4)
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='H03S'))then
if((UnitHasBuffBJ(GetTriggerUnit(),'Bbsk')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'Bbsk')
else
endif
if((UnitHasBuffBJ(GetTriggerUnit(),'B006')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'B006')
else
endif
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H03T',bj_UNIT_STATE_METHOD_DEFAULTS)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H03T')
call ModifyHeroSkillPoints(bj_lastReplacedUnit,bj_MODIFYMETHOD_SET,4)
else
endif
else
endif
else
endif
endfunction
function InitTrig_Zombi_up takes nothing returns nothing
set gg_trg_Zombi_up=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Zombi_up,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(gg_trg_Zombi_up,Condition(function Trig_Zombi_upConditions))
call TriggerAddAction(gg_trg_Zombi_up,function Trig_Zombi_upActions)
endfunction
function Trig_Zombi_deathConditions takes nothing returns boolean
return(((GetUnitPointValue(GetDyingUnit())==1)or(GetUnitPointValue(GetDyingUnit())==2)or(GetUnitPointValue(GetDyingUnit())==3))and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true)and(GetOwningPlayer(GetKillingUnitBJ())!=Player(PLAYER_NEUTRAL_PASSIVE)))
endfunction
function Trig_Zombi_deathFunc002003002 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitAliveBJ(GetFilterUnit())==true)))
endfunction
function Trig_Zombi_deathFunc003Func001Func002003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true)))
endfunction
function Trig_Zombi_deathFunc003Func001Func016003001 takes nothing returns boolean
return((LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xDFB448FB)!=GetFilterPlayer()))
endfunction
function Trig_Zombi_deathFunc003Func001Func019003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true)))
endfunction
function Trig_Zombi_deathFunc003Func001Func033003001 takes nothing returns boolean
return((GetOwningPlayer(GetKillingUnitBJ())!=GetFilterPlayer()))
endfunction
function Trig_Zombi_deathActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call YDWEPolledWaitNull(.2)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9E80183F,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetDyingUnit()),Condition(function Trig_Zombi_deathFunc002003002)))
if((CountUnitsInGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9E80183F))==0))then
if((GetOwningPlayer(GetKillingUnitBJ())==Player(PLAYER_NEUTRAL_AGGRESSIVE)))then
call SavePlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,ConvertedPlayer(GetUnitUserData(GetKillingUnitBJ())))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB,YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),Condition(function Trig_Zombi_deathFunc003Func001Func002003002)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB)))
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))=='h001'))then
if((GetRandomInt(1,2)==1))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_BL,"呵呵，尼玛，被我坑死了吧？？",bj_TIMETYPE_ADD,.0,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_GR,"你这王尼玛，我早就知道你蹦跶不了一会儿了，瞧，这不就死了么！",bj_TIMETYPE_ADD,.0,true)
endif
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))=='h005'))then
if((GetRandomInt(1,2)==1))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_BL,"善哉，善哉，我甘愿受罚，以小心虐了你...",bj_TIMETYPE_ADD,.0,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_GR,"额，不是吧，就这么，一两下，你娃就，死B了，这个太，坑爹了！！",bj_TIMETYPE_ADD,.0,true)
endif
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))=='h006'))then
if((GetRandomInt(1,2)==1))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_BL,"哎呀，我晕血，尼玛，离我远点啊",bj_TIMETYPE_ADD,.0,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_GR,"What the fuck?  Why did you ded so quick??",bj_TIMETYPE_ADD,.0,true)
endif
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))=='h01M'))then
if((GetRandomInt(1,2)==1))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_BL,"哈哈，你的尸体就等着喂猪吧....额，不行！等下猪感染了会...",bj_TIMETYPE_ADD,.0,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_GR,"呵呵呵？尼玛，那么不经抗啊？",bj_TIMETYPE_ADD,.0,true)
endif
else
endif
endif
endif
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9E80183F))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetTriggerUnit()))
call SaveInteger(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8)),0xF034EC60,(LoadInteger(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8)),0xF034EC60)+3))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetDyingUnit())),0x9B5D2FB9,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetDyingUnit())),0x9B5D2FB9)+1))
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC13DC62F,bj_lastCreatedTextTag)
call YDWETimerDestroyEffect(6.,AddSpecialEffectLoc("Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,R2I((I2R(GetPlayerState(GetOwningPlayer(GetDyingUnit()),PLAYER_STATE_RESOURCE_GOLD))/2.5)))
call AdjustPlayerStateBJ((0-LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)),GetOwningPlayer(GetDyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),PLAYER_STATE_RESOURCE_GOLD)
call CreateTextTagUnitBJ(("+"+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),GetDyingUnit(),0,12.,100,86.,.0,0)
call ShowTextTagForceBJ(false,bj_lastCreatedTextTag,YDWEGetPlayersMatchingNull(Condition(function Trig_Zombi_deathFunc003Func001Func016003001)))
call YDWETimerDestroyTextTag(3.,bj_lastCreatedTextTag)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
else
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetKillingUnitBJ()),Condition(function Trig_Zombi_deathFunc003Func001Func019003002)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB)))
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))=='h001'))then
if((GetRandomInt(1,2)==1))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_BL,"呵呵，尼玛，被我坑死了吧？？",bj_TIMETYPE_ADD,.0,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_GR,"你这王尼玛，我早就知道你蹦跶不了一会儿了，瞧，这不就死了么！",bj_TIMETYPE_ADD,.0,true)
endif
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))=='h005'))then
if((GetRandomInt(1,2)==1))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_BL,"善哉，善哉，我甘愿受罚，以小心虐了你...",bj_TIMETYPE_ADD,.0,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_GR,"额，不是吧，就这么，一两下，你娃就，死B了，这个太，坑爹了！！",bj_TIMETYPE_ADD,.0,true)
endif
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))=='h006'))then
if((GetRandomInt(1,2)==1))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_BL,"哎呀，我晕血，尼玛，离我远点啊",bj_TIMETYPE_ADD,.0,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_GR,"What the fuck?  Why did you ded so quick??",bj_TIMETYPE_ADD,.0,true)
endif
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))=='h01M'))then
if((GetRandomInt(1,2)==1))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_BL,"哈哈，你的尸体就等着喂猪吧....额，不行！等下猪感染了会...",bj_TIMETYPE_ADD,.0,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_GR,"呵呵呵？尼玛，那么不经抗啊？",bj_TIMETYPE_ADD,.0,true)
endif
else
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))=='h04L'))then
if((GetRandomInt(1,2)==1))then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_BL,"最苦逼的事就是你死了，钱被我偷完鸟= =",bj_TIMETYPE_ADD,.0,true)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),GetUnitName(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),gg_snd_Grenadekill_man_GR,"尝尝光着荷包，身无分无的死去吧！！",bj_TIMETYPE_ADD,.0,true)
endif
else
endif
endif
endif
endif
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9E80183F))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetTriggerUnit()))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xF034EC60,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnitBJ())),0xF034EC60)+3))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetDyingUnit())),0x9B5D2FB9,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetDyingUnit())),0x9B5D2FB9)+1))
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC13DC62F,bj_lastCreatedTextTag)
call YDWETimerDestroyEffect(6.,AddSpecialEffectLoc("Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,R2I((I2R(GetPlayerState(GetOwningPlayer(GetDyingUnit()),PLAYER_STATE_RESOURCE_GOLD))/2.5)))
call AdjustPlayerStateBJ((0-LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)),GetOwningPlayer(GetDyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF),GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call CreateTextTagUnitBJ(("+"+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),GetDyingUnit(),0,12.,100,86.,.0,0)
call ShowTextTagForceBJ(false,bj_lastCreatedTextTag,YDWEGetPlayersMatchingNull(Condition(function Trig_Zombi_deathFunc003Func001Func033003001)))
call YDWETimerDestroyTextTag(3.,bj_lastCreatedTextTag)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
endif
call CreateFogModifierRadiusLocBJ(true,GetOwningPlayer(GetTriggerUnit()),FOG_OF_WAR_VISIBLE,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),512)
call SaveFogModifierHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x17839591,bj_lastCreatedFogModifier)
call YDWEPolledWaitNull(5.)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call DestroyFogModifier(LoadFogModifierHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x17839591))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GroupPickRandomUnit(udg_group_dian)))
call PlaySoundBJ(gg_snd_zombi_comeback)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",GetDyingUnit(),"origin"))
if(((GetUnitTypeId(GetTriggerUnit())=='H003')or(GetUnitTypeId(GetTriggerUnit())=='H004')or(GetUnitTypeId(GetTriggerUnit())=='H00E')or(GetUnitTypeId(GetTriggerUnit())=='H00D')or(GetUnitTypeId(GetTriggerUnit())=='H00H')or(GetUnitTypeId(GetTriggerUnit())=='H00G')or(GetUnitTypeId(GetTriggerUnit())=='H010')or(GetUnitTypeId(GetTriggerUnit())=='H011')or(GetUnitTypeId(GetTriggerUnit())=='H01H')or(GetUnitTypeId(GetTriggerUnit())=='H01I')or(GetUnitTypeId(GetTriggerUnit())=='H03S')or(GetUnitTypeId(GetTriggerUnit())=='H03T')))then
call ReviveHeroLoc(GetDyingUnit(),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),false)
if(((GetUnitTypeId(GetTriggerUnit())=='H003')or(GetUnitTypeId(GetTriggerUnit())=='H004')))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H002',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H002')
else
endif
if(((GetUnitTypeId(GetTriggerUnit())=='H00E')or(GetUnitTypeId(GetTriggerUnit())=='H00D')))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00C',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,2)
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00C')
else
endif
if(((GetUnitTypeId(GetTriggerUnit())=='H00H')or(GetUnitTypeId(GetTriggerUnit())=='H00G')))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00F',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00F')
else
endif
if(((GetUnitTypeId(GetTriggerUnit())=='H010')or(GetUnitTypeId(GetTriggerUnit())=='H011')))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00Z',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,3)
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00Z')
else
endif
if(((GetUnitTypeId(GetTriggerUnit())=='H01H')or(GetUnitTypeId(GetTriggerUnit())=='H01I')))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H01G',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H01G')
else
endif
if(((GetUnitTypeId(GetTriggerUnit())=='H03S')or(GetUnitTypeId(GetTriggerUnit())=='H03T')))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H03R',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H03R')
else
endif
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))
call SetHeroLevelBJ(bj_lastReplacedUnit,1,false)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),.2)
else
endif
if((GetUnitDefaultAcquireRange(GetDyingUnit())==500.))then
call ReviveHeroLoc(GetDyingUnit(),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),false)
call SetHeroLevelBJ(GetTriggerUnit(),1,false)
call SelectUnitForPlayerSingle(GetTriggerUnit(),GetOwningPlayer(GetTriggerUnit()))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),.2)
else
endif
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9E80183F))
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Zombi_death takes nothing returns nothing
set gg_trg_Zombi_death=CreateTrigger()
call DisableTrigger(gg_trg_Zombi_death)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Zombi_death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Zombi_death,Condition(function Trig_Zombi_deathConditions))
call TriggerAddAction(gg_trg_Zombi_death,function Trig_Zombi_deathActions)
endfunction
function Trig_Zombi_skill_1_5_10Conditions takes nothing returns boolean
return((IsUnitType(GetSpellAbilityUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_Zombi_skill_1_5_10Func002Func009T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)+.1))
if(((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))==false)or(UnitHasBuffBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'Bbsk')==false)))then
call SetUnitVertexColor(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),255,255,255,255)
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),3,1,LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0xCC4F082B))
call SaveInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0xCC4F082B,0)
call DestroyEffect(LoadEffectHandle(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x7413F337))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)==3.))then
call PlaySoundOnUnitBJ(gg_snd_zombi_pre_idle_2,75.,LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x458B7DE9))
else
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)==6.))then
call PlaySoundOnUnitBJ(gg_snd_zombi_pre_idle_1,75.,LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x458B7DE9))
else
endif
endif
endif
endfunction
function Trig_Zombi_skill_1_5_10Func004Func003003003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((GetUnitPointValue(GetFilterUnit())==50)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))))
endfunction
function Trig_Zombi_skill_1_5_10Func004Func004A takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA3098AE2,(GetUnitState(GetTriggerUnit(),ConvertUnitState(0x15))*(.75+(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A06F'))*1.25))))
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA3098AE2),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_Zombi_skill_1_5_10Actions takes nothing returns nothing
local timer ydl_timer
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetSpellAbilityId()=='A000'))then
call SetUnitVertexColor(GetTriggerUnit(),255,0,0,255)
call SaveInteger(YDHT,GetHandleId(GetSpellAbilityUnit()),0xCC4F082B,R2I(((.05+(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A000'))*.15))*GetUnitState(GetTriggerUnit(),ConvertUnitState(0x15)))))
call SaveInteger(YDHT,GetHandleId(GetSpellAbilityUnit()),0xCC4F082B,(R2I((50.+(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A000'))*75.)))+LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0xCC4F082B)))
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit(),3,0,LoadInteger(YDHT,GetHandleId(GetSpellAbilityUnit()),0xCC4F082B))
call SaveEffectHandle(YDHT,GetHandleId(GetSpellAbilityUnit()),0x7413F337,AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",GetSpellAbilityUnit(),"chest"))
call PlaySoundOnUnitBJ(gg_snd_zombi_pressure,75.,GetTriggerUnit())
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetSpellAbilityUnit())
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,.0)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x458B7DE9,GetTriggerUnit())
call TimerStart(ydl_timer,.1,true,function Trig_Zombi_skill_1_5_10Func002Func009T)
else
endif
if((GetSpellAbilityId()=='A02F'))then
call PlaySoundBJ(gg_snd_DarkSummoningLaunch1)
else
endif
if((GetSpellAbilityId()=='A084'))then
call PlaySoundBJ(gg_snd_BansheeDeath)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(GetTriggerUnit()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(1200.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),Condition(function Trig_Zombi_skill_1_5_10Func004Func003003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Zombi_skill_1_5_10Func004Func004A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Zombi_skill_1_5_10 takes nothing returns nothing
set gg_trg_Zombi_skill_1_5_10=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Zombi_skill_1_5_10,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Zombi_skill_1_5_10,Condition(function Trig_Zombi_skill_1_5_10Conditions))
call TriggerAddAction(gg_trg_Zombi_skill_1_5_10,function Trig_Zombi_skill_1_5_10Actions)
endfunction
function Trig_Zombi_skill_2_4_6_8Func003Func013Func004Func002T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.85))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.7))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),(27.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=10.))then
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),12.)
call YDWETimerDestroyTextTag(3.,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Zombi_skill_2_4_6_8Func003Func013T takes nothing returns nothing
local timer ydl_timer
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.65))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),(12.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=17.))then
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0xDEFC4000,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x47C461BA,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call TimerStart(ydl_timer,.02,true,function Trig_Zombi_skill_2_4_6_8Func003Func013Func004Func002T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_timer=null
endfunction
function Trig_Zombi_skill_2_4_6_8Func004Func003Func016Func004Func002T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.85))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.7))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),(27.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=10.))then
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),12.)
call YDWETimerDestroyTextTag(3.,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Zombi_skill_2_4_6_8Func004Func003Func016T takes nothing returns nothing
local timer ydl_timer
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.65))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),(12.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=17.))then
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0xDEFC4000,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x47C461BA,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call TimerStart(ydl_timer,.02,true,function Trig_Zombi_skill_2_4_6_8Func004Func003Func016Func004Func002T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_timer=null
endfunction
function Trig_Zombi_skill_2_4_6_8Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]==1)and((GetUnitTypeId(GetTriggerUnit())=='H00F')or(GetUnitTypeId(GetTriggerUnit())=='H00G')or(GetUnitTypeId(GetTriggerUnit())=='H00H')))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetEventDamage())
call SaveReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x860205E2,(LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x860205E2)+LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x860205E2)>=800.))then
if((LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x06E3C86E)<=(((I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A08C'))*650.)+200.)+.0)))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((GetEventDamage()/800.)*I2R(GetUnitAbilityLevel(GetAttackedUnitBJ(),'A08C'))))
call YDWEGeneralBounsSystemUnitSetBonus(GetAttackedUnitBJ(),3,0,R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
call SaveReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x06E3C86E,(LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x06E3C86E)+LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
call SaveReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x860205E2,.0)
else
call SaveReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x860205E2,.0)
endif
else
endif
else
endif
if(((UnitHasBuffBJ(GetEventDamageSource(),'B004')==true)or(UnitHasBuffBJ(GetEventDamageSource(),'B005')==true)or(UnitHasBuffBJ(GetEventDamageSource(),'B003')==true)))then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetEventDamageSource(),"origin"))
if((UnitHasBuffBJ(GetEventDamageSource(),'B004')==true))then
call SetUnitLifeBJ(GetEventDamageSource(),(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+(GetEventDamage()*.15)))
else
if((UnitHasBuffBJ(GetEventDamageSource(),'B005')==true))then
call SetUnitLifeBJ(GetEventDamageSource(),(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+(GetEventDamage()*.3)))
else
if((UnitHasBuffBJ(GetEventDamageSource(),'B003')==true))then
call SetUnitLifeBJ(GetEventDamageSource(),(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+(GetEventDamage()*.45)))
else
endif
endif
endif
else
endif
if((GetEventDamage()>=1.)and(GetUnitAbilityLevel(GetEventDamageSource(),'A02G')>=1)and(GetRandomInt(1,100)<=15))then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",GetUnitX(GetAttackedUnitBJ()),GetUnitY(GetAttackedUnitBJ())))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,((((I2R(GetUnitAbilityLevel(GetEventDamageSource(),'A02G'))*.5)+.5)+.0)*I2R(GetHeroStr(GetEventDamageSource(),true))))
call DisableTrigger(gg_trg_article_skill_1_6_8_9_14_15_17)
call DisableTrigger(gg_trg_Zombi_skill_2_4_6_8)
call UnitDamageTarget(GetEventDamageSource(),GetAttackedUnitBJ(),LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7),true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call EnableTrigger(gg_trg_article_skill_1_6_8_9_14_15_17)
call EnableTrigger(gg_trg_Zombi_skill_2_4_6_8)
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource()),.0)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),100.,.0,65.,0)
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),I2S(R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7))),12.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.02,true,function Trig_Zombi_skill_2_4_6_8Func003Func013T)
else
endif
if((GetEventDamage()>=1.)and(GetUnitAbilityLevel(GetEventDamageSource(),'A00I')>=1))then
if((LoadInteger(YDHT,GetHandleId(GetEventDamageSource()),0x1E69398C)>=5))then
call SaveInteger(YDHT,GetHandleId(GetEventDamageSource()),0x1E69398C,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\TinkerRocket\\TinkerRocketMissile.mdl",GetUnitX(GetAttackedUnitBJ()),GetUnitY(GetAttackedUnitBJ())))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,((((I2R(GetUnitAbilityLevel(GetEventDamageSource(),'A00I'))*.5)+.0)+.0)*GetUnitState(GetEventDamageSource(),ConvertUnitState(0x15))))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x11B33C6E,((((I2R(GetUnitAbilityLevel(GetEventDamageSource(),'A00I'))*.5)+1.)+.0)*GetUnitState(GetEventDamageSource(),ConvertUnitState(0x15))))
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_article_skill_1_6_8_9_14_15_17)
call UnitDamageTarget(GetEventDamageSource(),GetAttackedUnitBJ(),LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7),true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call EnableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_article_skill_1_6_8_9_14_15_17)
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource()),.0)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),100.,25.,.0,0)
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),I2S(R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x11B33C6E))),12.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.02,true,function Trig_Zombi_skill_2_4_6_8Func004Func003Func016T)
else
endif
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Zombi_skill_2_4_6_8 takes nothing returns nothing
set gg_trg_Zombi_skill_2_4_6_8=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Zombi_skill_2_4_6_8)
call TriggerAddAction(gg_trg_Zombi_skill_2_4_6_8,function Trig_Zombi_skill_2_4_6_8Actions)
endfunction
function Trig_Zombi_skill_2_fzConditions takes nothing returns boolean
return((IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)==true)and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]==1)and(GetUnitAbilityLevel(GetDyingUnit(),'A08C')>=1))
endfunction
function Trig_Zombi_skill_2_fzFunc009T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.6))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),(40.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=40.))then
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Zombi_skill_2_fzActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call YDWEGeneralBounsSystemUnitSetBonus(GetDyingUnit(),3,1,(R2I(LoadReal(YDHT,GetHandleId(GetDyingUnit()),0x06E3C86E))/2))
call SaveReal(YDHT,GetHandleId(GetDyingUnit()),0x06E3C86E,(LoadReal(YDHT,GetHandleId(GetDyingUnit()),0x06E3C86E)/2.))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,(LoadReal(YDHT,GetHandleId(GetDyingUnit()),0x06E3C86E)/2.))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,(.0-LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)))
call CreateTextTagUnitBJ(I2S(R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7))),GetDyingUnit(),-125.,40.,100.,.0,.0,0)
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,bj_lastCreatedTextTag)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call TimerStart(ydl_timer,.02,true,function Trig_Zombi_skill_2_fzFunc009T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Zombi_skill_2_fz takes nothing returns nothing
set gg_trg_Zombi_skill_2_fz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Zombi_skill_2_fz,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Zombi_skill_2_fz,Condition(function Trig_Zombi_skill_2_fzConditions))
call TriggerAddAction(gg_trg_Zombi_skill_2_fz,function Trig_Zombi_skill_2_fzActions)
endfunction
function Trig_Zombi_skill_3Func001Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitAbilityLevel(GetFilterUnit(),'A06E')>=1)))
endfunction
function Trig_Zombi_skill_3Func001Func002Func002003003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)and(GetUnitPointValue(GetFilterUnit())==50))))
endfunction
function Trig_Zombi_skill_3Func001Func002Func004A takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)))
endfunction
function Trig_Zombi_skill_3Func001Func002A takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80,GetUnitLoc(GetEnumUnit()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB,YDWEGetUnitsInRangeOfLocMatchingNull(400.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80),Condition(function Trig_Zombi_skill_3Func001Func002Func002003003)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,(((.15*I2R(GetUnitAbilityLevel(GetEnumUnit(),'A06E')))+.05)*I2R(GetHeroStr(GetEnumUnit(),true))))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB),function Trig_Zombi_skill_3Func001Func002Func004A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80))
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Zombi_skill_3Func001A takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetEnumPlayer(),Condition(function Trig_Zombi_skill_3Func001Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC),function Trig_Zombi_skill_3Func001Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Zombi_skill_3Actions takes nothing returns nothing
call ForForce(udg_group_of_players[0],function Trig_Zombi_skill_3Func001A)
endfunction
function InitTrig_Zombi_skill_3 takes nothing returns nothing
set gg_trg_Zombi_skill_3=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Zombi_skill_3,.5)
call TriggerAddAction(gg_trg_Zombi_skill_3,function Trig_Zombi_skill_3Actions)
endfunction
function Trig_Zombi_skill_7_9Func001Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitAbilityLevel(GetFilterUnit(),'A03V')>=1)))
endfunction
function Trig_Zombi_skill_7_9Func001Func002Func003003003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true)))
endfunction
function Trig_Zombi_skill_7_9Func001Func002A takes nothing returns nothing
call YDWEGeneralBounsSystemUnitSetBonus(GetEnumUnit(),3,1,R2I(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0x38D8E43F)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80,GetUnitLoc(GetEnumUnit()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB,YDWEGetUnitsInRangeOfLocMatchingNull(725.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80),Condition(function Trig_Zombi_skill_7_9Func001Func002Func003003003)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,(GetUnitState(GetEnumUnit(),ConvertUnitState(0x15))*((I2R(GetUnitAbilityLevel(GetEnumUnit(),'A03V'))*.15)*I2R(CountUnitsInGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))))))
call YDWEGeneralBounsSystemUnitSetBonus(GetEnumUnit(),3,0,R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)))
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0x38D8E43F,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80))
endfunction
function Trig_Zombi_skill_7_9Func001Func004003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitAbilityLevel(GetFilterUnit(),'A011')>=1)))
endfunction
function Trig_Zombi_skill_7_9Func001Func005A takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_INT,GetEnumUnit(),bj_MODIFYMETHOD_SUB,R2I(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xA8901BA8)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,((GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE))/(GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*.08)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7ACA28E7,(I2R(GetHeroInt(GetEnumUnit(),true))*((I2R(GetUnitAbilityLevel(GetEnumUnit(),'A011'))*.02)+.02)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7ACA28E7)*LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)))
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0xA8901BA8,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x18ABF571))
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0xFE50400A,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7ACA28E7))
call ModifyHeroStat(bj_HEROSTAT_INT,GetEnumUnit(),bj_MODIFYMETHOD_ADD,R2I(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xA8901BA8)))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80))
endfunction
function Trig_Zombi_skill_7_9Func001Func007003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitAbilityLevel(GetFilterUnit(),'A06G')>=1)))
endfunction
function Trig_Zombi_skill_7_9Func001Func008A takes nothing returns nothing
call YDWEGeneralBounsSystemUnitSetBonus(GetEnumUnit(),3,1,R2I(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0x1583DC07)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,((I2R(GetUnitAbilityLevel(GetEnumUnit(),'A06G'))*.25)*I2R(GetHeroStr(GetEnumUnit(),true))))
call YDWEGeneralBounsSystemUnitSetBonus(GetEnumUnit(),3,0,R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)))
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0x1583DC07,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))
endfunction
function Trig_Zombi_skill_7_9Func001A takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetEnumPlayer(),Condition(function Trig_Zombi_skill_7_9Func001Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC),function Trig_Zombi_skill_7_9Func001Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetEnumPlayer(),Condition(function Trig_Zombi_skill_7_9Func001Func004003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC),function Trig_Zombi_skill_7_9Func001Func005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetEnumPlayer(),Condition(function Trig_Zombi_skill_7_9Func001Func007003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC),function Trig_Zombi_skill_7_9Func001Func008A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Zombi_skill_7_9Actions takes nothing returns nothing
call ForForce(udg_group_of_players[0],function Trig_Zombi_skill_7_9Func001A)
endfunction
function InitTrig_Zombi_skill_7_9 takes nothing returns nothing
set gg_trg_Zombi_skill_7_9=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Zombi_skill_7_9,.5)
call TriggerAddAction(gg_trg_Zombi_skill_7_9,function Trig_Zombi_skill_7_9Actions)
endfunction
function Trig_Zombi_skill_8_fzConditions takes nothing returns boolean
return((GetUnitAbilityLevel(GetAttacker(),'A00I')>=1))
endfunction
function Trig_Zombi_skill_8_fzActions takes nothing returns nothing
call SaveInteger(YDHT,GetHandleId(GetAttacker()),0x1E69398C,(LoadInteger(YDHT,GetHandleId(GetAttacker()),0x1E69398C)+1))
endfunction
function InitTrig_Zombi_skill_8_fz takes nothing returns nothing
set gg_trg_Zombi_skill_8_fz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Zombi_skill_8_fz,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Zombi_skill_8_fz,Condition(function Trig_Zombi_skill_8_fzConditions))
call TriggerAddAction(gg_trg_Zombi_skill_8_fz,function Trig_Zombi_skill_8_fzActions)
endfunction
function Trig_Zombi_gold_1Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetTriggerPlayer())]==1))
endfunction
function Trig_Zombi_gold_1Actions takes nothing returns nothing
call AdjustPlayerStateBJ((GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)/10),GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,0)
endfunction
function InitTrig_Zombi_gold_1 takes nothing returns nothing
set gg_trg_Zombi_gold_1=CreateTrigger()
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(0),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(1),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(2),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(3),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(4),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(5),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(6),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(7),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(8),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(9),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(10),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(11),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(12),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(13),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(14),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerRegisterPlayerStateEvent(gg_trg_Zombi_gold_1,Player(15),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,10.)
call TriggerAddCondition(gg_trg_Zombi_gold_1,Condition(function Trig_Zombi_gold_1Conditions))
call TriggerAddAction(gg_trg_Zombi_gold_1,function Trig_Zombi_gold_1Actions)
endfunction
function Trig_Zombi_gold_2Func001A takes nothing returns nothing
call AdjustPlayerStateBJ(1,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Zombi_gold_2Actions takes nothing returns nothing
call ForForce(udg_group_of_players[0],function Trig_Zombi_gold_2Func001A)
endfunction
function InitTrig_Zombi_gold_2 takes nothing returns nothing
set gg_trg_Zombi_gold_2=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Zombi_gold_2,.58)
call TriggerAddAction(gg_trg_Zombi_gold_2,function Trig_Zombi_gold_2Actions)
endfunction
function Trig_Zombi_minConditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]==1)and((IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==true)or(GetOwningPlayer(GetAttackedUnitBJ())==Player(PLAYER_NEUTRAL_PASSIVE)))and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]==0))
endfunction
function Trig_Zombi_minActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call AdjustPlayerStateBJ(R2I((GetEventDamage()/4.)),GetOwningPlayer(GetEventDamageSource()),PLAYER_STATE_RESOURCE_LUMBER)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x736A3C94,(R2I(GetEventDamage())/50))
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]==0)and(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x736A3C94)>=2500)and(LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x962F8085)==false))then
call PlaySoundBJ(gg_snd_QuestCompleted)
set udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_achievement_cont[GetConvertedPlayerId(GetTriggerPlayer())]+1)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x962F8085,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xBBAEF8F3)+("|r  获得了成就 "+(udg_achievement_title[9]+"|r ！！！"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x84056CE3,(LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x84056CE3)+25))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ())))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7,9)
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==1))then
set udg_ach_cont1[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==2))then
set udg_ach_cont2[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==3))then
set udg_ach_cont3[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==4))then
set udg_ach_cont4[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==5))then
set udg_ach_cont5[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==6))then
set udg_ach_cont6[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==7))then
set udg_ach_cont7[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==8))then
set udg_ach_cont8[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==9))then
set udg_ach_cont9[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==10))then
set udg_ach_cont10[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==11))then
set udg_ach_cont11[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)==12))then
set udg_ach_cont12[udg_achievement_cont[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]]=udg_achievement_title[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7ACA28E7)]
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SaveStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xBBAEF8F3))),StringHash(("成就")),(((LoadStr(YDHT,StringHash((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xBBAEF8F3))),StringHash(("成就"))))+(("-"+I2S(udg_achievement_cont[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]))+udg_achievement_title[9]))))
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]]))then
call PlaySoundBJ(gg_snd_WarlockAppears)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),.0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xBBAEF8F3)+("|r  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call SetPlayerName(GetTriggerPlayer(),(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]-1)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetAttackedUnitBJ())),0xAF9C0D5D))))
else
endif
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Zombi_min takes nothing returns nothing
set gg_trg_Zombi_min=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Zombi_min)
call TriggerAddCondition(gg_trg_Zombi_min,Condition(function Trig_Zombi_minConditions))
call TriggerAddAction(gg_trg_Zombi_min,function Trig_Zombi_minActions)
endfunction
function Trig_Mining_stone_uFunc002Func001Func002003001 takes nothing returns boolean
return((GetOwningPlayer(GetEnumUnit())!=GetFilterPlayer()))
endfunction
function Trig_Mining_stone_uFunc002A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true)and(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)==GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)))then
call CreateTextTagUnitBJ(("+"+I2S((GetPlayerTechCountSimple('R001',GetOwningPlayer(GetEnumUnit()))+1))),GetEnumUnit(),0,12.,50.,50.,50.,0)
call ShowTextTagForceBJ(false,GetLastCreatedTextTag(),YDWEGetPlayersMatchingNull(Condition(function Trig_Mining_stone_uFunc002Func001Func002003001)))
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ((GetPlayerTechCountSimple('R001',GetOwningPlayer(GetEnumUnit()))+1),GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
endif
endfunction
function Trig_Mining_stone_uFunc005Func001Func002003001 takes nothing returns boolean
return((GetOwningPlayer(GetEnumUnit())!=GetFilterPlayer()))
endfunction
function Trig_Mining_stone_uFunc005A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true)and(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)==GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)))then
call CreateTextTagUnitBJ(("+"+I2S(((GetPlayerTechCountSimple('R006',GetOwningPlayer(GetEnumUnit()))*2)+30))),GetEnumUnit(),0,12.,50.,50.,50.,0)
call ShowTextTagForceBJ(false,GetLastCreatedTextTag(),YDWEGetPlayersMatchingNull(Condition(function Trig_Mining_stone_uFunc005Func001Func002003001)))
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ(((GetPlayerTechCountSimple('R006',GetOwningPlayer(GetEnumUnit()))*2)+30),GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
endif
endfunction
function Trig_Mining_stone_uActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfTypeIdAllNull('h008'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001),function Trig_Mining_stone_uFunc002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,YDWEGetUnitsOfTypeIdAllNull('h03Q'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001),function Trig_Mining_stone_uFunc005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Mining_stone_u takes nothing returns nothing
set gg_trg_Mining_stone_u=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Mining_stone_u,1.)
call TriggerAddAction(gg_trg_Mining_stone_u,function Trig_Mining_stone_uActions)
endfunction
function Trig_Items_function_aConditions takes nothing returns boolean
return((YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit(),'clfm')==true))
endfunction
function Trig_Items_function_aFunc033003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))))
endfunction
function Trig_Items_function_aFunc034A takes nothing returns nothing
call SetUnitTimeScale(GetEnumUnit(),.0)
call PauseUnitBJ(true,GetEnumUnit())
endfunction
function Trig_Items_function_aFunc036A takes nothing returns nothing
call SetUnitTimeScale(GetEnumUnit(),1.)
call PauseUnitBJ(false,GetEnumUnit())
endfunction
function Trig_Items_function_aActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),'clfm'))
call CreateTextTagUnitBJ("感染失败！",GetKillingUnitBJ(),0,13.5,.0,100.,32.,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),90.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,GetItemTypeId(UnitItemInSlotBJ(GetDyingUnit(),1)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x70432FFB,GetItemTypeId(UnitItemInSlotBJ(GetDyingUnit(),2)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC7D70C5B,GetItemTypeId(UnitItemInSlotBJ(GetDyingUnit(),3)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7A3AFCC6,GetItemTypeId(UnitItemInSlotBJ(GetDyingUnit(),4)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA2E76387,GetItemTypeId(UnitItemInSlotBJ(GetDyingUnit(),5)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x071E0023,GetItemTypeId(UnitItemInSlotBJ(GetDyingUnit(),6)))
if((GetUnitPointValue(GetDyingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetDyingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetTriggerUnit()))
call CreateNUnitsAtLoc(1,GetUnitTypeId(GetTriggerUnit()),GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),GetUnitFacing(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x70432FFB),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC7D70C5B),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7A3AFCC6),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA2E76387),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x071E0023),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x0EF5DDF0,bj_lastCreatedUnit)
call SelectUnitForPlayerSingle(bj_lastCreatedUnit,GetOwningPlayer(GetTriggerUnit()))
call CreateNUnitsAtLoc(1,'h01F',GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),GetUnitFacing(GetTriggerUnit()))
call IssueTargetOrder(bj_lastCreatedUnit,"invisibility",LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x0EF5DDF0))
call YDWETimerRemoveUnit(.3,bj_lastCreatedUnit)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),.2)
call RemoveUnit(GetTriggerUnit())
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetTriggerUnit()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(512,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),Condition(function Trig_Items_function_aFunc033003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Items_function_aFunc034A)
call YDWEPolledWaitNull(1.5)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Items_function_aFunc036A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Items_function_a takes nothing returns nothing
set gg_trg_Items_function_a=CreateTrigger()
call DisableTrigger(gg_trg_Items_function_a)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Items_function_a,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Items_function_a,Condition(function Trig_Items_function_aConditions))
call TriggerAddAction(gg_trg_Items_function_a,function Trig_Items_function_aActions)
endfunction
function Trig_Items_function_bConditions takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='plcl'))
endfunction
function Trig_Items_function_bActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true)and(CountPlayersInForceBJ(udg_group_of_players[0])>1))then
call SavePlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B,GetOwningPlayer(GetTriggerUnit()))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl",GetTriggerUnit(),"origin"))
if(((GetUnitPointValue(GetTriggerUnit())==1)or(GetUnitPointValue(GetTriggerUnit())==3)))then
call PlaySoundBJ(gg_snd_hp_supply_male)
else
call PlaySoundBJ(gg_snd_hp_supply_female)
endif
call YDWEPolledWaitNull(1.)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SetPlayerUnitAvailableBJ('h00K',true,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00M',true,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00O',true,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00B',true,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('n002',true,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00R',true,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00S',true,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h01N',true,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h01R',true,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h04P',true,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h04M',true,GetOwningPlayer(GetTriggerUnit()))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)*2))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),'plcl'))
call RemoveUnit(GetTriggerUnit())
call SetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_GIVES_BOUNTY,0)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xBBAEF8F3)+("|r 使用了"+(udg_yanse[GetRandomInt(1,5)]+"【T病毒血清】|r ，快去抓他呀，Zombi们！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_UNALLIED)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((udg_Number[GetConvertedPlayerId(ConvertedPlayer(GetForLoopIndexA()))]==1))then
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexA()),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_UNALLIED)
else
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexA()),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED)
if((LoadInteger(YDHT,GetHandleId(ConvertedPlayer(GetForLoopIndexA())),0xA7D338CE)>=1))then
call SetPlayerAlliance(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),ConvertedPlayer(GetForLoopIndexA()),ALLIANCE_SHARED_VISION,true)
else
endif
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),bj_ALLIANCE_ALLIED)
set udg_Number[99]=(udg_Number[99]-1)
set udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
call ForceAddPlayer(udg_group_of_players[1],GetOwningPlayer(GetTriggerUnit()))
call ForceRemovePlayer(udg_group_of_players[0],GetOwningPlayer(GetTriggerUnit()))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GroupPickRandomUnit(udg_group_dian)))
call SetPlayerTechMaxAllowedSwap('h008',5,LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
call SetPlayerTechMaxAllowedSwap('h00Q',1,LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
call SetPlayerTechMaxAllowedSwap('h00N',1,LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
call SetPlayerTechMaxAllowedSwap('h00L',1,LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
call SetPlayerTechMaxAllowedSwap('h01S',1,LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))
call SetPlayerStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),PLAYER_STATE_RESOURCE_LUMBER,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call CreateNUnitsAtLoc(1,'hpea',LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),bj_UNIT_FACING)
call SetPlayerName(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B),((LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B))]-1)])+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1ABADE9B)),0xBBAEF8F3)+"")))
if((IsUnitAliveBJ(bj_lastCreatedUnit)==true)and(bj_lastCreatedUnit!=null))then
call UnitAddItemByIdSwapped('I000',bj_lastCreatedUnit)
else
endif
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),.2)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
call RemoveItem(GetManipulatedItem())
call UnitAddItemByIdSwapped('plcl',GetTriggerUnit())
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFF0000无法使用...")
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Items_function_b takes nothing returns nothing
set gg_trg_Items_function_b=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Items_function_b,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_Items_function_b,Condition(function Trig_Items_function_bConditions))
call TriggerAddAction(gg_trg_Items_function_b,function Trig_Items_function_bActions)
endfunction
function Trig_Items_function_cActions takes nothing returns nothing
if((UnitHasBuffBJ(GetTriggerUnit(),'Bbsk')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'Bbsk')
else
endif
if((UnitHasBuffBJ(GetTriggerUnit(),'B006')==true))then
call UnitRemoveAbility(GetTriggerUnit(),'B006')
else
endif
if((GetItemTypeId(GetManipulatedItem())=='pnvl'))then
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
call SaveStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D,"(暗影女妖)")
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)])+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00C',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,2)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00C')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.01))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00D',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,2)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00D')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.02))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00E',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,2)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00E')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
endif
endif
endif
else
call RemoveItem(GetManipulatedItem())
call UnitAddItemByIdSwapped('pnvl',GetTriggerUnit())
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFF0000无法使用...")
endif
else
endif
if((GetItemTypeId(GetManipulatedItem())=='I00A'))then
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
call SaveStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D,"(死亡傀儡)")
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)])+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00F',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00F')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.01))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00G',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00G')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.02))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00H',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00H')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
endif
endif
endif
else
call RemoveItem(GetManipulatedItem())
call UnitAddItemByIdSwapped('I00A',GetTriggerUnit())
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFF0000无法使用...")
endif
else
endif
if((GetItemTypeId(GetManipulatedItem())=='I00F'))then
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
call SaveStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D,"(游荡之魂)")
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)])+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H00Z',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,3)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H00Z')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.01))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H010',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,3)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H010')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.02))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H011',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,3)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H011')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
endif
endif
endif
else
call RemoveItem(GetManipulatedItem())
call UnitAddItemByIdSwapped('I00F',GetTriggerUnit())
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFF0000无法使用...")
endif
else
endif
if((GetItemTypeId(GetManipulatedItem())=='I01P'))then
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
call SaveStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D,"(邪触恶鬼)")
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)])+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H01G',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H01G')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.01))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H01H',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H01H')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.02))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H01I',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H01I')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
endif
endif
endif
else
call RemoveItem(GetManipulatedItem())
call UnitAddItemByIdSwapped('I01P',GetTriggerUnit())
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFF0000无法使用...")
endif
else
endif
if((GetItemTypeId(GetManipulatedItem())=='I04A'))then
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
call SaveStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D,"(恶魔武士)")
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)])+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H03R',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H03R')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.01))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H03S',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H03S')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
if((GetUnitDefaultAcquireRange(GetTriggerUnit())==500.02))then
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'H03T',bj_UNIT_STATE_METHOD_RELATIVE)
call SaveInteger(YDHT,GetHandleId(bj_lastReplacedUnit),0xFA19F30A,1)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,'H03T')
call SaveUnitHandle(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xE6E64075,bj_lastReplacedUnit)
else
endif
endif
endif
else
call RemoveItem(GetManipulatedItem())
call UnitAddItemByIdSwapped('I04A',GetTriggerUnit())
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFF0000无法使用...")
endif
else
endif
endfunction
function InitTrig_Items_function_c takes nothing returns nothing
set gg_trg_Items_function_c=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Items_function_c,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg_Items_function_c,function Trig_Items_function_cActions)
endfunction
function Trig_lottery_uConditions takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='I000'))
endfunction
function Trig_lottery_uActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call RemoveItem(GetManipulatedItem())
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,GetRandomInt(1,13))
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==1))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+"|r 打开了奇异盆，里面屁都没有...")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PlaySoundBJ(gg_snd_ohno)
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==2))then
call UnitAddItemByIdSwapped('clfm',GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+"【防化服】|r")+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==3))then
call UnitAddItemByIdSwapped('plcl',GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+"【T病毒血清】|r")+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==4))then
call UnitAddItemByIdSwapped('bspd',GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+"【速靴】|r")+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==5))then
call UnitAddItemByIdSwapped('mlst',GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+"【锤子 (5个)】|r")+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==6))then
call UnitAddItemByIdSwapped('pnvl',GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+"【ZB-暗影女妖】|r")+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==7))then
call UnitAddItemByIdSwapped('I00A',GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+"【ZB-死亡傀儡】|r")+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==8))then
call UnitAddItemByIdSwapped('I00B',GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+"【战斗之励】|r")+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==9))then
call UnitAddItemByIdSwapped('lhst',GetTriggerUnit())
call SetPlayerTechResearchedSwap('R00P',1,GetOwningPlayer(GetTriggerUnit()))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+"【防御之励】|r")+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==10))then
call UnitAddItemByIdSwapped('I00F',GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+"【ZB-游荡之魂】|r")+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==11))then
call UnitAddItemByIdSwapped('I04A',GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+"【ZB-恶魔武士】|r")+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==12))then
call UnitAddItemByIdSwapped('I01P',GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+"【ZB-邪触恶鬼】|r")+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==13))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x11B33C6E,GetRandomInt(50,140))
call AdjustPlayerStateBJ(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x11B33C6E),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+("|r 打开了奇异盆，得到了"+((udg_yanse[GetRandomInt(1,5)]+("【"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x11B33C6E))+"石料】|r")))+"！！！")))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if((GetUnitPointValue(GetManipulatingUnit())==1))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL)
else
call PlaySoundBJ(gg_snd_Knifekill_GR)
endif
else
if((GetUnitPointValue(GetManipulatingUnit())==2))then
if((GetRandomInt(1,2)==1))then
call PlaySoundBJ(gg_snd_Knifekill_BL_female)
else
call PlaySoundBJ(gg_snd_Knifekill_GR_female)
endif
else
endif
endif
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_lottery_u takes nothing returns nothing
set gg_trg_lottery_u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_lottery_u,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_lottery_u,Condition(function Trig_lottery_uConditions))
call TriggerAddAction(gg_trg_lottery_u,function Trig_lottery_uActions)
endfunction
function Trig_Building_restrictionsConditions takes nothing returns boolean
return(((GetUnitTypeId(GetTriggerUnit())=='h001')or(GetUnitTypeId(GetTriggerUnit())=='h006')or(GetUnitTypeId(GetTriggerUnit())=='h005')or(GetUnitTypeId(GetTriggerUnit())=='h01M')or(GetUnitTypeId(GetTriggerUnit())=='h04L')))
endfunction
function Trig_Building_restrictionsActions takes nothing returns nothing
if((GetUnitTypeId(GetTriggerUnit())=='h001'))then
call SetPlayerUnitAvailableBJ('h00O',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00B',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00R',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00S',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h01N',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h01R',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h04P',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h04M',false,GetOwningPlayer(GetTriggerUnit()))
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='h006'))then
call SetPlayerUnitAvailableBJ('h00K',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h01N',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00O',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00M',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00B',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h01R',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('n002',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h04M',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h04P',false,GetOwningPlayer(GetTriggerUnit()))
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='h005'))then
call SetPlayerUnitAvailableBJ('h00K',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h01N',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00R',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h04P',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00M',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00S',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h01R',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h04M',false,GetOwningPlayer(GetTriggerUnit()))
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='h01M'))then
call SetPlayerUnitAvailableBJ('h00O',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00K',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h04P',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00R',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00M',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00S',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00B',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h04M',false,GetOwningPlayer(GetTriggerUnit()))
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='h04L'))then
call SetPlayerUnitAvailableBJ('h01N',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h01R',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00O',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00K',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00R',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00M',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00S',false,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerUnitAvailableBJ('h00B',false,GetOwningPlayer(GetTriggerUnit()))
else
endif
endfunction
function InitTrig_Building_restrictions takes nothing returns nothing
set gg_trg_Building_restrictions=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Building_restrictions,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddCondition(gg_trg_Building_restrictions,Condition(function Trig_Building_restrictionsConditions))
call TriggerAddAction(gg_trg_Building_restrictions,function Trig_Building_restrictionsActions)
endfunction
function Trig_Building_deathConditions takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true))
endfunction
function Trig_Building_deathActions takes nothing returns nothing
local integer ydul_i
set ydul_i=1
loop
exitwhen ydul_i>6
call RemoveItem(UnitItemInSlotBJ(GetDyingUnit(),ydul_i))
set ydul_i=ydul_i+1
endloop
call YDWETimerRemoveUnit(3.,GetTriggerUnit())
endfunction
function InitTrig_Building_death takes nothing returns nothing
set gg_trg_Building_death=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Building_death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Building_death,Condition(function Trig_Building_deathConditions))
call TriggerAddAction(gg_trg_Building_death,function Trig_Building_deathActions)
endfunction
function Trig_Building_comingConditions takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())=='h01U'))
endfunction
function Trig_Building_comingActions takes nothing returns nothing
call YDWEReplaceUnitBJNull(GetTriggerUnit(),'h01U',bj_UNIT_STATE_METHOD_DEFAULTS)
endfunction
function InitTrig_Building_coming takes nothing returns nothing
set gg_trg_Building_coming=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Building_coming,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddCondition(gg_trg_Building_coming,Condition(function Trig_Building_comingConditions))
call TriggerAddAction(gg_trg_Building_coming,function Trig_Building_comingActions)
endfunction
function Trig_Building_then_damageFunc001Func001Func004003001 takes nothing returns boolean
return(((GetFilterPlayer()!=GetOwningPlayer(GetTriggerUnit()))and(IsUnitInvisible(GetTriggerUnit(),GetFilterPlayer())==true)))
endfunction
function Trig_Building_then_damageFunc001Func001Func007Func001Func008Func005T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.6))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC),(25.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=15.))then
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Building_then_damageFunc001Func001Func007T takes nothing returns nothing
local timer ydl_timer
if((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))==true)and(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01O'))then
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,GetRandomInt(-40,60))
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)*150))
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)>=0))then
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),.0,100,10.,0)
else
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),100.,.0,10.,0)
endif
if((LoadBoolean(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x9E87C223)==false))then
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),3,1,LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x463D6CC2))
call SaveInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x463D6CC2,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),3,0,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call TimerStart(ydl_timer,.02,true,function Trig_Building_then_damageFunc001Func001Func007Func001Func008Func005T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_timer=null
endfunction
function Trig_Building_then_damageFunc001Func001Func009Conditions takes nothing returns nothing
if((GetTriggerUnit()==LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D)))then
if((GetUnitTypeId(GetTriggerUnit())=='h01O'))then
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x9E87C223,false)
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x32A9E4C8))
if((GetTriggerUnit()==GetDyingUnit()))then
call FlushChildHashtable(YDHT,GetHandleId(GetTriggerUnit()))
else
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger()))
call DestroyTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Trig_Building_then_damageFunc001Func005003001 takes nothing returns boolean
return(((GetFilterPlayer()!=GetOwningPlayer(GetTriggerUnit()))and(IsUnitInvisible(GetTriggerUnit(),GetFilterPlayer())==true)))
endfunction
function Trig_Building_then_damageFunc001Func008Func001Func008Func004T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.6))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC),(25.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=15.))then
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Building_then_damageFunc001Func008T takes nothing returns nothing
local timer ydl_timer
if((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))==true)and(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01N'))then
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,GetRandomInt(-40,80))
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)*15))
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)>=0))then
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),.0,100,10.,0)
else
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),100.,.0,10.,0)
endif
if((LoadBoolean(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x9E87C223)==false))then
call SaveInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x463D6CC2,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),3,0,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call TimerStart(ydl_timer,.02,true,function Trig_Building_then_damageFunc001Func008Func001Func008Func004T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_timer=null
endfunction
function Trig_Building_then_damageFunc001Func010Conditions takes nothing returns nothing
if((GetTriggerUnit()==LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D)))then
if((GetUnitTypeId(GetTriggerUnit())=='h01N'))then
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x9E87C223,false)
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x32A9E4C8))
if((GetTriggerUnit()==GetDyingUnit()))then
call FlushChildHashtable(YDHT,GetHandleId(GetTriggerUnit()))
else
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger()))
call DestroyTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Trig_Building_then_damageFunc002Func001Func004003001 takes nothing returns boolean
return(((GetFilterPlayer()!=GetOwningPlayer(GetTriggerUnit()))and(IsUnitInvisible(GetTriggerUnit(),GetFilterPlayer())==true)))
endfunction
function Trig_Building_then_damageFunc002Func001Func007Func001Func008Func005T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.6))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC),(25.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=15.))then
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Building_then_damageFunc002Func001Func007T takes nothing returns nothing
local timer ydl_timer
if((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))==true)and(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01Q'))then
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,GetRandomInt(-480,1000))
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)*250))
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)>=0))then
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),.0,100,10.,0)
else
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),100.,.0,10.,0)
endif
if((LoadBoolean(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x9E87C223)==false))then
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),3,1,LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x463D6CC2))
call SaveInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x463D6CC2,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),3,0,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call TimerStart(ydl_timer,.02,true,function Trig_Building_then_damageFunc002Func001Func007Func001Func008Func005T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_timer=null
endfunction
function Trig_Building_then_damageFunc002Func001Func009Conditions takes nothing returns nothing
if((GetTriggerUnit()==LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D)))then
if((GetUnitTypeId(GetTriggerUnit())=='h01Q'))then
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x9E87C223,false)
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x32A9E4C8))
if((GetTriggerUnit()==GetDyingUnit()))then
call FlushChildHashtable(YDHT,GetHandleId(GetTriggerUnit()))
else
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger()))
call DestroyTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Trig_Building_then_damageFunc002Func005003001 takes nothing returns boolean
return(((GetFilterPlayer()!=GetOwningPlayer(GetTriggerUnit()))and(IsUnitInvisible(GetTriggerUnit(),GetFilterPlayer())==true)))
endfunction
function Trig_Building_then_damageFunc002Func008Func001Func008Func005T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.6))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC),(25.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=15.))then
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Building_then_damageFunc002Func008T takes nothing returns nothing
local timer ydl_timer
if((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))==true)and(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01P'))then
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,GetRandomInt(-480,1000))
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)*250))
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)>=0))then
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),.0,100,10.,0)
else
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),100.,.0,10.,0)
endif
if((LoadBoolean(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x9E87C223)==false))then
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),3,1,LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x463D6CC2))
call SaveInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x463D6CC2,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),3,0,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call TimerStart(ydl_timer,.02,true,function Trig_Building_then_damageFunc002Func008Func001Func008Func005T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_timer=null
endfunction
function Trig_Building_then_damageFunc002Func010Conditions takes nothing returns nothing
if((GetTriggerUnit()==LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D)))then
if((GetUnitTypeId(GetTriggerUnit())=='h01P'))then
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x9E87C223,false)
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x32A9E4C8))
if((GetTriggerUnit()==GetDyingUnit()))then
call FlushChildHashtable(YDHT,GetHandleId(GetTriggerUnit()))
else
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger()))
call DestroyTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Trig_Building_then_damageFunc003Func004003001 takes nothing returns boolean
return(((GetFilterPlayer()!=GetOwningPlayer(GetTriggerUnit()))and(IsUnitInvisible(GetTriggerUnit(),GetFilterPlayer())==true)))
endfunction
function Trig_Building_then_damageFunc003Func007Func001Func007Func005T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.6))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC),(25.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=15.))then
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Building_then_damageFunc003Func007T takes nothing returns nothing
local timer ydl_timer
if((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))==true)and(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01R'))then
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,GetRandomInt(-10,25))
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)>=0))then
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),.0,100,10.,0)
else
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),100.,.0,10.,0)
endif
if((LoadBoolean(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x8479257C)==false))then
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),2,1,LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0xDF6C8208))
call SaveInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0xDF6C8208,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),2,0,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call TimerStart(ydl_timer,.02,true,function Trig_Building_then_damageFunc003Func007Func001Func007Func005T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_timer=null
endfunction
function Trig_Building_then_damageFunc003Func009Conditions takes nothing returns nothing
if((GetTriggerUnit()==LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D)))then
if((GetUnitTypeId(GetTriggerUnit())=='h01R'))then
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x8479257C,false)
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x32A9E4C8))
if((GetTriggerUnit()==GetDyingUnit()))then
call FlushChildHashtable(YDHT,GetHandleId(GetTriggerUnit()))
else
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger()))
call DestroyTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Trig_Building_then_damageFunc004Func004003001 takes nothing returns boolean
return(((GetFilterPlayer()!=GetOwningPlayer(GetTriggerUnit()))and(IsUnitInvisible(GetTriggerUnit(),GetFilterPlayer())==true)))
endfunction
function Trig_Building_then_damageFunc004Func007Func001Func007Func005T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.6))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC),(25.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=15.))then
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Building_then_damageFunc004Func007T takes nothing returns nothing
local timer ydl_timer
if((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))==true)and(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01T'))then
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,GetRandomInt(-35,70))
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)>=0))then
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),("+"+I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),.0,100,10.,0)
else
call SaveStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC,I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),100.,.0,10.,0)
endif
if((LoadBoolean(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0x8479257C)==false))then
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),2,1,LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0xDF6C8208))
call SaveInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0xDF6C8208,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),2,0,LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetExpiredTimer()),0x8B1FFFFC))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call TimerStart(ydl_timer,.02,true,function Trig_Building_then_damageFunc004Func007Func001Func007Func005T)
call SaveInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2,GetRandomInt(1,4))
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)==1))then
call UnitAddAbility(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A046')
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A046',(GetPlayerTechCountSimple('R00W',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))+1))
else
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)==2))then
call UnitAddAbility(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A045')
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A046',(GetPlayerTechCountSimple('R00W',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))+1))
else
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)==3))then
call UnitAddAbility(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A044')
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x458B7DE9),'A044',(GetPlayerTechCountSimple('R00W',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x458B7DE9)))+1))
else
if((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)==4))then
else
endif
endif
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_timer=null
endfunction
function Trig_Building_then_damageFunc004Func009Conditions takes nothing returns nothing
if((GetTriggerUnit()==LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D)))then
if((GetUnitTypeId(GetTriggerUnit())=='h01T'))then
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x8479257C,false)
else
call DestroyTextTag(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x32A9E4C8))
if((GetTriggerUnit()==GetDyingUnit()))then
call FlushChildHashtable(YDHT,GetHandleId(GetTriggerUnit()))
else
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger()))
call DestroyTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Trig_Building_then_damageActions takes nothing returns nothing
local timer ydl_timer
local trigger ydl_trigger
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetUnitTypeId(GetTriggerUnit())=='h01N'))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,GetTriggerUnit())
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call ShowTextTagForceBJ(false,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),YDWEGetPlayersMatchingNull(Condition(function Trig_Building_then_damageFunc001Func005003001)))
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x9E87C223,true)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveInteger(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,0)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8B1FFFFC))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.1,true,function Trig_Building_then_damageFunc001Func008T)
call SaveTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC,CreateTrigger())
set ydl_trigger=LoadTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_trigger),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_trigger),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_CANCEL)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_Building_then_damageFunc001Func010Conditions))
else
if((GetUnitTypeId(GetTriggerUnit())=='h01O'))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,GetTriggerUnit())
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call ShowTextTagForceBJ(false,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),YDWEGetPlayersMatchingNull(Condition(function Trig_Building_then_damageFunc001Func001Func004003001)))
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x9E87C223,true)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveInteger(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,0)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8B1FFFFC))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.1,true,function Trig_Building_then_damageFunc001Func001Func007T)
call SaveTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC,CreateTrigger())
set ydl_trigger=LoadTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_trigger),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_trigger),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_CANCEL)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_Building_then_damageFunc001Func001Func009Conditions))
else
endif
endif
if((GetUnitTypeId(GetTriggerUnit())=='h01P'))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,GetTriggerUnit())
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call ShowTextTagForceBJ(false,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),YDWEGetPlayersMatchingNull(Condition(function Trig_Building_then_damageFunc002Func005003001)))
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x9E87C223,true)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveInteger(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,0)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8B1FFFFC))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.1,true,function Trig_Building_then_damageFunc002Func008T)
call SaveTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC,CreateTrigger())
set ydl_trigger=LoadTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_trigger),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_trigger),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_CANCEL)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_Building_then_damageFunc002Func010Conditions))
else
if((GetUnitTypeId(GetTriggerUnit())=='h01Q'))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,GetTriggerUnit())
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call ShowTextTagForceBJ(false,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),YDWEGetPlayersMatchingNull(Condition(function Trig_Building_then_damageFunc002Func001Func004003001)))
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x9E87C223,true)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveInteger(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,0)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8B1FFFFC))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.1,true,function Trig_Building_then_damageFunc002Func001Func007T)
call SaveTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC,CreateTrigger())
set ydl_trigger=LoadTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_trigger),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_trigger),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_CANCEL)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_Building_then_damageFunc002Func001Func009Conditions))
else
endif
endif
if((GetUnitTypeId(GetTriggerUnit())=='h01R'))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,GetTriggerUnit())
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call ShowTextTagForceBJ(false,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),YDWEGetPlayersMatchingNull(Condition(function Trig_Building_then_damageFunc003Func004003001)))
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x8479257C,true)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveInteger(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,0)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8B1FFFFC))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.1,true,function Trig_Building_then_damageFunc003Func007T)
call SaveTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC,CreateTrigger())
set ydl_trigger=LoadTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_trigger),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_trigger),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_CANCEL)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_Building_then_damageFunc003Func009Conditions))
else
endif
if((GetUnitTypeId(GetTriggerUnit())=='h01T'))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,GetTriggerUnit())
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call ShowTextTagForceBJ(false,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),YDWEGetPlayersMatchingNull(Condition(function Trig_Building_then_damageFunc004Func004003001)))
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x8479257C,true)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveInteger(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,0)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x458B7DE9,GetTriggerUnit())
call SaveStr(YDHT,GetHandleId(ydl_timer),0x8B1FFFFC,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8B1FFFFC))
call SaveInteger(YDHT,GetHandleId(ydl_timer),0xA3098AE2,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.1,true,function Trig_Building_then_damageFunc004Func007T)
call SaveTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC,CreateTrigger())
set ydl_trigger=LoadTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_trigger),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_trigger),0x32A9E4C8,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_CANCEL)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_Building_then_damageFunc004Func009Conditions))
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
set ydl_trigger=null
endfunction
function InitTrig_Building_then_damage takes nothing returns nothing
set gg_trg_Building_then_damage=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Building_then_damage,EVENT_PLAYER_UNIT_UPGRADE_START)
call TriggerAddAction(gg_trg_Building_then_damage,function Trig_Building_then_damageActions)
endfunction
function Trig_Sunkens_correction_uActions takes nothing returns nothing
if((GetUnitTypeId(GetTriggerUnit())=='h00S'))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A00S',(GetPlayerTechCountSimple('R009',GetOwningPlayer(GetTriggerUnit()))+1))
else
if((GetUnitTypeId(GetTriggerUnit())=='h00V'))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A040',(GetPlayerTechCountSimple('R00D',GetOwningPlayer(GetTriggerUnit()))+1))
call SetUnitAbilityLevel(GetTriggerUnit(),'A041',(GetPlayerTechCountSimple('R00R',GetOwningPlayer(GetTriggerUnit()))+1))
else
if((GetUnitTypeId(GetTriggerUnit())=='h00M'))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A00L',(GetPlayerTechCountSimple('R005',GetOwningPlayer(GetTriggerUnit()))+1))
else
if((GetUnitTypeId(GetTriggerUnit())=='h00U'))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A00U',(GetPlayerTechCountSimple('R00C',GetOwningPlayer(GetTriggerUnit()))+1))
else
if(((GetUnitTypeId(GetTriggerUnit())=='h017')or(GetUnitTypeId(GetTriggerUnit())=='h02K')or(GetUnitTypeId(GetTriggerUnit())=='h02L')or(GetUnitTypeId(GetTriggerUnit())=='h02M')))then
call SetUnitAbilityLevel(GetTriggerUnit(),'ANic',(GetPlayerTechCountSimple('R00H',GetOwningPlayer(GetTriggerUnit()))+1))
else
if(((GetUnitTypeId(GetTriggerUnit())=='h018')or(GetUnitTypeId(GetTriggerUnit())=='h02N')or(GetUnitTypeId(GetTriggerUnit())=='h02O')or(GetUnitTypeId(GetTriggerUnit())=='h02P')))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A01R',(GetPlayerTechCountSimple('R00J',GetOwningPlayer(GetTriggerUnit()))+1))
else
if((GetUnitTypeId(GetTriggerUnit())=='h019'))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A026',(GetPlayerTechCountSimple('R00L',GetOwningPlayer(GetTriggerUnit()))+1))
else
if((GetUnitTypeId(GetTriggerUnit())=='h01B'))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A01W',(GetPlayerTechCountSimple('R00N',GetOwningPlayer(GetTriggerUnit()))+1))
else
if((GetUnitTypeId(GetTriggerUnit())=='h01C'))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A01X',(GetPlayerTechCountSimple('R00O',GetOwningPlayer(GetTriggerUnit()))+1))
else
if((GetUnitTypeId(GetTriggerUnit())=='h00T'))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A02H',(GetPlayerTechCountSimple('R002',GetOwningPlayer(GetTriggerUnit()))+1))
else
if((GetUnitTypeId(GetTriggerUnit())=='h01P'))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A042',(GetPlayerTechCountSimple('R00U',GetOwningPlayer(GetTriggerUnit()))+1))
else
if((GetUnitTypeId(GetTriggerUnit())=='h04M'))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A07M',(GetPlayerTechCountSimple('R00Z',GetOwningPlayer(GetTriggerUnit()))+1))
else
if((GetUnitTypeId(GetTriggerUnit())=='h04N'))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A07N',(GetPlayerTechCountSimple('R010',GetOwningPlayer(GetTriggerUnit()))+1))
else
if(((GetUnitTypeId(GetTriggerUnit())=='h04Y')or(GetUnitTypeId(GetTriggerUnit())=='h04Z')or(GetUnitTypeId(GetTriggerUnit())=='h050')or(GetUnitTypeId(GetTriggerUnit())=='h051')))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A07V',(GetPlayerTechCountSimple('R012',GetOwningPlayer(GetTriggerUnit()))+1))
else
if(((GetUnitTypeId(GetTriggerUnit())=='h052')or(GetUnitTypeId(GetTriggerUnit())=='h053')or(GetUnitTypeId(GetTriggerUnit())=='h054')or(GetUnitTypeId(GetTriggerUnit())=='h055')))then
call SetUnitAbilityLevel(GetTriggerUnit(),'A07W',(GetPlayerTechCountSimple('R013',GetOwningPlayer(GetTriggerUnit()))+1))
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Sunkens_correction_u takes nothing returns nothing
set gg_trg_Sunkens_correction_u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sunkens_correction_u,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddAction(gg_trg_Sunkens_correction_u,function Trig_Sunkens_correction_uActions)
endfunction
function Trig_Games_timing_uActions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AdjustPlayerStateBJ(1,ConvertedPlayer(GetForLoopIndexA()),PLAYER_STATE_RESOURCE_FOOD_CAP)
if((GetPlayerState(ConvertedPlayer(GetForLoopIndexA()),PLAYER_STATE_RESOURCE_FOOD_CAP)==60))then
call AdjustPlayerStateBJ(1,ConvertedPlayer(GetForLoopIndexA()),PLAYER_STATE_RESOURCE_FOOD_USED)
call SetPlayerStateBJ(ConvertedPlayer(GetForLoopIndexA()),PLAYER_STATE_RESOURCE_FOOD_CAP,0)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_Games_timing_u takes nothing returns nothing
set gg_trg_Games_timing_u=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Games_timing_u,1.)
call TriggerAddAction(gg_trg_Games_timing_u,function Trig_Games_timing_uActions)
endfunction
function Trig_Games_endFunc011Func001003002 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true))
endfunction
function Trig_Games_endFunc011Func002A takes nothing returns nothing
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0x49D09E72,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),1)))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0x1342A71F,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),2)))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0x32773B55,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),3)))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0xDEBCC10D,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),4)))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0x288795CB,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),5)))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0xDF58315A,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),6)))
endfunction
function Trig_Games_endFunc011A takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9E80183F,YDWEGetUnitsOfPlayerMatchingNull(GetEnumPlayer(),Condition(function Trig_Games_endFunc011Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9E80183F),function Trig_Games_endFunc011Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9E80183F))
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Games_endFunc012Func001003002 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_Games_endFunc012Func002A takes nothing returns nothing
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0x79DCDAFE,GetHeroLevel(GetEnumUnit()))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0x49D09E72,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),1)))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0x1342A71F,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),2)))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0x32773B55,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),3)))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0xDEBCC10D,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),4)))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0x288795CB,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),5)))
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetEnumUnit())),0xDF58315A,GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),6)))
endfunction
function Trig_Games_endFunc012A takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9E80183F,YDWEGetUnitsOfPlayerMatchingNull(GetEnumPlayer(),Condition(function Trig_Games_endFunc012Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9E80183F),function Trig_Games_endFunc012Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9E80183F))
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Games_endFunc014003002 takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))
endfunction
function Trig_Games_endFunc015A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_Games_endFunc018A takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function Trig_Games_endFunc024T takes nothing returns nothing
call CameraSetupApplyForceDuration(gg_cam_Camera_003,true,0)
endfunction
function Trig_Games_endActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call FogEnable(true)
call FogMaskEnable(true)
call DisableTrigger(gg_trg_Zombi_death)
call DisableTrigger(gg_trg_Human_death)
call DisableTrigger(gg_trg_Human_win_1)
call DisableTrigger(gg_trg_Human_win_2)
call DisableTrigger(gg_trg_Zombi_win)
call DisableTrigger(gg_trg_Items_function_a)
call DisableTrigger(gg_trg_players_exit1)
call EnableTrigger(gg_trg_players_exit2)
call ForForce(udg_group_of_players[1],function Trig_Games_endFunc011A)
call ForForce(udg_group_of_players[0],function Trig_Games_endFunc012A)
call YDWEPolledWaitNull(.5)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9E80183F,YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect(),Condition(function Trig_Games_endFunc014003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9E80183F),function Trig_Games_endFunc015A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9E80183F))
call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN,.5,"ReplaceableTextures\\CameraMasks\\DreamFilter_Mask.blp",0,0,0,0)
call EnumItemsInRectBJ(GetPlayableMapRect(),function Trig_Games_endFunc018A)
set udg_Number[0]=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SetFogStateRect(ConvertedPlayer(GetForLoopIndexA()),FOG_OF_WAR_MASKED,GetPlayableMapRect(),true)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=12
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexB()),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexB()),ConvertedPlayer(GetForLoopIndexA()),bj_ALLIANCE_ALLIED)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetPlayerAllianceStateBJ(ConvertedPlayer(GetForLoopIndexB()),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_PASSIVE),ConvertedPlayer(GetForLoopIndexB()),bj_ALLIANCE_UNALLIED)
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexB()),0,0,"游戏结束，进入游戏结算...\n请勿退出游戏，等待保存信息...")
call CreateFogModifierRectBJ(true,ConvertedPlayer(GetForLoopIndexB()),FOG_OF_WAR_VISIBLE,gg_rct______________000)
call SaveInteger(YDHT,GetHandleId(ConvertedPlayer(GetForLoopIndexB())),0x6DEEAE1F,GetPlayerState(ConvertedPlayer(GetForLoopIndexB()),PLAYER_STATE_RESOURCE_FOOD_CAP))
call SaveInteger(YDHT,GetHandleId(ConvertedPlayer(GetForLoopIndexB())),0x56BEADF5,GetPlayerState(ConvertedPlayer(GetForLoopIndexB()),PLAYER_STATE_RESOURCE_FOOD_USED))
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
call YDWEPolledWaitNull(.25)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call TimerStart(ydl_timer,.02,true,function Trig_Games_endFunc024T)
call DisableTrigger(gg_trg_Ashenvale_wav_1)
call DisableTrigger(gg_trg_Ashenvale_wav_2)
call StopSoundBJ(gg_snd_Zombi_Ambience,true)
call PlaySoundBJ(gg_snd_GameFound)
call TriggerExecute(gg_trg_Games_settle_accounts)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
set ydl_timer=null
endfunction
function InitTrig_Games_end takes nothing returns nothing
set gg_trg_Games_end=CreateTrigger()
call TriggerAddAction(gg_trg_Games_end,function Trig_Games_endActions)
endfunction
function Trig_Games_settle_accountsActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(0))!=PLAYER_SLOT_STATE_EMPTY)and(LoadBoolean(YDHT,GetHandleId(Player(0)),0x602978BD)!=true))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0055))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(0)),0x62274AD0),Player(0),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(0)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(0)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(0)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(0)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(0)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(0)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(0))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(0)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("玩家名字："+LoadStr(YDHT,GetHandleId(Player(0)),0xBBAEF8F3)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),250.,10.,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(0))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100.,0)
endif
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(0)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(0)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(0)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(0)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(0)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(0)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(0)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(0)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(0)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(0)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(0)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(0)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(0))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(0)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(0)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(0)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(0)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(0)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(0)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(0)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(0)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(0)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(0)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(0)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(0)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,10.,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(0)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(0)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(0)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(0))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(0)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(0)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(0))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(0))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(1))!=PLAYER_SLOT_STATE_EMPTY))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0057))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(1)),0x62274AD0),Player(1),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(1)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(1)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(1)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(1)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(1)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(1)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(1))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(1)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("玩家名字："+LoadStr(YDHT,GetHandleId(Player(1)),0xBBAEF8F3)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),250.,12.5,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(1))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,12.5,100,100,100,0)
endif
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(1)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(1)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(1)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(1)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(1)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(1)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(1)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(1)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(1)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(1)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(1)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(1)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(1))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(1)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(1)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(1)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(1)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(1)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(1)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(1)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(1)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(1)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(1)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(1)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(1)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,12.5,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(1)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(1)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(1)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(1))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(1)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(1)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(1))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(1))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(2))!=PLAYER_SLOT_STATE_EMPTY))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0059))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(2)),0x62274AD0),Player(2),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(2)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(2)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(2)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(2)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(2)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(2)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(2))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(2)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("玩家名字："+LoadStr(YDHT,GetHandleId(Player(2)),0xBBAEF8F3)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),250.,10.,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(2))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
endif
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(2)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(2)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(2)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(2)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(2)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(2)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(2)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(2)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(2)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(2)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(2)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(2)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(2))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(2)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(2)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(2)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(2)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(2)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(2)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(2)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(2)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(2)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(2)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(2)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(2)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,10.,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(2)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(2)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(2)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(2))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(2)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(2)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(2))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(2))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(3))!=PLAYER_SLOT_STATE_EMPTY))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0061))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(3)),0x62274AD0),Player(3),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(3)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(3)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(3)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(3)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(3)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(3)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(3))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(3)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("玩家名字："+LoadStr(YDHT,GetHandleId(Player(3)),0xBBAEF8F3)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),250.,10,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(3))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
endif
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(3)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(3)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(3)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(3)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(3)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(2)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(2)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(3)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(3)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(3)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(3)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(3)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,10.,100,100,100,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(2))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(3)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(3)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(3)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(3)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(3)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(3)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(3)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(3)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(3)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(3)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(3)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(3)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,10.,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(3)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(3)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(3)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(3))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(3)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(3)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(3))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(3))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(4))!=PLAYER_SLOT_STATE_EMPTY))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0063))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(4)),0x62274AD0),Player(4),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(4)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(4)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(4)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(4)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(4)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(4)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(4))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(4)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("玩家名字："+LoadStr(YDHT,GetHandleId(Player(4)),0xBBAEF8F3)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),250.,10.,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(4))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
endif
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(4)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(4)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(4)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(4)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(4)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(4)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(4)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(4)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(4)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(4)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100.,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(4)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(4)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100.,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(4))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(4)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(4)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(4)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(4)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(4)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(4)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(4)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(4)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(4)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(4)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(4)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(4)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,12.5,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(4)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(4)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(4)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(4))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(4)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(4)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(4))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(4))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(5))!=PLAYER_SLOT_STATE_EMPTY))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0065))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(5)),0x62274AD0),Player(5),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(5)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(5)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(5)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(5)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(5)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(5)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(5))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(5)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(5)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(5))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
endif
call CreateTextTagLocBJ(("死亡次数："+LoadStr(YDHT,GetHandleId(Player(5)),0x9B5D2FB9)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(5)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(5)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(5)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(5)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(5)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(5)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(5)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(5)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(5)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(5)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(5)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100.,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(5))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(5)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(5)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(5)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(5)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(5)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(5)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(5)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(5)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(5)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(5)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(5)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(5)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,12.5,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(5)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(5)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(5)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(5))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(5)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(5)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(5))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(5))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(6))!=PLAYER_SLOT_STATE_EMPTY))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0067))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(6)),0x62274AD0),Player(6),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(6)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(6)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(6)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(6)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(6)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(6)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(6))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(6)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("玩家名字："+LoadStr(YDHT,GetHandleId(Player(6)),0xBBAEF8F3)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),250.,10.,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(6))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
endif
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(6)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100.,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(6))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(6)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(6)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(6)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(6)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(6)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(6)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(6)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(6)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,12.5,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(6)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(6)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(6)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(6))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(6)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(6)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(6))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(6))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(7))!=PLAYER_SLOT_STATE_EMPTY))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0069))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(7)),0x62274AD0),Player(7),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(7)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(7)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(7)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(7)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(7)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(7)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(7))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(7)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("玩家名字："+LoadStr(YDHT,GetHandleId(Player(7)),0xBBAEF8F3)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),250.,10.,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(7))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
endif
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(7)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(7)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(7)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(7)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(7)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(7)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(7)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(6)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100.,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(7))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(7)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(7)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(7)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(7)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(7)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(7)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(7)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(7)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(7)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(7)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(7)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(7)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,12.5,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(7)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(7)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(7)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(7))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(7)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(7)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(7))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(7))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(8))!=PLAYER_SLOT_STATE_EMPTY))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0064))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(8)),0x62274AD0),Player(8),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(8)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(8)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(8)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(8)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(8)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(8)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(8))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(8)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("玩家名字："+LoadStr(YDHT,GetHandleId(Player(8)),0xBBAEF8F3)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),250.,10.,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(8))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
endif
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(8)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(8)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(8)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(8)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(8)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(8)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(8)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(8)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(8)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(8)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(8)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(8)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100.,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(8))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(8)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(8)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(8)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(8)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(8)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(8)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(8)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(8)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(8)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(8)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(8)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(8)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,12.5,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(8)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(8)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(8)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(8))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(8)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(8)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(8))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(8))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(9))!=PLAYER_SLOT_STATE_EMPTY))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0056))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(9)),0x62274AD0),Player(9),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(9)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(9)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(9)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(9)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(9)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(9)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(9))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(9)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("玩家名字："+LoadStr(YDHT,GetHandleId(Player(9)),0xBBAEF8F3)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),250.,10.,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(9))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
endif
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(9)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(9)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(9)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(9)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(9)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(9)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(9)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(9)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(9)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(9)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(9)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(9)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100.,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(9))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(9)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(9)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(9)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(9)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(9)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(9)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(9)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(9)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(9)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(9)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(9)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(9)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,12.5,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(9)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(9)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(9)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(9))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(9)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(9)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(9))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(9))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(10))!=PLAYER_SLOT_STATE_EMPTY))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0066))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(10)),0x62274AD0),Player(10),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(10)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(10)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(10)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(10)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(10)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(10)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(10))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(10)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("玩家名字："+LoadStr(YDHT,GetHandleId(Player(10)),0xBBAEF8F3)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),250.,10.,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(10))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
endif
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(10)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(10)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(10)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(10)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(10)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(10)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(10)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(10)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(10)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(10)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(10)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(10)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100.,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(10))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(10)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(10)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(10)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(10)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(10)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(10)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(10)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(10)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(10)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(10)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(10)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(10)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,12.5,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(10)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(10)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(10)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(10))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(10)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(10)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(10))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(10))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetPlayerSlotState(Player(11))!=PLAYER_SLOT_STATE_EMPTY))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(gg_unit_h000_0058))
call CreateNUnitsAtLoc(1,LoadInteger(YDHT,GetHandleId(Player(11)),0x62274AD0),Player(11),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),270.)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(11)),0x49D09E72),0)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(11)),0x1342A71F),1)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(11)),0x32773B55),2)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(11)),0xDEBCC10D),3)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(11)),0x288795CB),4)
call UnitAddItemToSlotById(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(11)),0xDF58315A),5)
if((udg_Number[GetConvertedPlayerId(Player(11))]==1))then
call SetHeroLevelBJ(bj_lastCreatedUnit,LoadInteger(YDHT,GetHandleId(Player(11)),0x79DCDAFE),false)
else
endif
call PauseUnitBJ(true,bj_lastCreatedUnit)
call CreateTextTagLocBJ(("玩家名字："+LoadStr(YDHT,GetHandleId(Player(11)),0xBBAEF8F3)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),250.,10.,100,100,100,0)
if((udg_Number[GetConvertedPlayerId(Player(11))]==1))then
call CreateTextTagLocBJ("玩家阵营：僵尸",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
else
call CreateTextTagLocBJ("玩家阵营：人类",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),175.,10.,100,100,100,0)
endif
call CreateTextTagLocBJ(("死亡次数："+I2S(LoadInteger(YDHT,GetHandleId(Player(11)),0x9B5D2FB9))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),100.,12.5,100,100,100,0)
if((LoadInteger(YDHT,GetHandleId(Player(11)),0x56BEADF5)>=10))then
if((LoadInteger(YDHT,GetHandleId(Player(11)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(11)),0x56BEADF5))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(11)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((I2S(LoadInteger(YDHT,GetHandleId(Player(11)),0x56BEADF5))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(11)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
endif
else
if((LoadInteger(YDHT,GetHandleId(Player(11)),0x6DEEAE1F)>=10))then
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(11)),0x56BEADF5)))+"：")+I2S(LoadInteger(YDHT,GetHandleId(Player(11)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100,0)
else
call CreateTextTagLocBJ(("游戏时间："+((("0"+I2S(LoadInteger(YDHT,GetHandleId(Player(11)),0x56BEADF5)))+"：0")+I2S(LoadInteger(YDHT,GetHandleId(Player(11)),0x6DEEAE1F)))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),25.,12.5,100,100,100.,0)
endif
endif
if((udg_Number[GetConvertedPlayerId(Player(11))]==1))then
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(11)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(11)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(11)),0xF034EC60))+5))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(11)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(11)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(11)),0xF034EC60))+0))
endif
else
if((udg_winner==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(11)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(11)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(11)),0xF034EC60))+0))
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((((((LoadInteger(YDHT,GetHandleId(Player(11)),0x56BEADF5)*60)+LoadInteger(YDHT,GetHandleId(Player(11)),0x6DEEAE1F))/1000)+0)+LoadInteger(YDHT,GetHandleId(Player(11)),0xF034EC60))+5))
endif
endif
call CreateTextTagLocBJ(("获得Ep："+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),-50.,12.5,100,100,100,0)
call SaveInteger(YDHT,GetHandleId(Player(11)),0x84056CE3,(LoadInteger(YDHT,GetHandleId(Player(11)),0x84056CE3)+LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
if((LoadInteger(YDHT,GetHandleId(Player(11)),0x84056CE3)>=udg_leve[udg_achievement_players[GetConvertedPlayerId(Player(11))]]))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if((LoadInteger(YDHT,GetHandleId(Player(11)),0x84056CE3)>=udg_leve[GetForLoopIndexA()]))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetForLoopIndexA())
else
call DoNothing()
exitwhen true
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,("恭喜"+((LoadStr(YDHT,GetHandleId(Player(11)),0xBBAEF8F3)+("  从  "+(udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(Player(11))]-1)]+("  晋升为  "+(udg_achievement_yanse[LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)]+"  ！！！")))))+"")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_achievement_players[GetConvertedPlayerId(Player(11))]=(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
else
endif
call CreateNUnitsAtLoc(1,'ncop',Player(0),GetUnitLoc(gg_unit_h000_0055),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0055)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0055)))
call CreateNUnitsAtLoc(1,'ncop',Player(1),GetUnitLoc(gg_unit_h000_0057),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0057)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0057)))
call CreateNUnitsAtLoc(1,'ncop',Player(2),GetUnitLoc(gg_unit_h000_0059),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0059)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0059)))
call CreateNUnitsAtLoc(1,'ncop',Player(3),GetUnitLoc(gg_unit_h000_0061),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0061)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0061)))
call CreateNUnitsAtLoc(1,'ncop',Player(4),GetUnitLoc(gg_unit_h000_0063),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0063)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0063)))
call CreateNUnitsAtLoc(1,'ncop',Player(5),GetUnitLoc(gg_unit_h000_0065),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0065)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0065)))
call CreateNUnitsAtLoc(1,'ncop',Player(6),GetUnitLoc(gg_unit_h000_0067),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0067)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0067)))
call CreateNUnitsAtLoc(1,'ncop',Player(7),GetUnitLoc(gg_unit_h000_0069),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0069)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0069)))
call CreateNUnitsAtLoc(1,'ncop',Player(8),GetUnitLoc(gg_unit_h000_0064),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0064)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0064)))
call CreateNUnitsAtLoc(1,'ncop',Player(9),GetUnitLoc(gg_unit_h000_0056),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0056)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0056)))
call CreateNUnitsAtLoc(1,'ncop',Player(10),GetUnitLoc(gg_unit_h000_0066),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0066)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0066)))
call CreateNUnitsAtLoc(1,'ncop',Player(11),GetUnitLoc(gg_unit_h000_0058),bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitLoc(gg_unit_h000_0058)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",GetUnitLoc(gg_unit_h000_0058)))
call PlaySoundBJ(gg_snd_cso_result)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Games_settle_accounts takes nothing returns nothing
set gg_trg_Games_settle_accounts=CreateTrigger()
call TriggerAddAction(gg_trg_Games_settle_accounts,function Trig_Games_settle_accountsActions)
endfunction
function Trig_article_1Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((LoadBoolean(YDHT,GetItemTypeId(GetManipulatedItem()),0xAC97B664)==false))then
else
if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)!=true)and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==0))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetItemLoc(GetManipulatedItem()))
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"UI\\Feedback\\GoldCredit\\GoldCredit.mdl")
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call AddSpecialEffectLocBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call CreateTextTagUnitBJ(("+"+I2S(R2I(GetItemLifeBJ(GetManipulatedItem())))),GetTriggerUnit(),0,10.,100.,86.,.0,0)
call YDWETimerDestroyTextTag(2.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),60.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ(R2I(GetItemLifeBJ(GetManipulatedItem())),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call RemoveItem(GetManipulatedItem())
else
endif
endif
if(((LoadBoolean(YDHT,GetItemTypeId(GetManipulatedItem()),0xAC97B664)==true)or(LoadBoolean(YDHT,GetItemTypeId(GetManipulatedItem()),0xF98FE75E)==true)))then
else
if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true)and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetItemLoc(GetManipulatedItem()))
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"UI\\Feedback\\GoldCredit\\GoldCredit.mdl")
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call AddSpecialEffectLocBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call CreateTextTagUnitBJ(("+"+I2S(R2I(GetItemLifeBJ(GetManipulatedItem())))),GetTriggerUnit(),0,10.,100.,86.,.0,0)
call YDWETimerDestroyTextTag(2.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),60.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ(R2I(GetItemLifeBJ(GetManipulatedItem())),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call RemoveItem(GetManipulatedItem())
else
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_article_1 takes nothing returns nothing
set gg_trg_article_1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_article_1,function Trig_article_1Actions)
endfunction
function Trig_article_2Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==1)and(IsUnitType(GetBuyingUnit(),UNIT_TYPE_HERO)==true)and(GetSellingUnit()==gg_unit_n000_0053))
endfunction
function Trig_article_2Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetItemTypeId(GetSoldItem())=='I00N'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I00O')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I00O'))
call UnitAddItemByIdSwapped('I00P',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I00P')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I00P'))
call UnitAddItemByIdSwapped('I00Q',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I00Q')==true))then
call AdjustPlayerStateBJ(800,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000已升至满级，无法继续升级...")
else
call UnitAddItemByIdSwapped('I00O',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endif
endif
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I00R'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I00S')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I00S'))
call UnitAddItemByIdSwapped('I00T',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I00T')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I00T'))
call UnitAddItemByIdSwapped('I00U',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I00U')==true))then
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000已升至满级，无法继续升级...")
call AdjustPlayerStateBJ(850,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call UnitAddItemByIdSwapped('I00S',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endif
endif
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I00V'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I00W')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I00W'))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D)),0x22709997))
call RemoveItem(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D))
call UnitAddItemByIdSwapped('I00X',GetBuyingUnit())
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,bj_lastCreatedItem)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB)),0x22709997,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I00X')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I00X'))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D)),0x22709997))
call RemoveItem(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D))
call UnitAddItemByIdSwapped('I00Y',GetBuyingUnit())
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,bj_lastCreatedItem)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB)),0x22709997,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I00Y')==true))then
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000已升至满级，无法继续升级...")
call AdjustPlayerStateBJ(1000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call UnitAddItemByIdSwapped('I00W',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endif
endif
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I00Z'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I011')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I011'))
call UnitAddItemByIdSwapped('I012',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I012')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I012'))
call UnitAddItemByIdSwapped('I010',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I010')==true))then
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000已升至满级，无法继续升级...")
call AdjustPlayerStateBJ(4000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call UnitAddItemByIdSwapped('I011',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endif
endif
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I013'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I014')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I014'))
call UnitAddItemByIdSwapped('I015',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I015')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I015'))
call UnitAddItemByIdSwapped('I016',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I016')==true))then
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000已升至满级，无法继续升级...")
call AdjustPlayerStateBJ(1200,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call UnitAddItemByIdSwapped('I014',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endif
endif
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I017'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I018')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I018'))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D)),0x22709997))
call RemoveItem(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D))
call UnitAddItemByIdSwapped('I019',GetBuyingUnit())
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,bj_lastCreatedItem)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB)),0x22709997,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I019')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I019'))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D)),0x22709997))
call RemoveItem(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D))
call UnitAddItemByIdSwapped('I01A',GetBuyingUnit())
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,bj_lastCreatedItem)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB)),0x22709997,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I01A')==true))then
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000已升至满级，无法继续升级...")
call AdjustPlayerStateBJ(2000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call UnitAddItemByIdSwapped('I018',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endif
endif
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I01B'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I01C')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I01C'))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D)),0x22709997))
call RemoveItem(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D))
call UnitAddItemByIdSwapped('I01D',GetBuyingUnit())
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,bj_lastCreatedItem)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB)),0x22709997,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I01D')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I01D'))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D)),0x22709997))
call RemoveItem(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D))
call UnitAddItemByIdSwapped('I01E',GetBuyingUnit())
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,bj_lastCreatedItem)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB)),0x22709997,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I01E')==true))then
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000已升至满级，无法继续升级...")
call AdjustPlayerStateBJ(1000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call UnitAddItemByIdSwapped('I01C',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endif
endif
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I027'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I028')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I028'))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D)),0x22709997))
call RemoveItem(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D))
call UnitAddItemByIdSwapped('I029',GetBuyingUnit())
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,bj_lastCreatedItem)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB)),0x22709997,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I029')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I029'))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D)),0x22709997))
call RemoveItem(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D))
call UnitAddItemByIdSwapped('I02A',GetBuyingUnit())
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,bj_lastCreatedItem)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB)),0x22709997,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I02A')==true))then
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000已升至满级，无法继续升级...")
call AdjustPlayerStateBJ(1300,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call UnitAddItemByIdSwapped('I028',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endif
endif
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I046'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I048')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I048'))
call UnitAddItemByIdSwapped('I049',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I049')==true))then
call SaveInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetBuyingUnit()),0x75086163)-1))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I049'))
call UnitAddItemByIdSwapped('I047',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I047')==true))then
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000已升至满级，无法继续升级...")
call AdjustPlayerStateBJ(2500,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call UnitAddItemByIdSwapped('I048',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endif
endif
endif
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_article_2 takes nothing returns nothing
set gg_trg_article_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_2,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg_article_2,Condition(function Trig_article_2Conditions))
call TriggerAddAction(gg_trg_article_2,function Trig_article_2Actions)
endfunction
function Trig_article_3Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true)and((GetItemUserData(GetManipulatedItem())==GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit())))or(GetItemUserData(GetManipulatedItem())==0)))
endfunction
function Trig_article_3Func005Func002Func001Func002Func005Func003T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)-.5))
if(((LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)==null)or(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)<=.0)))then
call SetItemDroppable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SetItemPawnable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_3Func005Func002Func002Func001Func002Func005Func003T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)-.5))
if(((LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)==null)or(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)<=.0)))then
call SetItemDroppable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SetItemPawnable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_3Func008Func002Func001Func002Func005Func003T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)-.5))
if(((LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)==null)or(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)<=.0)))then
call SetItemDroppable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SetItemPawnable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_3Func008Func002Func003Func001Func002Func005Func003T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)-.5))
if(((LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)==null)or(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)<=.0)))then
call SetItemDroppable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SetItemPawnable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_3Func009Func002Func001Func002Func007Func003T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)-.5))
if(((LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)==null)or(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)<=.0)))then
call SetItemDroppable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SetItemPawnable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_3Func009Func002Func003Func001Func002Func007Func003T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)-.5))
if(((LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)==null)or(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)<=.0)))then
call SetItemDroppable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SetItemPawnable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_3Func010Func002Func001Func002Func006Func003T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)-.5))
if(((LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)==null)or(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)<=.0)))then
call SetItemDroppable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SetItemPawnable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_3Func010Func002Func003Func001Func002Func006Func003T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)-.5))
if(((LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)==null)or(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)<=.0)))then
call SetItemDroppable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SetItemPawnable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_3Actions takes nothing returns nothing
local integer ydul_c
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997)>.0))then
call SetItemDroppable(GetManipulatedItem(),false)
call SetItemPawnable(GetManipulatedItem(),false)
else
endif
if((GetItemTypeId(GetManipulatedItem())=='I00O'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00O')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00P')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00Q')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01G')
call UnitAddAbility(GetTriggerUnit(),'A01G')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00O')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00P')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00Q')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01G')
call UnitAddAbility(GetTriggerUnit(),'A01G')
call SetUnitAbilityLevel(GetTriggerUnit(),'A01G',2)
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I00Q'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00O')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00P')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00Q')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01G')
call UnitAddAbility(GetTriggerUnit(),'A01G')
call SetUnitAbilityLevel(GetTriggerUnit(),'A01G',3)
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
endif
endif
endif
if((GetItemTypeId(GetManipulatedItem())=='I00S'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00S')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00T')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00U')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01H')
call UnitAddAbility(GetTriggerUnit(),'A01H')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I00T'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00S')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00T')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00U')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01H')
call UnitAddAbility(GetTriggerUnit(),'A01H')
call SetUnitAbilityLevel(GetTriggerUnit(),'A01H',2)
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I00U'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00S')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00T')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00U')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01H')
call UnitAddAbility(GetTriggerUnit(),'A01H')
call SetUnitAbilityLevel(GetTriggerUnit(),'A01H',3)
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
endif
endif
endif
if((GetItemTypeId(GetManipulatedItem())=='I00W'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00W')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00X')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00Y')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A02I')
call UnitAddAbility(GetTriggerUnit(),'A02I')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I00X'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00W')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00X')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00Y')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A02I')
call UnitAddAbility(GetTriggerUnit(),'A02I')
call SetUnitAbilityLevel(GetTriggerUnit(),'A02I',2)
if((LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997)>.0))then
call YDWESetUnitAbilityState(GetManipulatingUnit(),'A02I',1,LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997))
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetManipulatingUnit())
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,GetManipulatedItem())
call TimerStart(ydl_timer,.5,true,function Trig_article_3Func005Func002Func001Func002Func005Func003T)
else
endif
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I00Y'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00W')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00X')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I00Y')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A02I')
call UnitAddAbility(GetTriggerUnit(),'A02I')
call SetUnitAbilityLevel(GetTriggerUnit(),'A02I',3)
if((LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997)>.0))then
call YDWESetUnitAbilityState(GetManipulatingUnit(),'A02I',1,LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997))
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetManipulatingUnit())
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,GetManipulatedItem())
call TimerStart(ydl_timer,.5,true,function Trig_article_3Func005Func002Func002Func001Func002Func005Func003T)
else
endif
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
endif
endif
endif
if((GetItemTypeId(GetManipulatedItem())=='I011'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I011')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I012')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I010')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01J')
call UnitAddAbility(GetTriggerUnit(),'A01J')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I012'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I011')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I012')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I010')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01J')
call UnitAddAbility(GetTriggerUnit(),'A01J')
call SetUnitAbilityLevel(GetTriggerUnit(),'A01J',2)
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I010'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I011')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I012')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I010')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01J')
call UnitAddAbility(GetTriggerUnit(),'A01J')
call SetUnitAbilityLevel(GetTriggerUnit(),'A01J',3)
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
endif
endif
endif
if((GetItemTypeId(GetManipulatedItem())=='I014'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I014')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I015')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I016')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A00K')
call UnitRemoveAbility(GetTriggerUnit(),'A01K')
call UnitRemoveAbility(GetTriggerUnit(),'A03N')
call UnitAddAbility(GetTriggerUnit(),'A00K')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I015'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I014')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I015')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I016')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A00K')
call UnitRemoveAbility(GetTriggerUnit(),'A01K')
call UnitRemoveAbility(GetTriggerUnit(),'A03N')
call UnitAddAbility(GetTriggerUnit(),'A01K')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I016'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I014')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I015')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I016')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A00K')
call UnitRemoveAbility(GetTriggerUnit(),'A01K')
call UnitRemoveAbility(GetTriggerUnit(),'A03N')
call UnitAddAbility(GetTriggerUnit(),'A03N')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
endif
endif
endif
if((GetItemTypeId(GetManipulatedItem())=='I018'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I018')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I019')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01A')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01L')
call UnitAddAbility(GetTriggerUnit(),'A01L')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I019'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I018')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I019')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01A')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01L')
call UnitAddAbility(GetTriggerUnit(),'A01L')
call SetUnitAbilityLevel(GetTriggerUnit(),'A01L',2)
if((LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997)>.0))then
call YDWESetUnitAbilityState(GetManipulatingUnit(),'A01L',1,LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997))
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetManipulatingUnit())
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,GetManipulatedItem())
call TimerStart(ydl_timer,.5,true,function Trig_article_3Func008Func002Func001Func002Func005Func003T)
else
endif
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I01A'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I018')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I019')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01A')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01L')
call UnitAddAbility(GetTriggerUnit(),'A01L')
call SetUnitAbilityLevel(GetTriggerUnit(),'A01L',3)
if((LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997)>.0))then
call YDWESetUnitAbilityState(GetManipulatingUnit(),'A01L',1,LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997))
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetManipulatingUnit())
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,GetManipulatedItem())
call TimerStart(ydl_timer,.5,true,function Trig_article_3Func008Func002Func003Func001Func002Func005Func003T)
else
endif
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call RemoveItem(GetManipulatedItem())
endif
else
endif
endif
endif
if((GetItemTypeId(GetManipulatedItem())=='I01C'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01C')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01D')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01E')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01O')
call UnitAddAbility(GetTriggerUnit(),'A01O')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I01D'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01C')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01D')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01E')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01O')
call UnitAddAbility(GetTriggerUnit(),'A01O')
call SetUnitAbilityLevel(GetTriggerUnit(),'A01O',2)
call SetUnitAbilityLevel(GetTriggerUnit(),'A01P',2)
call SetUnitAbilityLevel(GetTriggerUnit(),'A01M',2)
if((LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997)>.0))then
call YDWESetUnitAbilityState(GetManipulatingUnit(),'A01O',1,LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997))
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetManipulatingUnit())
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,GetManipulatedItem())
call TimerStart(ydl_timer,.5,true,function Trig_article_3Func009Func002Func001Func002Func007Func003T)
else
endif
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I01E'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01C')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01D')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I01E')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A01O')
call UnitAddAbility(GetTriggerUnit(),'A01O')
call SetUnitAbilityLevel(GetTriggerUnit(),'A01O',3)
call SetUnitAbilityLevel(GetTriggerUnit(),'A01P',3)
call SetUnitAbilityLevel(GetTriggerUnit(),'A01M',3)
if((LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997)>.0))then
call YDWESetUnitAbilityState(GetManipulatingUnit(),'A01O',1,LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997))
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetManipulatingUnit())
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,GetManipulatedItem())
call TimerStart(ydl_timer,.5,true,function Trig_article_3Func009Func002Func003Func001Func002Func007Func003T)
else
endif
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call RemoveItem(GetManipulatedItem())
endif
else
endif
endif
endif
if((GetItemTypeId(GetManipulatedItem())=='I028'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I028')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I029')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I02A')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A03G')
call UnitAddAbility(GetTriggerUnit(),'A03G')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I029'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I028')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I029')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I02A')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A03G')
call UnitAddAbility(GetTriggerUnit(),'A03G')
call UnitAddAbility(GetTriggerUnit(),'A03G')
call SetUnitAbilityLevel(GetTriggerUnit(),'A03G',2)
if((LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997)>.0))then
call YDWESetUnitAbilityState(GetManipulatingUnit(),'A03G',1,LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997))
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetManipulatingUnit())
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,GetManipulatedItem())
call TimerStart(ydl_timer,.5,true,function Trig_article_3Func010Func002Func001Func002Func006Func003T)
else
endif
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I02A'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I028')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I029')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I02A')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A03G')
call UnitAddAbility(GetTriggerUnit(),'A03G')
call UnitAddAbility(GetTriggerUnit(),'A03G')
call SetUnitAbilityLevel(GetTriggerUnit(),'A03G',3)
if((LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997)>.0))then
call YDWESetUnitAbilityState(GetManipulatingUnit(),'A03G',1,LoadReal(YDHT,GetHandleId(GetManipulatedItem()),0x22709997))
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetManipulatingUnit())
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,GetManipulatedItem())
call TimerStart(ydl_timer,.5,true,function Trig_article_3Func010Func002Func003Func001Func002Func006Func003T)
else
endif
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call RemoveItem(GetManipulatedItem())
endif
else
endif
endif
endif
if((GetItemTypeId(GetManipulatedItem())=='I048'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I048')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I049')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I047')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A066')
call UnitAddAbility(GetTriggerUnit(),'A066')
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I049'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I048')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I049')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I047')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A066')
call UnitAddAbility(GetTriggerUnit(),'A066')
call SetUnitAbilityLevel(GetTriggerUnit(),'A066',2)
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call RemoveItem(GetManipulatedItem())
endif
else
if((GetItemTypeId(GetManipulatedItem())=='I047'))then
if((LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)<=5))then
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_c)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I048')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I049')or(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_c))=='I047')))then
call SaveBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C,true)
else
endif
set ydul_c=ydul_c+1
endloop
if((LoadBoolean(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xFF07182C)==false))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)+1))
call UnitRemoveAbility(GetTriggerUnit(),'A066')
call UnitAddAbility(GetTriggerUnit(),'A066')
call SetUnitAbilityLevel(GetTriggerUnit(),'A066',3)
else
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000技能槽已满，无法继续学习技能...")
call CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call RemoveItem(GetManipulatedItem())
endif
else
endif
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_article_3 takes nothing returns nothing
set gg_trg_article_3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_article_3,Condition(function Trig_article_3Conditions))
call TriggerAddAction(gg_trg_article_3,function Trig_article_3Actions)
endfunction
function Trig_article_4Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_article_4Actions takes nothing returns nothing
if(((GetItemTypeId(GetManipulatedItem())=='I00O')or(GetItemTypeId(GetManipulatedItem())=='I00P')or(GetItemTypeId(GetManipulatedItem())=='I00Q')or(GetItemTypeId(GetSoldItem())=='I00O')or(GetItemTypeId(GetSoldItem())=='I00P')or(GetItemTypeId(GetSoldItem())=='I00Q')))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)-1))
call UnitRemoveAbility(GetTriggerUnit(),'A01G')
else
endif
if(((GetItemTypeId(GetManipulatedItem())=='I00S')or(GetItemTypeId(GetManipulatedItem())=='I00T')or(GetItemTypeId(GetManipulatedItem())=='I00U')or(GetItemTypeId(GetSoldItem())=='I00S')or(GetItemTypeId(GetSoldItem())=='I00T')or(GetItemTypeId(GetSoldItem())=='I00U')))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)-1))
call UnitRemoveAbility(GetTriggerUnit(),'A01H')
else
endif
if(((GetItemTypeId(GetManipulatedItem())=='I00W')or(GetItemTypeId(GetManipulatedItem())=='I00X')or(GetItemTypeId(GetManipulatedItem())=='I00Y')or(GetItemTypeId(GetSoldItem())=='I00W')or(GetItemTypeId(GetSoldItem())=='I00X')or(GetItemTypeId(GetSoldItem())=='I00Y')))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)-1))
call UnitRemoveAbility(GetTriggerUnit(),'A02I')
else
endif
if(((GetItemTypeId(GetManipulatedItem())=='I011')or(GetItemTypeId(GetManipulatedItem())=='I012')or(GetItemTypeId(GetManipulatedItem())=='I010')or(GetItemTypeId(GetSoldItem())=='I011')or(GetItemTypeId(GetSoldItem())=='I012')or(GetItemTypeId(GetSoldItem())=='I010')))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)-1))
call UnitRemoveAbility(GetTriggerUnit(),'A01J')
else
endif
if(((GetItemTypeId(GetManipulatedItem())=='I014')or(GetItemTypeId(GetManipulatedItem())=='I015')or(GetItemTypeId(GetManipulatedItem())=='I016')or(GetItemTypeId(GetSoldItem())=='I014')or(GetItemTypeId(GetSoldItem())=='I015')or(GetItemTypeId(GetSoldItem())=='I016')))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)-1))
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit(),3,1,LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x89FAAF17))
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0xFCB43BD7,0)
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x89FAAF17,0)
call UnitRemoveAbility(GetTriggerUnit(),'A00K')
call UnitRemoveAbility(GetTriggerUnit(),'A01K')
call UnitRemoveAbility(GetTriggerUnit(),'A03N')
else
endif
if(((GetItemTypeId(GetManipulatedItem())=='I018')or(GetItemTypeId(GetManipulatedItem())=='I019')or(GetItemTypeId(GetManipulatedItem())=='I01A')or(GetItemTypeId(GetSoldItem())=='I018')or(GetItemTypeId(GetSoldItem())=='I019')or(GetItemTypeId(GetSoldItem())=='I01A')))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)-1))
call UnitRemoveAbility(GetTriggerUnit(),'A01L')
else
endif
if(((GetItemTypeId(GetManipulatedItem())=='I01C')or(GetItemTypeId(GetManipulatedItem())=='I01D')or(GetItemTypeId(GetManipulatedItem())=='I01E')or(GetItemTypeId(GetSoldItem())=='I01C')or(GetItemTypeId(GetSoldItem())=='I01D')or(GetItemTypeId(GetSoldItem())=='I01E')))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)-1))
call UnitRemoveAbility(GetTriggerUnit(),'A01O')
else
endif
if(((GetItemTypeId(GetManipulatedItem())=='I028')or(GetItemTypeId(GetManipulatedItem())=='I029')or(GetItemTypeId(GetManipulatedItem())=='I02A')or(GetItemTypeId(GetSoldItem())=='I028')or(GetItemTypeId(GetSoldItem())=='I029')or(GetItemTypeId(GetSoldItem())=='I02A')))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)-1))
call UnitRemoveAbility(GetTriggerUnit(),'A03G')
else
endif
if(((GetItemTypeId(GetManipulatedItem())=='I048')or(GetItemTypeId(GetManipulatedItem())=='I049')or(GetItemTypeId(GetManipulatedItem())=='I047')or(GetItemTypeId(GetSoldItem())=='I048')or(GetItemTypeId(GetSoldItem())=='I049')or(GetItemTypeId(GetSoldItem())=='I047')))then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163,(LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),0x75086163)-1))
call UnitRemoveAbility(GetTriggerUnit(),'A066')
else
endif
endfunction
function InitTrig_article_4 takes nothing returns nothing
set gg_trg_article_4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_4,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_4,EVENT_PLAYER_UNIT_PAWN_ITEM)
call TriggerAddCondition(gg_trg_article_4,Condition(function Trig_article_4Conditions))
call TriggerAddAction(gg_trg_article_4,function Trig_article_4Actions)
endfunction
function Trig_article_5Conditions takes nothing returns boolean
return((LoadBoolean(YDHT,GetItemTypeId(GetManipulatedItem()),0x9C0F555E)==true)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_PEON)==true))
endfunction
function Trig_article_5Func009003002 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)and(((IsUnitAliveBJ(GetFilterUnit())==true)and(LoadBoolean(YDHT,GetHandleId(GetFilterUnit()),0x8615081F)==true))and((GetUnitPointValue(GetFilterUnit())==40)or(GetUnitPointValue(GetFilterUnit())==50)))))
endfunction
function Trig_article_5Func010A takes nothing returns nothing
local integer ydul_c
if(((GetUnitTypeId(GetEnumUnit())=='h017')or(GetUnitTypeId(GetEnumUnit())=='h02K')or(GetUnitTypeId(GetEnumUnit())=='h02L')or(GetUnitTypeId(GetEnumUnit())=='h02M')or(GetUnitTypeId(GetEnumUnit())=='h018')or(GetUnitTypeId(GetEnumUnit())=='h02N')or(GetUnitTypeId(GetEnumUnit())=='h02O')or(GetUnitTypeId(GetEnumUnit())=='h02P')or(GetUnitTypeId(GetEnumUnit())=='h019')or(GetUnitTypeId(GetEnumUnit())=='h03K')or(GetUnitTypeId(GetEnumUnit())=='h03L')or(GetUnitTypeId(GetEnumUnit())=='h03M')or(GetUnitTypeId(GetEnumUnit())=='h01A')or(GetUnitTypeId(GetEnumUnit())=='h03N')or(GetUnitTypeId(GetEnumUnit())=='h03O')or(GetUnitTypeId(GetEnumUnit())=='h03P')or(GetUnitTypeId(GetEnumUnit())=='h01B')or(GetUnitTypeId(GetEnumUnit())=='h038')or(GetUnitTypeId(GetEnumUnit())=='h039')or(GetUnitTypeId(GetEnumUnit())=='h03A')or(GetUnitTypeId(GetEnumUnit())=='h01C')or(GetUnitTypeId(GetEnumUnit())=='h03D')or(GetUnitTypeId(GetEnumUnit())=='h03E')or(GetUnitTypeId(GetEnumUnit())=='h03C')or(GetUnitTypeId(GetEnumUnit())=='h01Q')or(GetUnitTypeId(GetEnumUnit())=='h02W')or(GetUnitTypeId(GetEnumUnit())=='h02X')or(GetUnitTypeId(GetEnumUnit())=='h02Y')or(GetUnitTypeId(GetEnumUnit())=='h01P')or(GetUnitTypeId(GetEnumUnit())=='h02Z')or(GetUnitTypeId(GetEnumUnit())=='h030')or(GetUnitTypeId(GetEnumUnit())=='h031')or(GetUnitTypeId(GetEnumUnit())=='h04Y')or(GetUnitTypeId(GetEnumUnit())=='h04Z')or(GetUnitTypeId(GetEnumUnit())=='h050')or(GetUnitTypeId(GetEnumUnit())=='h051')or(GetUnitTypeId(GetEnumUnit())=='h052')or(GetUnitTypeId(GetEnumUnit())=='h053')or(GetUnitTypeId(GetEnumUnit())=='h054')or(GetUnitTypeId(GetEnumUnit())=='h055')or(GetUnitTypeId(GetEnumUnit())=='h00U')or(GetUnitTypeId(GetEnumUnit())=='h00T')or(GetUnitTypeId(GetEnumUnit())=='h00V')or(GetUnitTypeId(GetEnumUnit())=='h01T')or(GetUnitTypeId(GetEnumUnit())=='h04N')))then
if(true)then
set ydul_c=1
loop
exitwhen ydul_c>6
call RemoveItem(UnitItemInSlotBJ(GetEnumUnit(),ydul_c))
set ydul_c=ydul_c+1
endloop
call UnitRemoveAbility(GetEnumUnit(),'A018')
call UnitRemoveAbility(GetEnumUnit(),'A019')
call UnitRemoveAbility(GetEnumUnit(),'A01A')
call UnitRemoveAbility(GetEnumUnit(),'A01B')
call UnitRemoveAbility(GetEnumUnit(),'A01C')
call UnitRemoveAbility(GetEnumUnit(),'A01D')
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==1))then
call UnitAddAbility(GetEnumUnit(),'A018')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==2))then
call UnitAddAbility(GetEnumUnit(),'A019')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==3))then
call UnitAddAbility(GetEnumUnit(),'A01A')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==4))then
call UnitAddAbility(GetEnumUnit(),'A01B')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==5))then
call UnitAddAbility(GetEnumUnit(),'A01C')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==6))then
call UnitAddAbility(GetEnumUnit(),'A01D')
else
endif
endif
endif
endif
endif
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),GetEnumUnit())
endif
endif
else
endif
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetEnumUnit(),ydul_c)!=null))then
call SetItemPawnable(UnitItemInSlotBJ(GetEnumUnit(),ydul_c),false)
call SetItemDroppable(UnitItemInSlotBJ(GetEnumUnit(),ydul_c),false)
else
endif
set ydul_c=ydul_c+1
endloop
else
endif
else
endif
endfunction
function Trig_article_5Actions takes nothing returns nothing
local integer ydul_i
local group ydl_group
local unit ydl_unit
local integer ydul_c
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if(((GetItemTypeId(GetManipulatedItem())=='I03F')or(GetItemTypeId(GetManipulatedItem())=='I03H')))then
set ydul_i=1
loop
exitwhen ydul_i>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_i)!=GetManipulatedItem())and((GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),ydul_i))=='I03F')or(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),ydul_i))=='I03H')))then
call AdjustPlayerStateBJ(R2I(GetItemLifeBJ(GetManipulatedItem())),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call RemoveItem(GetManipulatedItem())
call DoNothing()
exitwhen true
else
endif
set ydul_i=ydul_i+1
endloop
else
endif
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,UnitItemInSlotBJ(GetManipulatingUnit(),1))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x70432FFB,UnitItemInSlotBJ(GetManipulatingUnit(),2))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC7D70C5B,UnitItemInSlotBJ(GetManipulatingUnit(),3))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7A3AFCC6,UnitItemInSlotBJ(GetManipulatingUnit(),4))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA2E76387,UnitItemInSlotBJ(GetManipulatingUnit(),5))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x071E0023,UnitItemInSlotBJ(GetManipulatingUnit(),6))
set ydul_i=1
loop
exitwhen ydul_i>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_i)!=null)and(LoadBoolean(YDHT,GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_i)),0x9C0F555E)==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1))
else
endif
set ydul_i=ydul_i+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetManipulatingUnit()),Condition(function Trig_article_5Func009003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_article_5Func010A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_article_5 takes nothing returns nothing
set gg_trg_article_5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_article_5,Condition(function Trig_article_5Conditions))
call TriggerAddAction(gg_trg_article_5,function Trig_article_5Actions)
endfunction
function Trig_article_6Conditions takes nothing returns boolean
return((LoadBoolean(YDHT,GetItemTypeId(GetManipulatedItem()),0x9C0F555E)==true)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_PEON)==true))
endfunction
function Trig_article_6Func010003002 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)and(((IsUnitAliveBJ(GetFilterUnit())==true)and(LoadBoolean(YDHT,GetHandleId(GetFilterUnit()),0x8615081F)==true))and((GetUnitPointValue(GetFilterUnit())==40)or(GetUnitPointValue(GetFilterUnit())==50)))))
endfunction
function Trig_article_6Func011A takes nothing returns nothing
local integer ydul_c
if(((GetUnitTypeId(GetEnumUnit())=='h017')or(GetUnitTypeId(GetEnumUnit())=='h02K')or(GetUnitTypeId(GetEnumUnit())=='h02L')or(GetUnitTypeId(GetEnumUnit())=='h02M')or(GetUnitTypeId(GetEnumUnit())=='h018')or(GetUnitTypeId(GetEnumUnit())=='h02N')or(GetUnitTypeId(GetEnumUnit())=='h02O')or(GetUnitTypeId(GetEnumUnit())=='h02P')or(GetUnitTypeId(GetEnumUnit())=='h019')or(GetUnitTypeId(GetEnumUnit())=='h03K')or(GetUnitTypeId(GetEnumUnit())=='h03L')or(GetUnitTypeId(GetEnumUnit())=='h03M')or(GetUnitTypeId(GetEnumUnit())=='h01A')or(GetUnitTypeId(GetEnumUnit())=='h03N')or(GetUnitTypeId(GetEnumUnit())=='h03O')or(GetUnitTypeId(GetEnumUnit())=='h03P')or(GetUnitTypeId(GetEnumUnit())=='h01B')or(GetUnitTypeId(GetEnumUnit())=='h038')or(GetUnitTypeId(GetEnumUnit())=='h039')or(GetUnitTypeId(GetEnumUnit())=='h03A')or(GetUnitTypeId(GetEnumUnit())=='h01C')or(GetUnitTypeId(GetEnumUnit())=='h03D')or(GetUnitTypeId(GetEnumUnit())=='h03E')or(GetUnitTypeId(GetEnumUnit())=='h03C')or(GetUnitTypeId(GetEnumUnit())=='h01Q')or(GetUnitTypeId(GetEnumUnit())=='h02W')or(GetUnitTypeId(GetEnumUnit())=='h02X')or(GetUnitTypeId(GetEnumUnit())=='h02Y')or(GetUnitTypeId(GetEnumUnit())=='h01P')or(GetUnitTypeId(GetEnumUnit())=='h02Z')or(GetUnitTypeId(GetEnumUnit())=='h030')or(GetUnitTypeId(GetEnumUnit())=='h031')or(GetUnitTypeId(GetEnumUnit())=='h04Y')or(GetUnitTypeId(GetEnumUnit())=='h04Z')or(GetUnitTypeId(GetEnumUnit())=='h050')or(GetUnitTypeId(GetEnumUnit())=='h051')or(GetUnitTypeId(GetEnumUnit())=='h052')or(GetUnitTypeId(GetEnumUnit())=='h053')or(GetUnitTypeId(GetEnumUnit())=='h054')or(GetUnitTypeId(GetEnumUnit())=='h055')or(GetUnitTypeId(GetEnumUnit())=='h00U')or(GetUnitTypeId(GetEnumUnit())=='h00T')or(GetUnitTypeId(GetEnumUnit())=='h00V')or(GetUnitTypeId(GetEnumUnit())=='h01T')or(GetUnitTypeId(GetEnumUnit())=='h04N')))then
set ydul_c=1
loop
exitwhen ydul_c>6
call RemoveItem(UnitItemInSlotBJ(GetEnumUnit(),ydul_c))
set ydul_c=ydul_c+1
endloop
call UnitRemoveAbility(GetEnumUnit(),'A018')
call UnitRemoveAbility(GetEnumUnit(),'A019')
call UnitRemoveAbility(GetEnumUnit(),'A01A')
call UnitRemoveAbility(GetEnumUnit(),'A01B')
call UnitRemoveAbility(GetEnumUnit(),'A01C')
call UnitRemoveAbility(GetEnumUnit(),'A01D')
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==1))then
call UnitAddAbility(GetEnumUnit(),'A018')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==2))then
call UnitAddAbility(GetEnumUnit(),'A019')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==3))then
call UnitAddAbility(GetEnumUnit(),'A01A')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==4))then
call UnitAddAbility(GetEnumUnit(),'A01B')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==5))then
call UnitAddAbility(GetEnumUnit(),'A01C')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==6))then
call UnitAddAbility(GetEnumUnit(),'A01D')
else
endif
endif
endif
endif
endif
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),GetEnumUnit())
endif
endif
else
endif
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetEnumUnit(),ydul_c)!=null))then
call SetItemPawnable(UnitItemInSlotBJ(GetEnumUnit(),ydul_c),false)
call SetItemDroppable(UnitItemInSlotBJ(GetEnumUnit(),ydul_c),false)
else
endif
set ydul_c=ydul_c+1
endloop
else
endif
endfunction
function Trig_article_6Actions takes nothing returns nothing
local integer ydul_i
local group ydl_group
local unit ydl_unit
local integer ydul_c
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call YDWEPolledWaitNull(.1)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,UnitItemInSlotBJ(GetTriggerUnit(),1))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x70432FFB,UnitItemInSlotBJ(GetTriggerUnit(),2))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC7D70C5B,UnitItemInSlotBJ(GetTriggerUnit(),3))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7A3AFCC6,UnitItemInSlotBJ(GetTriggerUnit(),4))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA2E76387,UnitItemInSlotBJ(GetTriggerUnit(),5))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x071E0023,UnitItemInSlotBJ(GetTriggerUnit(),6))
set ydul_i=1
loop
exitwhen ydul_i>6
if((UnitItemInSlotBJ(GetTriggerUnit(),ydul_i)!=null)and(LoadBoolean(YDHT,GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),ydul_i)),0x9C0F555E)==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1))
else
endif
set ydul_i=ydul_i+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetTriggerUnit()),Condition(function Trig_article_6Func010003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_article_6Func011A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call RemoveItem(GetManipulatedItem())
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_article_6 takes nothing returns nothing
set gg_trg_article_6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_6,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_6,EVENT_PLAYER_UNIT_PAWN_ITEM)
call TriggerAddCondition(gg_trg_article_6,Condition(function Trig_article_6Conditions))
call TriggerAddAction(gg_trg_article_6,function Trig_article_6Actions)
endfunction
function Trig_article_7Conditions takes nothing returns boolean
return(((GetUnitPointValue(GetTriggerUnit())==50)or(GetUnitPointValue(GetTriggerUnit())==40)))
endfunction
function Trig_article_7Func002003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true)))
endfunction
function Trig_article_7Func013Func001Func010003002 takes nothing returns boolean
return(((GetTriggerUnit()==GetFilterUnit())and(IsUnitAliveBJ(GetFilterUnit())==true)))
endfunction
function Trig_article_7Func013Func001Func011A takes nothing returns nothing
local integer ydul_c
if(((GetUnitTypeId(GetEnumUnit())=='h017')or(GetUnitTypeId(GetEnumUnit())=='h02K')or(GetUnitTypeId(GetEnumUnit())=='h02L')or(GetUnitTypeId(GetEnumUnit())=='h02M')or(GetUnitTypeId(GetEnumUnit())=='h018')or(GetUnitTypeId(GetEnumUnit())=='h02N')or(GetUnitTypeId(GetEnumUnit())=='h02O')or(GetUnitTypeId(GetEnumUnit())=='h02P')or(GetUnitTypeId(GetEnumUnit())=='h019')or(GetUnitTypeId(GetEnumUnit())=='h03K')or(GetUnitTypeId(GetEnumUnit())=='h03L')or(GetUnitTypeId(GetEnumUnit())=='h03M')or(GetUnitTypeId(GetEnumUnit())=='h01A')or(GetUnitTypeId(GetEnumUnit())=='h03N')or(GetUnitTypeId(GetEnumUnit())=='h03O')or(GetUnitTypeId(GetEnumUnit())=='h03P')or(GetUnitTypeId(GetEnumUnit())=='h01B')or(GetUnitTypeId(GetEnumUnit())=='h038')or(GetUnitTypeId(GetEnumUnit())=='h039')or(GetUnitTypeId(GetEnumUnit())=='h03A')or(GetUnitTypeId(GetEnumUnit())=='h01C')or(GetUnitTypeId(GetEnumUnit())=='h03D')or(GetUnitTypeId(GetEnumUnit())=='h03E')or(GetUnitTypeId(GetEnumUnit())=='h03C')or(GetUnitTypeId(GetEnumUnit())=='h01Q')or(GetUnitTypeId(GetEnumUnit())=='h02W')or(GetUnitTypeId(GetEnumUnit())=='h02X')or(GetUnitTypeId(GetEnumUnit())=='h02Y')or(GetUnitTypeId(GetEnumUnit())=='h01P')or(GetUnitTypeId(GetEnumUnit())=='h02Z')or(GetUnitTypeId(GetEnumUnit())=='h030')or(GetUnitTypeId(GetEnumUnit())=='h031')or(GetUnitTypeId(GetEnumUnit())=='h04Y')or(GetUnitTypeId(GetEnumUnit())=='h04Z')or(GetUnitTypeId(GetEnumUnit())=='h050')or(GetUnitTypeId(GetEnumUnit())=='h051')or(GetUnitTypeId(GetEnumUnit())=='h052')or(GetUnitTypeId(GetEnumUnit())=='h053')or(GetUnitTypeId(GetEnumUnit())=='h054')or(GetUnitTypeId(GetEnumUnit())=='h055')or(GetUnitTypeId(GetEnumUnit())=='h00U')or(GetUnitTypeId(GetEnumUnit())=='h00T')or(GetUnitTypeId(GetEnumUnit())=='h00V')or(GetUnitTypeId(GetEnumUnit())=='h01T')or(GetUnitTypeId(GetEnumUnit())=='h04N')))then
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0x4BB7FBCF)==1))then
call UnitAddAbility(GetEnumUnit(),'A018')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0x4BB7FBCF)==2))then
call UnitAddAbility(GetEnumUnit(),'A019')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0x4BB7FBCF)==3))then
call UnitAddAbility(GetEnumUnit(),'A01A')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0x4BB7FBCF)==4))then
call UnitAddAbility(GetEnumUnit(),'A01B')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0x4BB7FBCF)==5))then
call UnitAddAbility(GetEnumUnit(),'A01C')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0x4BB7FBCF)==6))then
call UnitAddAbility(GetEnumUnit(),'A01D')
else
endif
endif
endif
endif
endif
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x24D4688D)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x24D4688D)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x24D4688D)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x24D4688D)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x24D4688D)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x24D4688D)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x24D4688D)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x24D4688D)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x70432FFB)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x70432FFB)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x70432FFB)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x70432FFB)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x70432FFB)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x70432FFB)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x70432FFB)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x70432FFB)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC7D70C5B)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC7D70C5B)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC7D70C5B)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC7D70C5B)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC7D70C5B)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC7D70C5B)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC7D70C5B)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC7D70C5B)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x7A3AFCC6)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x7A3AFCC6)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x7A3AFCC6)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x7A3AFCC6)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x7A3AFCC6)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x7A3AFCC6)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x7A3AFCC6)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x7A3AFCC6)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xA2E76387)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xA2E76387)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xA2E76387)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xA2E76387)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xA2E76387)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xA2E76387)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xA2E76387)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xA2E76387)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x071E0023)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x071E0023)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x071E0023)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x071E0023)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x071E0023)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x071E0023)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x071E0023)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x071E0023)),GetEnumUnit())
endif
endif
else
endif
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetEnumUnit(),ydul_c)!=null))then
call SetItemPawnable(UnitItemInSlotBJ(GetEnumUnit(),ydul_c),false)
call SetItemDroppable(UnitItemInSlotBJ(GetEnumUnit(),ydul_c),false)
else
endif
set ydul_c=ydul_c+1
endloop
else
endif
endfunction
function Trig_article_7Func013Conditions takes nothing returns nothing
local integer ydul_i
local group ydl_group
local unit ydl_unit
local integer ydul_c
if((GetTriggerUnit()==LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x1BF14788)))then
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x8615081F,true)
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x24D4688D,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D),1))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x70432FFB,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D),2))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC7D70C5B,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D),3))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x7A3AFCC6,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D),4))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xA2E76387,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D),5))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x071E0023,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D),6))
set ydul_i=1
loop
exitwhen ydul_i>6
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D),ydul_i)!=null)and(LoadBoolean(YDHT,GetItemTypeId(UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D),ydul_i)),0x9C0F555E)==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0x4BB7FBCF)+1))
else
endif
set ydul_i=ydul_i+1
endloop
set ydul_i=1
loop
exitwhen ydul_i>6
call RemoveItem(UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x1BF14788),ydul_i))
set ydul_i=ydul_i+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xD42855DB,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetTriggerUnit()),Condition(function Trig_article_7Func013Func001Func010003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xD42855DB),function Trig_article_7Func013Func001Func011A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xD42855DB))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger()))
call DestroyTrigger(GetTriggeringTrigger())
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_article_7Actions takes nothing returns nothing
local integer ydul_i
local trigger ydl_trigger
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveBoolean(YDHT,GetHandleId(GetTriggerUnit()),0x8615081F,false)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetTriggerUnit()),Condition(function Trig_article_7Func002003002)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC)))
set ydul_i=1
loop
exitwhen ydul_i>6
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),ydul_i))
set ydul_i=ydul_i+1
endloop
call UnitRemoveAbility(GetTriggerUnit(),'A018')
call UnitRemoveAbility(GetTriggerUnit(),'A019')
call UnitRemoveAbility(GetTriggerUnit(),'A01A')
call UnitRemoveAbility(GetTriggerUnit(),'A01B')
call UnitRemoveAbility(GetTriggerUnit(),'A01C')
call UnitRemoveAbility(GetTriggerUnit(),'A01D')
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C,GetTriggerUnit())
call SaveTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC,CreateTrigger())
set ydl_trigger=LoadTriggerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24FC2BEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_trigger),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveUnitHandle(YDHT,GetHandleId(ydl_trigger),0x1BF14788,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C))
call SaveGroupHandle(YDHT,GetHandleId(ydl_trigger),0xD42855DB,LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveInteger(YDHT,GetHandleId(ydl_trigger),0x4BB7FBCF,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call SaveItemHandle(YDHT,GetHandleId(ydl_trigger),0x24D4688D,LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D))
call SaveItemHandle(YDHT,GetHandleId(ydl_trigger),0x70432FFB,LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x70432FFB))
call SaveItemHandle(YDHT,GetHandleId(ydl_trigger),0xC7D70C5B,LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC7D70C5B))
call SaveItemHandle(YDHT,GetHandleId(ydl_trigger),0x7A3AFCC6,LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7A3AFCC6))
call SaveItemHandle(YDHT,GetHandleId(ydl_trigger),0xA2E76387,LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA2E76387))
call SaveItemHandle(YDHT,GetHandleId(ydl_trigger),0x071E0023,LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x071E0023))
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_UPGRADE_CANCEL)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_article_7Func013Conditions))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_trigger=null
endfunction
function InitTrig_article_7 takes nothing returns nothing
set gg_trg_article_7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_7,EVENT_PLAYER_UNIT_UPGRADE_START)
call TriggerAddCondition(gg_trg_article_7,Condition(function Trig_article_7Conditions))
call TriggerAddAction(gg_trg_article_7,function Trig_article_7Actions)
endfunction
function Trig_article_8Func002Func001Func002003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true)))
endfunction
function Trig_article_8Func002Func001Func011003002 takes nothing returns boolean
return(((GetTriggerUnit()==GetFilterUnit())and(IsUnitAliveBJ(GetFilterUnit())==true)))
endfunction
function Trig_article_8Func002Func001Func012A takes nothing returns nothing
local integer ydul_c
set ydul_c=1
loop
exitwhen ydul_c>6
call RemoveItem(UnitItemInSlotBJ(GetEnumUnit(),ydul_c))
set ydul_c=ydul_c+1
endloop
call UnitRemoveAbility(GetEnumUnit(),'A018')
call UnitRemoveAbility(GetEnumUnit(),'A019')
call UnitRemoveAbility(GetEnumUnit(),'A01A')
call UnitRemoveAbility(GetEnumUnit(),'A01B')
call UnitRemoveAbility(GetEnumUnit(),'A01C')
call UnitRemoveAbility(GetEnumUnit(),'A01D')
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==1))then
call UnitAddAbility(GetEnumUnit(),'A018')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==2))then
call UnitAddAbility(GetEnumUnit(),'A019')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==3))then
call UnitAddAbility(GetEnumUnit(),'A01A')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==4))then
call UnitAddAbility(GetEnumUnit(),'A01B')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==5))then
call UnitAddAbility(GetEnumUnit(),'A01C')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==6))then
call UnitAddAbility(GetEnumUnit(),'A01D')
else
endif
endif
endif
endif
endif
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),GetEnumUnit())
endif
endif
else
endif
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetEnumUnit(),ydul_c)!=null))then
call SetItemPawnable(UnitItemInSlotBJ(GetEnumUnit(),ydul_c),false)
call SetItemDroppable(UnitItemInSlotBJ(GetEnumUnit(),ydul_c),false)
else
endif
set ydul_c=ydul_c+1
endloop
endfunction
function Trig_article_8Func002Func002Func002003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true)))
endfunction
function Trig_article_8Func002Func002Func011003002 takes nothing returns boolean
return(((GetTriggerUnit()==GetFilterUnit())and(IsUnitAliveBJ(GetFilterUnit())==true)))
endfunction
function Trig_article_8Func002Func002Func012A takes nothing returns nothing
local integer ydul_c
set ydul_c=1
loop
exitwhen ydul_c>6
call RemoveItem(UnitItemInSlotBJ(GetEnumUnit(),ydul_c))
set ydul_c=ydul_c+1
endloop
call UnitRemoveAbility(GetEnumUnit(),'A018')
call UnitRemoveAbility(GetEnumUnit(),'A019')
call UnitRemoveAbility(GetEnumUnit(),'A01A')
call UnitRemoveAbility(GetEnumUnit(),'A01B')
call UnitRemoveAbility(GetEnumUnit(),'A01C')
call UnitRemoveAbility(GetEnumUnit(),'A01D')
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==1))then
call UnitAddAbility(GetEnumUnit(),'A018')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==2))then
call UnitAddAbility(GetEnumUnit(),'A019')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==3))then
call UnitAddAbility(GetEnumUnit(),'A01A')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==4))then
call UnitAddAbility(GetEnumUnit(),'A01B')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==5))then
call UnitAddAbility(GetEnumUnit(),'A01C')
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)==6))then
call UnitAddAbility(GetEnumUnit(),'A01D')
else
endif
endif
endif
endif
endif
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24D4688D)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x70432FFB)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC7D70C5B)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7A3AFCC6)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xA2E76387)),GetEnumUnit())
endif
endif
else
endif
if((LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)!=null)and(LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x9C0F555E)==true))then
if((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x95C6A0CD)==true))then
if(((LoadBoolean(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x2AAC512D)==true)or(GetUnitPointValue(GetEnumUnit())==50)))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),GetEnumUnit())
endif
else
if((GetUnitPointValue(GetEnumUnit())==40))then
call UnitAddItemByIdSwapped(LoadInteger(YDHT,GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),0x55D0E051),GetEnumUnit())
else
call UnitAddItemByIdSwapped(GetItemTypeId(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x071E0023)),GetEnumUnit())
endif
endif
else
endif
set ydul_c=1
loop
exitwhen ydul_c>6
if((UnitItemInSlotBJ(GetEnumUnit(),ydul_c)!=null))then
call SetItemPawnable(UnitItemInSlotBJ(GetEnumUnit(),ydul_c),false)
call SetItemDroppable(UnitItemInSlotBJ(GetEnumUnit(),ydul_c),false)
else
endif
set ydul_c=ydul_c+1
endloop
endfunction
function Trig_article_8Actions takes nothing returns nothing
local integer ydul_i
local group ydl_group
local unit ydl_unit
local integer ydul_c
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveBoolean(YDHT,GetHandleId(GetConstructedStructure()),0x8615081F,true)
if((GetUnitPointValue(GetTriggerUnit())==50))then
if(((GetUnitTypeId(GetEnumUnit())=='h00U')or(GetUnitTypeId(GetEnumUnit())=='h00T')or(GetUnitTypeId(GetEnumUnit())=='h00V')or(GetUnitTypeId(GetEnumUnit())=='h01T')or(GetUnitTypeId(GetEnumUnit())=='h04N')))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetTriggerUnit()),Condition(function Trig_article_8Func002Func001Func002003002)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB)))
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),1)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),1))
else
endif
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),2)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x70432FFB,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),2))
else
endif
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),3)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC7D70C5B,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),3))
else
endif
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),4)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7A3AFCC6,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),4))
else
endif
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),5)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA2E76387,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),5))
else
endif
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),6)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x071E0023,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),6))
else
endif
set ydul_i=1
loop
exitwhen ydul_i>6
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),ydul_i)!=null)and(LoadBoolean(YDHT,GetItemTypeId(UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),ydul_i)),0x9C0F555E)==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1))
else
endif
set ydul_i=ydul_i+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetTriggerUnit()),Condition(function Trig_article_8Func002Func001Func011003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_article_8Func002Func001Func012A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB))
else
endif
else
if(((GetUnitTypeId(GetEnumUnit())=='h017')or(GetUnitTypeId(GetEnumUnit())=='h02K')or(GetUnitTypeId(GetEnumUnit())=='h02L')or(GetUnitTypeId(GetEnumUnit())=='h02M')or(GetUnitTypeId(GetEnumUnit())=='h018')or(GetUnitTypeId(GetEnumUnit())=='h02N')or(GetUnitTypeId(GetEnumUnit())=='h02O')or(GetUnitTypeId(GetEnumUnit())=='h02P')or(GetUnitTypeId(GetEnumUnit())=='h019')or(GetUnitTypeId(GetEnumUnit())=='h03K')or(GetUnitTypeId(GetEnumUnit())=='h03L')or(GetUnitTypeId(GetEnumUnit())=='h03M')or(GetUnitTypeId(GetEnumUnit())=='h01A')or(GetUnitTypeId(GetEnumUnit())=='h03N')or(GetUnitTypeId(GetEnumUnit())=='h03O')or(GetUnitTypeId(GetEnumUnit())=='h03P')or(GetUnitTypeId(GetEnumUnit())=='h01B')or(GetUnitTypeId(GetEnumUnit())=='h038')or(GetUnitTypeId(GetEnumUnit())=='h039')or(GetUnitTypeId(GetEnumUnit())=='h03A')or(GetUnitTypeId(GetEnumUnit())=='h01C')or(GetUnitTypeId(GetEnumUnit())=='h03D')or(GetUnitTypeId(GetEnumUnit())=='h03E')or(GetUnitTypeId(GetEnumUnit())=='h03C')or(GetUnitTypeId(GetEnumUnit())=='h01Q')or(GetUnitTypeId(GetEnumUnit())=='h02W')or(GetUnitTypeId(GetEnumUnit())=='h02X')or(GetUnitTypeId(GetEnumUnit())=='h02Y')or(GetUnitTypeId(GetEnumUnit())=='h01P')or(GetUnitTypeId(GetEnumUnit())=='h02Z')or(GetUnitTypeId(GetEnumUnit())=='h030')or(GetUnitTypeId(GetEnumUnit())=='h031')or(GetUnitTypeId(GetEnumUnit())=='h04Y')or(GetUnitTypeId(GetEnumUnit())=='h04Z')or(GetUnitTypeId(GetEnumUnit())=='h050')or(GetUnitTypeId(GetEnumUnit())=='h051')or(GetUnitTypeId(GetEnumUnit())=='h052')or(GetUnitTypeId(GetEnumUnit())=='h053')or(GetUnitTypeId(GetEnumUnit())=='h054')or(GetUnitTypeId(GetEnumUnit())=='h055')))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetTriggerUnit()),Condition(function Trig_article_8Func002Func002Func002003002)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB)))
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),1)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24D4688D,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),1))
else
endif
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),2)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x70432FFB,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),2))
else
endif
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),3)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC7D70C5B,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),3))
else
endif
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),4)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x7A3AFCC6,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),4))
else
endif
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),5)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA2E76387,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),5))
else
endif
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),6)!=null))then
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x071E0023,UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),6))
else
endif
set ydul_i=1
loop
exitwhen ydul_i>6
if((UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),ydul_i)!=null)and(LoadBoolean(YDHT,GetItemTypeId(UnitItemInSlotBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),ydul_i)),0x9C0F555E)==true))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1))
else
endif
set ydul_i=ydul_i+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetTriggerUnit()),Condition(function Trig_article_8Func002Func002Func011003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_article_8Func002Func002Func012A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB))
else
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_article_8 takes nothing returns nothing
set gg_trg_article_8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_8,EVENT_PLAYER_UNIT_CONSTRUCT_FINISH)
call TriggerAddAction(gg_trg_article_8,function Trig_article_8Actions)
endfunction
function Trig_article_9Actions takes nothing returns nothing
call SaveBoolean(YDHT,GetHandleId(GetConstructingStructure()),0x8615081F,false)
endfunction
function InitTrig_article_9 takes nothing returns nothing
set gg_trg_article_9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_9,EVENT_PLAYER_UNIT_CONSTRUCT_START)
call TriggerAddAction(gg_trg_article_9,function Trig_article_9Actions)
endfunction
function Trig_article_combining1_fzConditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==1)and(IsUnitType(GetBuyingUnit(),UNIT_TYPE_HERO)==true)and(GetSellingUnit()==gg_unit_ngad_0052))
endfunction
function Trig_article_combining1_fzActions takes nothing returns nothing
if((GetItemTypeId(GetSoldItem())=='I00H'))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),.0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 入手了超强装备 "+(udg_yanse[GetRandomInt(1,5)]+"【嗜血狂爪】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_event_radio_u)
else
call PlaySoundBJ(gg_snd_event_radio_f)
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I00J'))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 入手了超强装备 "+(udg_yanse[GetRandomInt(1,5)]+"【异复之衣】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_event_radio_u)
else
call PlaySoundBJ(gg_snd_event_radio_f)
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I01F'))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 入手了超强装备 "+(udg_yanse[GetRandomInt(1,5)]+"【幽冥手套】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_event_radio_u)
else
call PlaySoundBJ(gg_snd_event_radio_f)
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I01I'))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 入手了史诗装备 "+(udg_yanse[GetRandomInt(1,5)]+"【邪亡套装】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_event_radio_u)
else
call PlaySoundBJ(gg_snd_event_radio_f)
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I01M'))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 入手了超叼装备 "+(udg_yanse[GetRandomInt(1,5)]+"【封喉手套】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_event_radio_u)
else
call PlaySoundBJ(gg_snd_event_radio_f)
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I01K'))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 入手了超叼装备 "+(udg_yanse[GetRandomInt(1,5)]+"【血腥宝石】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_event_radio_u)
else
call PlaySoundBJ(gg_snd_event_radio_f)
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I01O'))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 入手了超叼装备 "+(udg_yanse[GetRandomInt(1,5)]+"【天灾骨钟】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_event_radio_u)
else
call PlaySoundBJ(gg_snd_event_radio_f)
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I01Q'))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 入手了阎王装备 "+(udg_yanse[GetRandomInt(1,5)]+"【恶念十字架】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_event_radio_u)
else
call PlaySoundBJ(gg_snd_event_radio_f)
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I01S'))then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 入手了逆天装备 "+(udg_yanse[GetRandomInt(1,5)]+"【邪魔之盔】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_event_radio_u)
else
call PlaySoundBJ(gg_snd_event_radio_f)
endif
else
endif
endfunction
function InitTrig_article_combining1_fz takes nothing returns nothing
set gg_trg_article_combining1_fz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_combining1_fz,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg_article_combining1_fz,Condition(function Trig_article_combining1_fzConditions))
call TriggerAddAction(gg_trg_article_combining1_fz,function Trig_article_combining1_fzActions)
endfunction
function Trig_article_combining2Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==1)and(IsUnitType(GetBuyingUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_article_combining2Actions takes nothing returns nothing
if((GetItemTypeId(GetSoldItem())=='I01U'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I01V')==true))then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I01V'))
call UnitAddItemByIdSwapped('I01W',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I01W')==true))then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I01W'))
call UnitAddItemByIdSwapped('I01X',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I01X')==true))then
call AdjustPlayerStateBJ(22500,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000已升至满级，无法继续升级...")
else
call UnitAddItemByIdSwapped('I01V',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endif
endif
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I01Y'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I021')==true))then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I021'))
call UnitAddItemByIdSwapped('I01Z',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I01Z')==true))then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I01Z'))
call UnitAddItemByIdSwapped('I020',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl",GetBuyingUnit(),"origin"))
else
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I020')==true))then
call AdjustPlayerStateBJ(22500,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cFFFF0000已升至满级，无法继续升级...")
else
call UnitAddItemByIdSwapped('I021',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endif
endif
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I04H'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I01S')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I01X')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I020')==true))then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I01S'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I01X'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I020'))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\lightningwrath.mdx",GetBuyingUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\szhb_2.mdx",GetBuyingUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetBuyingUnit(),"origin"))
call UnitAddItemByIdSwapped('I023',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 合成了终极装备 "+(udg_yanse[GetRandomInt(1,5)]+"【莫希卡的诅咒】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_event_radio_u)
else
call PlaySoundBJ(gg_snd_event_radio_f)
endif
else
call PlaySoundBJ(gg_snd_a__ou)
call AdjustPlayerStateBJ(70000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call YDWEPolledWaitNull(.2)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"缺少合成材料...")
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I022'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I04D')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I04E')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I04F')==true))then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I04D'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I04E'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I04F'))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",GetBuyingUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",GetBuyingUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl",GetBuyingUnit(),"origin"))
call UnitAddItemByIdSwapped('I04G',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 合成了远古装备 "+(udg_yanse[GetRandomInt(1,5)]+"【三项之力】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_event_radio_u)
else
call PlaySoundBJ(gg_snd_event_radio_f)
endif
else
call PlaySoundBJ(gg_snd_a__ou)
call AdjustPlayerStateBJ(20000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call YDWEPolledWaitNull(.2)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"缺少合成材料...")
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I04N'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I04J')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I04K')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I04L')==true))then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I04J'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I04K'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I04L'))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",GetBuyingUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",GetBuyingUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl",GetBuyingUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\lightningwrath.mdx",GetBuyingUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\szhb_2.mdx",GetBuyingUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetBuyingUnit(),"origin"))
call UnitAddItemByIdSwapped('I04M',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(udg_yanse[GetRandomInt(1,5)]+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),0xBBAEF8F3)+("|r"+(" 合成了BUG装备 "+(udg_yanse[GetRandomInt(1,5)]+"【莫卡希的头颅】"))))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(((GetUnitPointValue(GetBuyingUnit())==1)or(GetUnitPointValue(GetBuyingUnit())==3)))then
call PlaySoundBJ(gg_snd_DeathKnightPissed4)
else
call PlaySoundBJ(gg_snd_BansheePissed4)
endif
else
call PlaySoundBJ(gg_snd_a__ou)
call AdjustPlayerStateBJ(500000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call YDWEPolledWaitNull(.2)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"缺少合成材料...")
endif
else
endif
endfunction
function InitTrig_article_combining2 takes nothing returns nothing
set gg_trg_article_combining2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_combining2,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg_article_combining2,Condition(function Trig_article_combining2Conditions))
call TriggerAddAction(gg_trg_article_combining2,function Trig_article_combining2Actions)
endfunction
function Trig_article_combining3Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==1)and(IsUnitType(GetBuyingUnit(),UNIT_TYPE_HERO)==true)and(GetSellingUnit()==gg_unit_ngme_0050))
endfunction
function Trig_article_combining3Actions takes nothing returns nothing
if((GetItemTypeId(GetSoldItem())=='I02H'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I024')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I025')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I02B')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I02C')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I02E')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I02F')==true))then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I024'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I025'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I02B'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I02C'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I02E'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I02F'))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",GetTriggerUnit(),"origin"))
call UnitAddItemByIdSwapped('I02I',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
else
call AdjustPlayerStateBJ(500,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I02J'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I026')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I02D')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I02G')==true))then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I026'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I02D'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I02G'))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",GetTriggerUnit(),"origin"))
call UnitAddItemByIdSwapped('I02K',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
else
call AdjustPlayerStateBJ(800,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
endif
else
endif
if((GetItemTypeId(GetSoldItem())=='I02L'))then
if((YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I02I')==true)and(YDWEUnitHasItemOfTypeBJNull(GetBuyingUnit(),'I02K')==true))then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I02I'))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),'I02K'))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",GetTriggerUnit(),"origin"))
call UnitAddItemByIdSwapped('I02M',GetBuyingUnit())
call SetItemUserData(bj_lastCreatedItem,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
else
call AdjustPlayerStateBJ(1500,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
endif
else
endif
endfunction
function InitTrig_article_combining3 takes nothing returns nothing
set gg_trg_article_combining3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_combining3,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg_article_combining3,Condition(function Trig_article_combining3Conditions))
call TriggerAddAction(gg_trg_article_combining3,function Trig_article_combining3Actions)
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]==1)and(IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)==true)and(IsUnitAliveBJ(GetEventDamageSource())==true))
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func001Func001Func012Func004Func002T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.85))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.7))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),(32.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=10.))then
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),12.)
call YDWETimerDestroyTextTag(3.,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func001Func001Func012T takes nothing returns nothing
local timer ydl_timer
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.65))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),(12.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=22.))then
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0xDEFC4000,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x47C461BA,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_1_6_8_9_14_15_17Func001Func001Func012Func004Func002T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_timer=null
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func001Func001Func001Func002003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttackedUnitBJ()))==true))))
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func001Func001Func001Func003A takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\AcidBomb\\BottleMissile.mdl",GetTriggerUnit(),"origin"))
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+(GetEventDamage()*2.)))
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func001Func002Func002003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttackedUnitBJ()))==true))))
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func001Func002Func003A takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\AcidBomb\\BottleMissile.mdl",GetTriggerUnit(),"origin"))
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+(GetEventDamage()*1.5)))
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func002Func002003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttackedUnitBJ()))==true))))
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func002Func003A takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\AcidBomb\\BottleMissile.mdl",GetTriggerUnit(),"origin"))
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+(GetEventDamage()*1)))
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func005Func001Func012Func004Func002T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.85))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.7))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),(32.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=10.))then
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),12.)
call YDWETimerDestroyTextTag(3.,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func005Func001Func012T takes nothing returns nothing
local timer ydl_timer
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.65))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),(12.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=22.))then
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0xDEFC4000,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x47C461BA,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_1_6_8_9_14_15_17Func005Func001Func012Func004Func002T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_timer=null
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func007Func001Func011Func004Func002T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.85))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.7))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),("+"+I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA)))),(27.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=10.))then
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),("+"+I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA)))),12.)
call YDWETimerDestroyTextTag(3.,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Func007Func001Func011T takes nothing returns nothing
local timer ydl_timer
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.65))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),("+"+I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)))),(12.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=17.))then
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0xDEFC4000,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x47C461BA,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_1_6_8_9_14_15_17Func007Func001Func011Func004Func002T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_timer=null
endfunction
function Trig_article_skill_1_6_8_9_14_15_17Actions takes nothing returns nothing
local timer ydl_timer
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetUnitAbilityLevel(GetEventDamageSource(),'A01G')>=1))then
if((GetRandomInt(1,100)<=15))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,R2I((GetUnitState(GetEventDamageSource(),ConvertUnitState(0x15))*((I2R(GetUnitAbilityLevel(GetEventDamageSource(),'A01G'))*.5)+1.))))
call DisableTrigger(gg_trg_article_skill_1_6_8_9_14_15_17)
call DisableTrigger(gg_trg_Zombi_skill_2_4_6_8)
call UnitDamageTarget(GetEventDamageSource(),GetAttackedUnitBJ(),(I2R(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7))-GetEventDamage()),true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call EnableTrigger(gg_trg_article_skill_1_6_8_9_14_15_17)
call EnableTrigger(gg_trg_Zombi_skill_2_4_6_8)
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource()),.0)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),.0,50.,100,0)
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)),12.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,I2R(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_1_6_8_9_14_15_17Func001Func001Func012T)
else
endif
else
endif
if((GetEventDamage()>=1.))then
if(((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I00H')==true)or(YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I01I')==true)))then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetEventDamageSource(),"origin"))
call SetUnitLifeBJ(GetEventDamageSource(),(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+(GetEventDamage()*.1)))
else
endif
if((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I01S')==true))then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetEventDamageSource(),"origin"))
call SetUnitLifeBJ(GetEventDamageSource(),(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+(GetEventDamage()*.18)))
else
endif
if((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I023')==true))then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetEventDamageSource(),"origin"))
call SetUnitLifeBJ(GetEventDamageSource(),(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+(GetEventDamage()*.25)))
else
endif
if((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I04F')==true))then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetEventDamageSource(),"origin"))
call SetUnitLifeBJ(GetEventDamageSource(),(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+(GetEventDamage()*.7)))
else
endif
else
endif
if(((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I01V')==true)or(YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I01W')==true)or(YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I01X')==true)or(YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I023')==true)))then
if((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I01V')==true))then
if((GetRandomInt(1,100)<=1))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnit(GetOwningPlayer(GetEventDamageSource()),'h00I',GetUnitX(GetAttackedUnitBJ()),GetUnitY(GetAttackedUnitBJ()),0))
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),'A03B',1)
call IssueImmediateOrder(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),"stomp")
call YDWETimerRemoveUnit(.5,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
else
endif
else
if((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I01W')==true))then
if((GetRandomInt(1,100)<=1))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnit(GetOwningPlayer(GetEventDamageSource()),'h00I',GetUnitX(GetAttackedUnitBJ()),GetUnitY(GetAttackedUnitBJ()),0))
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),'A03B',2)
call IssueImmediateOrder(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),"stomp")
call YDWETimerRemoveUnit(.5,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
else
endif
else
if(((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I01X')==true)or(YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I023')==true)))then
if((GetRandomInt(1,100)<=1))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnit(GetOwningPlayer(GetEventDamageSource()),'h00I',GetUnitX(GetAttackedUnitBJ()),GetUnitY(GetAttackedUnitBJ()),0))
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),'A03B',3)
call IssueImmediateOrder(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),"stomp")
call YDWETimerRemoveUnit(.5,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
else
endif
else
endif
endif
endif
else
endif
if(((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I021')==true)or(YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I01Z')==true)or(YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I020')==true)or(YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I023')==true)))then
if((YDWEUnitHasItemOfTypeBJNull(GetAttackedUnitBJ(),'I021')==true))then
if((GetRandomInt(1,100)<=5))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetAttackedUnitBJ()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(355.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),Condition(function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func002Func002003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func002Func003A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
if((GetEnumUnit()!=GetEventDamageSource())and(GetUnitState(GetAttackedUnitBJ(),UNIT_STATE_LIFE)<=GetEventDamage()))then
call SetUnitLifeBJ(GetAttackedUnitBJ(),(GetUnitState(GetAttackedUnitBJ(),UNIT_STATE_LIFE)-GetEventDamage()))
else
call SetUnitLifeBJ(GetAttackedUnitBJ(),1.)
call UnitDamageTarget(GetEventDamageSource(),GetAttackedUnitBJ(),1.5,false,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
endif
else
endif
else
if((YDWEUnitHasItemOfTypeBJNull(GetAttackedUnitBJ(),'I01Z')==true))then
if((GetRandomInt(1,100)<=10))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetAttackedUnitBJ()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(355.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),Condition(function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func001Func002Func002003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func001Func002Func003A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
if((GetEnumUnit()!=GetEventDamageSource())and(GetUnitState(GetAttackedUnitBJ(),UNIT_STATE_LIFE)<=(GetEventDamage()*2.)))then
call SetUnitLifeBJ(GetAttackedUnitBJ(),(GetUnitState(GetAttackedUnitBJ(),UNIT_STATE_LIFE)-(GetEventDamage()*2.)))
else
call SetUnitLifeBJ(GetAttackedUnitBJ(),1.)
call UnitDamageTarget(GetEventDamageSource(),GetAttackedUnitBJ(),1.5,false,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
endif
else
endif
else
if(((YDWEUnitHasItemOfTypeBJNull(GetAttackedUnitBJ(),'I020')==true)or(YDWEUnitHasItemOfTypeBJNull(GetAttackedUnitBJ(),'I023')==true)))then
if((GetRandomInt(1,100)<=15))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetAttackedUnitBJ()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(355.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),Condition(function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func001Func001Func001Func002003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_article_skill_1_6_8_9_14_15_17Func004Func002Func001Func001Func001Func003A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
if((GetEnumUnit()!=GetEventDamageSource())and(GetUnitState(GetAttackedUnitBJ(),UNIT_STATE_LIFE)<=(GetEventDamage()*3.)))then
call SetUnitLifeBJ(GetAttackedUnitBJ(),(GetUnitState(GetAttackedUnitBJ(),UNIT_STATE_LIFE)-(GetEventDamage()*3.)))
else
call SetUnitLifeBJ(GetAttackedUnitBJ(),1.)
call UnitDamageTarget(GetEventDamageSource(),GetAttackedUnitBJ(),1.5,false,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
endif
else
endif
else
endif
endif
endif
else
endif
if(((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I04E')==true)or(YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I04G')==true)))then
if((GetRandomInt(1,100)<=5))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,R2I((GetUnitState(GetEventDamageSource(),ConvertUnitState(0x15))*12.)))
call DisableTrigger(gg_trg_article_skill_1_6_8_9_14_15_17)
call DisableTrigger(gg_trg_Zombi_skill_2_4_6_8)
call EXSetEventDamage((((GetEventDamage()*12.))*1.))
call EnableTrigger(gg_trg_article_skill_1_6_8_9_14_15_17)
call EnableTrigger(gg_trg_Zombi_skill_2_4_6_8)
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource()),.0)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),100.,12.,.0,0)
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)),12.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,I2R(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_1_6_8_9_14_15_17Func005Func001Func012T)
else
endif
else
endif
if(((YDWEUnitHasItemOfTypeBJNull(GetAttackedUnitBJ(),'I04F')==true)or(YDWEUnitHasItemOfTypeBJNull(GetAttackedUnitBJ(),'I04G')==true))and(GetEventDamage()>(GetUnitState(GetAttackedUnitBJ(),UNIT_STATE_MAX_LIFE)*(.045))))then
call EXSetEventDamage((((GetUnitState(GetAttackedUnitBJ(),UNIT_STATE_MAX_LIFE)*(.045)))*1.))
else
endif
if(((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I04L')==true)or(YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I04M')==true)))then
if((GetRandomInt(1,100)<=15))then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(GetAttackedUnitBJ()),GetUnitY(GetAttackedUnitBJ())))
if((YDWEUnitHasItemOfTypeBJNull(GetEventDamageSource(),'I04L')==true))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x11B33C6E,(I2R(GetPlayerState(GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD))*(.008)))
else
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x11B33C6E,(I2R(GetPlayerState(GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD))*(.015)))
endif
call AdjustPlayerStateBJ((0+R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x11B33C6E))),GetOwningPlayer(GetEventDamageSource()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ((0-R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x11B33C6E))),GetOwningPlayer(GetAttackedUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource()),35.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),100.,86.,.0,0)
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),("+"+I2S(R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x11B33C6E)))),12.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x11B33C6E))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_1_6_8_9_14_15_17Func007Func001Func011T)
else
endif
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_article_skill_1_6_8_9_14_15_17 takes nothing returns nothing
set gg_trg_article_skill_1_6_8_9_14_15_17=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_article_skill_1_6_8_9_14_15_17)
call TriggerAddCondition(gg_trg_article_skill_1_6_8_9_14_15_17,Condition(function Trig_article_skill_1_6_8_9_14_15_17Conditions))
call TriggerAddAction(gg_trg_article_skill_1_6_8_9_14_15_17,function Trig_article_skill_1_6_8_9_14_15_17Actions)
endfunction
function Trig_article_skill_2Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]==1)and(IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)==true)and(GetUnitAbilityLevel(GetDyingUnit(),'A01J')>=1))
endfunction
function Trig_article_skill_2Func001Func008003003 takes nothing returns boolean
return((((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)and(GetUnitPointValue(GetFilterUnit())==50))and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetDyingUnit()))!=true))))
endfunction
function Trig_article_skill_2Func001Func009Func008003003 takes nothing returns boolean
return((((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)and(GetUnitPointValue(GetFilterUnit())==50))and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetDyingUnit()))!=true))))
endfunction
function Trig_article_skill_2Func001Func009Func009Func008003003 takes nothing returns boolean
return((((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)and(GetUnitPointValue(GetFilterUnit())==50))and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetDyingUnit()))!=true))))
endfunction
function Trig_article_skill_2Func001Func009Func009Func009A takes nothing returns nothing
call UnitDamageTarget(GetDyingUnit(),GetEnumUnit(),LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xCFBB525F),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_article_skill_2Func001Func009Func009Func015Func004Func002T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.5))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)-.3))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),(30.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
call YDWETimerDestroyTextTag(3.,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),.01)
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)>=75.))then
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_2Func001Func009Func009Func015T takes nothing returns nothing
local timer ydl_timer
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+1.))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)-.45))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),(1.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=25.))then
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0xDEFC4000,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x47C461BA,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_2Func001Func009Func009Func015Func004Func002T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_timer=null
endfunction
function Trig_article_skill_2Func001Func009Func010A takes nothing returns nothing
call UnitDamageTarget(GetDyingUnit(),GetEnumUnit(),LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xCFBB525F),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_article_skill_2Func001Func009Func016Func004Func002T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.5))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)-.3))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),(30.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
call YDWETimerDestroyTextTag(3.,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),.01)
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)>=75.))then
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_2Func001Func009Func016T takes nothing returns nothing
local timer ydl_timer
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+1.))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)-.45))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),(1.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=25.))then
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0xDEFC4000,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x47C461BA,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_2Func001Func009Func016Func004Func002T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_timer=null
endfunction
function Trig_article_skill_2Func001Func010A takes nothing returns nothing
call UnitDamageTarget(GetDyingUnit(),GetEnumUnit(),LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xCFBB525F),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_article_skill_2Func001Func016Func004Func002T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.5))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)-.3))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),(30.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
call YDWETimerDestroyTextTag(3.,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),.01)
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)>=75.))then
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_2Func001Func016T takes nothing returns nothing
local timer ydl_timer
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+1.))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)-.45))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),(1.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=25.))then
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0xDEFC4000,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x47C461BA,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_2Func001Func016Func004Func002T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_timer=null
endfunction
function Trig_article_skill_2Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((LoadInteger(YDHT,GetHandleId(GetDyingUnit()),0xFA19F30A)==1))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetDyingUnit()))
call YDWETimerDestroyEffect(2.5,AddSpecialEffectLoc("war3mapImported\\szhb_1.mdx",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80)))
call YDWEPolledWaitNull(.7)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\szhb_2.mdx",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80)))
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\UDeathMedium\\UDeath.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80)))
if((GetUnitAbilityLevel(GetDyingUnit(),'A01J')==1))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F,(I2R(GetHeroStr(GetDyingUnit(),true))*13.))
else
if((GetUnitAbilityLevel(GetDyingUnit(),'A01J')==2))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F,(I2R(GetHeroStr(GetDyingUnit(),true))*26.))
else
if((GetUnitAbilityLevel(GetDyingUnit(),'A01J')==3))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F,(I2R(GetHeroStr(GetDyingUnit(),true))*39.))
else
endif
endif
endif
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,(GetHeroStr(GetDyingUnit(),true)*(GetUnitAbilityLevel(GetDyingUnit(),'A01J')*10)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x235CA8AD,YDWEGetUnitsInRangeOfLocMatchingNull(850.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),Condition(function Trig_article_skill_2Func001Func008003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x235CA8AD),function Trig_article_skill_2Func001Func010A)
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),100,45.,.0,0)
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)),1.)
call SetTextTagPosUnit(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetDyingUnit(),-125.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_2Func001Func016T)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x235CA8AD))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
if((LoadInteger(YDHT,GetHandleId(GetDyingUnit()),0xFA19F30A)==2))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetDyingUnit()))
call YDWETimerDestroyEffect(2.5,AddSpecialEffectLoc("war3mapImported\\szhb_1.mdx",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80)))
call YDWEPolledWaitNull(.7)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\szhb_2.mdx",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80)))
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\UDeathMedium\\UDeath.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80)))
if((GetUnitAbilityLevel(GetDyingUnit(),'A01J')==1))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F,(I2R(GetHeroAgi(GetDyingUnit(),true))*13.))
else
if((GetUnitAbilityLevel(GetDyingUnit(),'A01J')==2))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F,(I2R(GetHeroAgi(GetDyingUnit(),true))*26.))
else
if((GetUnitAbilityLevel(GetDyingUnit(),'A01J')==3))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F,(I2R(GetHeroAgi(GetDyingUnit(),true))*39.))
else
endif
endif
endif
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,(GetHeroAgi(GetDyingUnit(),true)*(GetUnitAbilityLevel(GetDyingUnit(),'A01J')*10)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x235CA8AD,YDWEGetUnitsInRangeOfLocMatchingNull(850.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),Condition(function Trig_article_skill_2Func001Func009Func008003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x235CA8AD),function Trig_article_skill_2Func001Func009Func010A)
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),100,45.,.0,0)
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)),1.)
call SetTextTagPosUnit(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetDyingUnit(),-125.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_2Func001Func009Func016T)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x235CA8AD))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
if((LoadInteger(YDHT,GetHandleId(GetDyingUnit()),0xFA19F30A)==3))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetDyingUnit()))
call YDWETimerDestroyEffect(2.5,AddSpecialEffectLoc("war3mapImported\\szhb_1.mdx",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80)))
call YDWEPolledWaitNull(.7)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\szhb_2.mdx",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80)))
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\UDeathMedium\\UDeath.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80)))
if((GetUnitAbilityLevel(GetDyingUnit(),'A01J')==1))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F,(I2R(GetHeroInt(GetDyingUnit(),true))*13.))
else
if((GetUnitAbilityLevel(GetDyingUnit(),'A01J')==2))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F,(I2R(GetHeroInt(GetDyingUnit(),true))*26.))
else
if((GetUnitAbilityLevel(GetDyingUnit(),'A01J')==3))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F,(I2R(GetHeroInt(GetDyingUnit(),true))*39.))
else
endif
endif
endif
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,(GetHeroInt(GetDyingUnit(),true)*(GetUnitAbilityLevel(GetDyingUnit(),'A01J')*10)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x235CA8AD,YDWEGetUnitsInRangeOfLocMatchingNull(850.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),Condition(function Trig_article_skill_2Func001Func009Func009Func008003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x235CA8AD),function Trig_article_skill_2Func001Func009Func009Func009A)
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),100,45.,.0,0)
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)),1.)
call SetTextTagPosUnit(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetDyingUnit(),-125.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.02,true,function Trig_article_skill_2Func001Func009Func009Func015T)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x235CA8AD))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
else
endif
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
set ydl_timer=null
endfunction
function InitTrig_article_skill_2 takes nothing returns nothing
set gg_trg_article_skill_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_skill_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_article_skill_2,Condition(function Trig_article_skill_2Conditions))
call TriggerAddAction(gg_trg_article_skill_2,function Trig_article_skill_2Actions)
endfunction
function Trig_article_skill_3_4_13Func001003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetFilterUnit()))] == 1 ) ) )
endfunction
function Trig_article_skill_3_4_13Func002Func002Func002003003 takes nothing returns boolean
    return ( ( ( IsPlayerInForce(GetOwningPlayer(GetFilterUnit()), udg_group_of_players[0]) == true ) and ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) < GetUnitState(GetFilterUnit(), UNIT_STATE_MAX_LIFE) ) ) ) )
endfunction
function Trig_article_skill_3_4_13Func002Func002Func003A takes nothing returns nothing
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Demon\\DarkConversion\\ZombifyTarget.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())))
    if ( ( GetUnitPointValue(GetEnumUnit()) == 1 ) ) then
        call PlaySoundOnUnitBJ(gg_snd_zombi_heal, 65.00, GetEnumUnit())
    else
        if ( ( GetUnitPointValue(GetEnumUnit()) == 2 ) ) then
            call PlaySoundOnUnitBJ(gg_snd_zombi_heal_female, 65.00, GetEnumUnit())
        else
            if ( ( GetUnitPointValue(GetEnumUnit()) == 3 ) ) then
                call PlaySoundOnUnitBJ(gg_snd_zombi_heal_heavy, 100.00, GetEnumUnit())
            else
            endif
        endif
    endif
    if ( ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xC303079D)) == 'o004' ) ) then
        call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * ( 0.025 ) ) ))
    else
        if ( ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xC303079D)) == 'o003' ) ) then
            call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * 0.05 ) ))
        else
            if ( ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xC303079D)) == 'o001' ) ) then
                call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * 0.075 ) ))
            else
            endif
        endif
    endif
endfunction
function Trig_article_skill_3_4_13Func002A takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xC303079D, GetEnumUnit())
    if ( ( ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xC303079D)) == 'o004' ) or ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xC303079D)) == 'o003' ) or ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xC303079D)) == 'o001' ) ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x24C3BB80, GetUnitLoc(GetEnumUnit()))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5F1515B0, YDWEGetUnitsInRangeOfLocMatchingNull(350.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x24C3BB80) , Condition(function Trig_article_skill_3_4_13Func002Func002Func002003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5F1515B0), function Trig_article_skill_3_4_13Func002Func002Func003A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5F1515B0))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x24C3BB80))
    else
    endif
    if ( ( ( GetUnitAbilityLevel(GetEnumUnit(), 'A00K') >= 1 ) or ( GetUnitAbilityLevel(GetEnumUnit(), 'A01K') >= 1 ) or ( GetUnitAbilityLevel(GetEnumUnit(), 'A03N') >= 1 ) ) ) then
        if ( ( GetUnitAbilityLevel(GetEnumUnit(), 'A00K') >= 1 ) ) then
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF, ( ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) - GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) ) / ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * 0.05 ) ))
            call SetUnitAbilityLevel(GetEnumUnit(), 'A00K', ( R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF)) + 1 ))
            if ( ( UnitHasBuffBJ(GetEnumUnit(), 'Bbsk') == false ) ) then
                call SetUnitVertexColor(GetEnumUnit(), 255, ( 255 - R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF)) ), ( 255 - R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF)) ), 255)
            else
            endif
        else
            if ( ( GetUnitAbilityLevel(GetEnumUnit(), 'A01K') >= 1 ) ) then
                call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF, ( ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) - GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) ) / ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * 0.05 ) ))
                call SetUnitAbilityLevel(GetEnumUnit(), 'A01K', ( R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF)) + 1 ))
                if ( ( UnitHasBuffBJ(GetEnumUnit(), 'Bbsk') == false ) ) then
                    call SetUnitVertexColor(GetEnumUnit(), 255, ( 255 - R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF)) ), ( 255 - R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF)) ), 255)
                else
                endif
            else
                if ( ( GetUnitAbilityLevel(GetEnumUnit(), 'A03N') >= 1 ) ) then
                    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF, ( ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) - GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) ) / ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * 0.05 ) ))
                    call SetUnitAbilityLevel(GetEnumUnit(), 'A03N', ( R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF)) + 1 ))
                    if ( ( UnitHasBuffBJ(GetEnumUnit(), 'Bbsk') == false ) ) then
                        call SetUnitVertexColor(GetEnumUnit(), 255, ( 255 - R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF)) ), ( 255 - R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF)) ), 255)
                    else
                    endif
                else
                endif
            endif
        endif
    else
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_article_skill_3_4_13Func004Func001003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( YDWEUnitHasItemOfTypeBJNull(GetFilterUnit() , 'I04D') == true ) or ( YDWEUnitHasItemOfTypeBJNull(GetFilterUnit() , 'I04G') == true ) ) ) )
endfunction
function Trig_article_skill_3_4_13Func004Func002A takes nothing returns nothing
    call YDWEGeneralBounsSystemUnitSetBonus(GetEnumUnit() , 3 , 1 , R2I(LoadReal(YDHT, GetHandleId(GetEnumUnit()), 0x9151014B)))
    if ( ( GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) >= ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * 0.15 ) ) ) then
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF, ( GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) / 150.00 ))
        if ( ( ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * 0.15 ) <= GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) ) ) then
            call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) - ( GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * ( 0.002 ) ) ))
        else
        endif
        call YDWEGeneralBounsSystemUnitSetBonus(GetEnumUnit() , 3 , 0 , R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF)))
        call SaveReal(YDHT, GetHandleId(GetEnumUnit()), 0x9151014B, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x4BB7FBCF))
    else
        call SaveReal(YDHT, GetHandleId(GetEnumUnit()), 0x9151014B, 0.00)
    endif
endfunction
function Trig_article_skill_3_4_13Func004A takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x214C62CC, YDWEGetUnitsOfPlayerMatchingNull(GetEnumPlayer() , Condition(function Trig_article_skill_3_4_13Func004Func001003002)))
    call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x214C62CC), function Trig_article_skill_3_4_13Func004Func002A)
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x214C62CC))
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_article_skill_3_4_13Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
 set ydl_localvar_step=ydl_localvar_step + 3
 call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
 call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D881001, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_article_skill_3_4_13Func001003002)))
    call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D881001), function Trig_article_skill_3_4_13Func002A)
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D881001))
    call ForForce(udg_group_of_players[0], function Trig_article_skill_3_4_13Func004A)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_article_skill_3_4_13 takes nothing returns nothing
    set gg_trg_article_skill_3_4_13=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_article_skill_3_4_13, 0.50)
    call TriggerAddAction(gg_trg_article_skill_3_4_13, function Trig_article_skill_3_4_13Actions)
endfunction
function Trig_article_skill_5Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A01M'))
endfunction
function Trig_article_skill_5Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnit(GetOwningPlayer(GetTriggerUnit()),'o002',GetSpellTargetX(),GetSpellTargetY(),0))
call UnitApplyTimedLife(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),'BTLF',((I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A01M'))*180.)+.0))
call PlaySoundOnUnitBJ(gg_snd_RallyPointPlace1,90.,GetSpellAbilityUnit())
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_article_skill_5 takes nothing returns nothing
set gg_trg_article_skill_5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_skill_5,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_article_skill_5,Condition(function Trig_article_skill_5Conditions))
call TriggerAddAction(gg_trg_article_skill_5,function Trig_article_skill_5Actions)
endfunction
function Trig_article_skill_7Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A02I'))
endfunction
function Trig_article_skill_7Func001Func001Func001Func006T takes nothing returns nothing
if(((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))==false)or(UnitHasBuffBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'B006')==false)))then
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),3,1,R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)))
call UnitRemoveAbility(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'B006')
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_7Func001Func001Func007T takes nothing returns nothing
if(((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))==false)or(UnitHasBuffBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'B006')==false)))then
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),3,1,R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)))
call UnitRemoveAbility(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'B006')
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_7Func001Func007T takes nothing returns nothing
if(((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))==false)or(UnitHasBuffBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'B006')==false)))then
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),3,1,R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)))
call UnitRemoveAbility(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'B006')
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_7Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((GetUnitAbilityLevel(GetTriggerUnit(),'A02I')==1))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)-(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.15)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.15)/150.))
call SetUnitLifeBJ(GetTriggerUnit(),LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit(),3,0,R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetSpellAbilityUnit())
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call TimerStart(ydl_timer,.1,true,function Trig_article_skill_7Func001Func007T)
else
if((GetUnitAbilityLevel(GetTriggerUnit(),'A02I')==2))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)-(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.2)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.2)/125.))
call SetUnitLifeBJ(GetTriggerUnit(),LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit(),3,0,R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetSpellAbilityUnit())
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call TimerStart(ydl_timer,.1,true,function Trig_article_skill_7Func001Func001Func007T)
else
if((GetUnitAbilityLevel(GetTriggerUnit(),'A02I')==3))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)-(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.3)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.3)/100.))
call SetUnitLifeBJ(GetTriggerUnit(),LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2))
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit(),3,0,R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetSpellAbilityUnit())
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call TimerStart(ydl_timer,.1,true,function Trig_article_skill_7Func001Func001Func001Func006T)
else
endif
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_article_skill_7 takes nothing returns nothing
set gg_trg_article_skill_7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_skill_7,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_article_skill_7,Condition(function Trig_article_skill_7Conditions))
call TriggerAddAction(gg_trg_article_skill_7,function Trig_article_skill_7Actions)
endfunction
function Trig_article_skill_10Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A03G'))
endfunction
function Trig_article_skill_10Actions takes nothing returns nothing
local integer ydul_i
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7,GetSpellAbilityUnit())
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h01J',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A03G'))*3000.))
set ydul_i=1
loop
exitwhen ydul_i>12
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),15.,((30.)*(I2R(ydul_i)))))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA26B8F90,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),15.,((60.)*(I2R(ydul_i)))))
call SaveGroupHandle(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),0xA7DE81F2,CreateGroup())
call SaveLightningHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2D1E4992,AddLightning("AFOD",true,GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4)),GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA26B8F90)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA26B8F90))))
call YDWETimerDestroyLightning(.05,LoadLightningHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2D1E4992))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA26B8F90))
set ydul_i=ydul_i+1
endloop
call SaveUnitHandle(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),0x06019743,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))
call SaveBoolean(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),0x312C4181,true)
call SaveReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),0xFB6E8B46,.0)
if((IsUnitGroupEmptyBJ(udg_group_mcdw)==true))then
call EnableTrigger(gg_trg_article_skill_10_fz2)
else
endif
call GroupAddUnit(udg_group_mcdw,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
set ydul_i=1
loop
exitwhen ydul_i>12
call SetPlayerAbilityAvailable(ConvertedPlayer(ydul_i),'A03G',false)
set ydul_i=ydul_i+1
endloop
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_article_skill_10 takes nothing returns nothing
set gg_trg_article_skill_10=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_skill_10,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_article_skill_10,Condition(function Trig_article_skill_10Conditions))
call TriggerAddAction(gg_trg_article_skill_10,function Trig_article_skill_10Actions)
endfunction
function Trig_article_skill_10_fz1Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A03O'))
endfunction
function Trig_article_skill_10_fz1Actions takes nothing returns nothing
local integer ydul_i
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7,LoadUnitHandle(YDHT,GetHandleId(GetSpellAbilityUnit()),0xFA076041))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(GetSpellTargetUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h01J',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0))
set ydul_i=1
loop
exitwhen ydul_i>12
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),15.,((30.)*(I2R(ydul_i)))))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA26B8F90,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),15.,((60.)*(I2R(ydul_i)))))
call SaveLightningHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2D1E4992,AddLightning("CLPB",true,GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4)),GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA26B8F90)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA26B8F90))))
call YDWETimerDestroyLightning(.05,LoadLightningHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2D1E4992))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA26B8F90))
set ydul_i=ydul_i+1
endloop
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call SaveUnitHandle(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),0x06019743,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))
call SaveReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),0xFB6E8B46,.0)
if((IsUnitGroupEmptyBJ(udg_group_mcdw)==true))then
call EnableTrigger(gg_trg_article_skill_10_fz2)
else
endif
call GroupAddUnit(udg_group_mcdw,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_article_skill_10_fz1 takes nothing returns nothing
set gg_trg_article_skill_10_fz1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_skill_10_fz1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_article_skill_10_fz1,Condition(function Trig_article_skill_10_fz1Conditions))
call TriggerAddAction(gg_trg_article_skill_10_fz1,function Trig_article_skill_10_fz1Actions)
endfunction
function Trig_article_skill_10_fz2Func001Func001Func001Func005003003 takes nothing returns boolean
return((GetFilterUnit()==LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x2D5DEA42)))
endfunction
function Trig_article_skill_10_fz2Func001Func001Func001Func014003003 takes nothing returns boolean
return(((((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IsUnitPausedBJ(GetFilterUnit())!=true))and(IsUnitInGroup(GetFilterUnit(),LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))!=true))and((GetFilterUnit()!=LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x2D5DEA42))and((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)or(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true)))))
endfunction
function Trig_article_skill_10_fz2Func001Func001Func001Func015A takes nothing returns nothing
call GroupAddUnit(udg_group_mc,GetEnumUnit())
call GroupAddUnit(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB),GetEnumUnit())
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB0FD2C34,GetUnitLoc(GetEnumUnit()))
call CreateNUnitsAtLoc(1,'h00J',GetOwningPlayer(GetEnumUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB0FD2C34),bj_UNIT_FACING)
call SaveUnitHandle(YDHT,GetHandleId(bj_lastCreatedUnit),0xFA076041,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x2D5DEA42))
call IssueTargetOrder(bj_lastCreatedUnit,"innerfire",GetEnumUnit())
call YDWETimerRemoveUnit(.2,bj_lastCreatedUnit)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB0FD2C34))
endfunction
function Trig_article_skill_10_fz2Func001Func001A takes nothing returns nothing
local integer ydul_i
local group ydl_group
local unit ydl_unit
if((LoadBoolean(YDHT,GetHandleId(GetEnumUnit()),0x312C4181)==true))then
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46,(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46)+50.))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x2D5DEA42,LoadUnitHandle(YDHT,GetHandleId(GetEnumUnit()),0x06019743))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80,GetUnitLoc(GetEnumUnit()))
set ydul_i=1
loop
exitwhen ydul_i>12
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80),LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46),((30.)*(I2R(ydul_i)))))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80),LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46),((((30.)*(I2R(ydul_i))))+(30.))))
call SaveLightningHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB259B269,AddLightning("AFOD",false,GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476)),GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))))
call SetLightningColor(LoadLightningHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB259B269),1,1,1,(1.-((LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46)*(.008))/I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x2D5DEA42),'A03G')))))
call YDWETimerDestroyLightning(.1,LoadLightningHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB259B269))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
set ydul_i=ydul_i+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB,LoadGroupHandle(YDHT,GetHandleId(GetEnumUnit()),0xA7DE81F2))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80),Condition(function Trig_article_skill_10_fz2Func001Func001Func001Func014003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC),function Trig_article_skill_10_fz2Func001Func001Func001Func015A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80))
if((LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46)>=LoadReal(YDHT,GetHandleId(GetEnumUnit()),0x4BB7FBCF)))then
call GroupRemoveUnit(udg_group_mcdw,GetEnumUnit())
call GroupClear(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))
call FlushChildHashtable(YDHT,GetHandleId(GetEnumUnit()))
call RemoveUnit(GetEnumUnit())
else
endif
else
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46,(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46)+70.))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x2D5DEA42,LoadUnitHandle(YDHT,GetHandleId(GetEnumUnit()),0x06019743))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80,GetUnitLoc(GetEnumUnit()))
set ydul_i=1
loop
exitwhen ydul_i>12
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80),LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46),((30.)*(I2R(ydul_i)))))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80),LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46),((((30.)*(I2R(ydul_i))))+(30.))))
call SaveLightningHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB259B269,AddLightning("CLPB",false,GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476)),GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))))
call SetLightningColor(LoadLightningHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB259B269),1,1,1,(1.-((LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46)*(.008))/I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x2D5DEA42),'A03G')))))
call YDWETimerDestroyLightning(.1,LoadLightningHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB259B269))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
set ydul_i=ydul_i+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80),Condition(function Trig_article_skill_10_fz2Func001Func001Func001Func005003003)))
if((IsUnitGroupEmptyBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))==false))then
call GroupRemoveUnit(udg_group_mc,GetEnumUnit())
call GroupRemoveUnit(udg_group_mcdw,GetEnumUnit())
call FlushChildHashtable(YDHT,GetHandleId(GetEnumUnit()))
call RemoveUnit(GetEnumUnit())
else
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80))
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_article_skill_10_fz2Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydul_i
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((IsUnitGroupEmptyBJ(udg_group_mcdw)==false))then
call ForGroupBJ(udg_group_mcdw,function Trig_article_skill_10_fz2Func001Func001A)
else
call GroupClear(udg_group_mcdw)
call DisableTrigger(GetTriggeringTrigger())
set ydul_i=1
loop
exitwhen ydul_i>12
call SetPlayerAbilityAvailable(ConvertedPlayer(ydul_i),'A03G',true)
set ydul_i=ydul_i+1
endloop
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_article_skill_10_fz2 takes nothing returns nothing
set gg_trg_article_skill_10_fz2=CreateTrigger()
call DisableTrigger(gg_trg_article_skill_10_fz2)
call TriggerRegisterTimerEventPeriodic(gg_trg_article_skill_10_fz2,.1)
call TriggerAddAction(gg_trg_article_skill_10_fz2,function Trig_article_skill_10_fz2Actions)
endfunction
function Trig_article_skill_11Func001003002 takes nothing returns boolean
return(((GetUnitPointValue(GetFilterUnit())==50)and((IsUnitAliveBJ(GetFilterUnit())==true)and((YDWEUnitHasItemOfTypeBJNull(GetFilterUnit(),'I02Q')==true)or((YDWEUnitHasItemOfTypeBJNull(GetFilterUnit(),'I02W')==true)or(YDWEUnitHasItemOfTypeBJNull(GetFilterUnit(),'I02Y')==true))))))
endfunction
function Trig_article_skill_11Func002A takes nothing returns nothing
local integer ydul_i
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,.0)
set ydul_i=1
loop
exitwhen ydul_i>6
if((GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),ydul_i))=='I02Q'))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)+(.0025)))
else
endif
if((GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),ydul_i))=='I02W'))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)+(.0045)))
else
endif
if((GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),ydul_i))=='I02Y'))then
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)+(.0085)))
else
endif
set ydul_i=ydul_i+1
endloop
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,(GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)))
if((GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)))then
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF)))
else
endif
endfunction
function Trig_article_skill_11Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydul_i
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect(),Condition(function Trig_article_skill_11Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_article_skill_11Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_article_skill_11 takes nothing returns nothing
set gg_trg_article_skill_11=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_article_skill_11,.5)
call TriggerAddAction(gg_trg_article_skill_11,function Trig_article_skill_11Actions)
endfunction
function Trig_article_skill_12Conditions takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true)and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)and(GetUnitAbilityLevel(GetAttacker(),'A066')>=1))
endfunction
function Trig_article_skill_12Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0xB5200309,(LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0xB5200309)+(I2R(GetUnitAbilityLevel(GetAttacker(),'A066'))*.2)))
call SaveReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x505C3CC8,3.)
if((LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0xB5200309)>=1.))then
call YDWEGeneralBounsSystemUnitSetBonus(GetAttackedUnitBJ(),2,0,R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5388C4AC)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(GetUnitState(GetAttackedUnitBJ(),ConvertUnitState(0x20))*(I2R(GetUnitAbilityLevel(GetAttacker(),'A066'))*.15)))
if((LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)>LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x868F0A7C)))then
call SaveReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x868F0A7C,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
else
endif
call YDWEGeneralBounsSystemUnitSetBonus(GetAttackedUnitBJ(),2,1,R2I(LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x5388C4AC)))
if((LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x5388C4AC)<LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x868F0A7C)))then
call YDWEGeneralBounsSystemUnitSetBonus(GetAttackedUnitBJ(),2,1,1)
call SaveReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x5388C4AC,(LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0x5388C4AC)+1.))
else
call SaveReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0xB5200309,(LoadReal(YDHT,GetHandleId(GetAttackedUnitBJ()),0xB5200309)-1.))
endif
else
endif
if((IsUnitGroupEmptyBJ(udg_group_xrzs)==true))then
call EnableTrigger(gg_trg_article_skill_12_fz)
else
endif
if((IsUnitInGroup(GetAttackedUnitBJ(),udg_group_xrzs)==false))then
call GroupAddUnit(udg_group_xrzs,GetAttackedUnitBJ())
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_article_skill_12 takes nothing returns nothing
set gg_trg_article_skill_12=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_skill_12,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_article_skill_12,Condition(function Trig_article_skill_12Conditions))
call TriggerAddAction(gg_trg_article_skill_12,function Trig_article_skill_12Actions)
endfunction
function Trig_article_skill_12_fzFunc001Func002A takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0x505C3CC8,(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0x505C3CC8)-.25))
if((LoadReal(YDHT,GetHandleId(GetEnumUnit()),0x505C3CC8)<=.0))then
call YDWEGeneralBounsSystemUnitSetBonus(GetEnumUnit(),2,0,R2I(LoadReal(YDHT,GetHandleId(GetEnumUnit()),0x5388C4AC)))
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0x505C3CC8,.0)
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0xB5200309,.0)
call SaveReal(YDHT,GetHandleId(GetEnumUnit()),0x5388C4AC,.0)
call GroupRemoveUnit(udg_group_xrzs,GetEnumUnit())
else
endif
endfunction
function Trig_article_skill_12_fzActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if((IsUnitGroupEmptyBJ(udg_group_xrzs)==false))then
call ForGroupBJ(udg_group_xrzs,function Trig_article_skill_12_fzFunc001Func002A)
else
call DisableTrigger(GetTriggeringTrigger())
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_article_skill_12_fz takes nothing returns nothing
set gg_trg_article_skill_12_fz=CreateTrigger()
call DisableTrigger(gg_trg_article_skill_12_fz)
call TriggerRegisterTimerEventPeriodic(gg_trg_article_skill_12_fz,.25)
call TriggerAddAction(gg_trg_article_skill_12_fz,function Trig_article_skill_12_fzActions)
endfunction
function Trig_article_skill_16Conditions takes nothing returns boolean
return((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]==1)and(IsUnitType(GetManipulatingUnit(),UNIT_TYPE_HERO)==true)and(IsUnitAliveBJ(GetManipulatingUnit())==true)and(GetItemTypeId(GetManipulatedItem())=='I04I'))
endfunction
function Trig_article_skill_16Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((LoadBoolean(YDHT,GetHandleId(GetOwningPlayer(GetManipulatingUnit())),0x9DB7EBAB)==false))then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetManipulatingUnit())),0x9DB7EBAB,true)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,GetRandomInt(1,5))
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)==1))then
call UnitAddItemByIdSwapped('pnvl',GetManipulatingUnit())
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)==2))then
call UnitAddItemByIdSwapped('I00A',GetManipulatingUnit())
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)==3))then
call UnitAddItemByIdSwapped('I00F',GetManipulatingUnit())
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)==4))then
call UnitAddItemByIdSwapped('I01P',GetManipulatingUnit())
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)==5))then
call UnitAddItemByIdSwapped('I04A',GetManipulatingUnit())
else
endif
endif
endif
endif
endif
else
call PlaySoundBJ(gg_snd_a__ou)
call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call YDWEPolledWaitNull(.2)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"你已经抽过一次奖了！")
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_article_skill_16 takes nothing returns nothing
set gg_trg_article_skill_16=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_skill_16,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_article_skill_16,Condition(function Trig_article_skill_16Conditions))
call TriggerAddAction(gg_trg_article_skill_16,function Trig_article_skill_16Actions)
endfunction
function Trig_article_skill_CDConditions takes nothing returns boolean
return((IsUnitType(GetSpellAbilityUnit(),UNIT_TYPE_HERO)==true)and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(LoadReal(YDHT,GetSpellAbilityId(),0x3B60835B)>.0))
endfunction
function Trig_article_skill_CDFunc003Func001Func001Func004T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)-.5))
if(((LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)==null)or(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)<=.0)))then
call SetItemDroppable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SetItemPawnable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,.0)
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2,.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_CDFunc003Func001Func005T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)-.5))
if(((LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)==null)or(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)<=.0)))then
call SetItemDroppable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SetItemPawnable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,.0)
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2,.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_CDFunc003Func005T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)-.5))
if(((LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)==null)or(LoadReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997)<=.0)))then
call SetItemDroppable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SetItemPawnable(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB),true)
call SaveReal(YDHT,GetHandleId(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB)),0x22709997,.0)
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2,.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_article_skill_CDActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((LoadReal(YDHT,GetHandleId(GetEnumUnit()),0xFB6E8B46)>=9000.))then
call GroupRemoveUnit(udg_group_mcdw,GetEnumUnit())
call RemoveUnit(GetEnumUnit())
else
endif
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC,GetSpellAbilityId())
if((GetUnitAbilityLevel(GetSpellAbilityUnit(),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC))==1))then
call SetItemDroppable(YDWEGetItemOfTypeFromUnitBJNull(GetSpellAbilityUnit(),LoadInteger(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0x24D4688D)),false)
call SetItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),GetItemTypeId(LoadItemHandle(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0x24D4688D))),false)
call SaveReal(YDHT,GetHandleId(YDWEGetItemOfTypeFromUnitBJNull(GetSpellAbilityUnit(),LoadInteger(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0x24D4688D))),0x22709997,LoadReal(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0x3B60835B))
set ydl_timer=CreateTimer()
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,YDWEGetItemOfTypeFromUnitBJNull(GetSpellAbilityUnit(),LoadInteger(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0x24D4688D)))
call TimerStart(ydl_timer,.5,true,function Trig_article_skill_CDFunc003Func005T)
else
if((GetUnitAbilityLevel(GetSpellAbilityUnit(),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC))==2))then
call SetItemDroppable(YDWEGetItemOfTypeFromUnitBJNull(GetSpellAbilityUnit(),LoadInteger(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0x70432FFB)),false)
call SetItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),GetItemTypeId(LoadItemHandle(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0x70432FFB))),false)
call SaveReal(YDHT,GetHandleId(YDWEGetItemOfTypeFromUnitBJNull(GetSpellAbilityUnit(),LoadInteger(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0x70432FFB))),0x22709997,LoadReal(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0x3B60835B))
set ydl_timer=CreateTimer()
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,YDWEGetItemOfTypeFromUnitBJNull(GetSpellAbilityUnit(),LoadInteger(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0x70432FFB)))
call TimerStart(ydl_timer,.5,true,function Trig_article_skill_CDFunc003Func001Func005T)
else
if((GetUnitAbilityLevel(GetSpellAbilityUnit(),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC))==3))then
call SetItemDroppable(YDWEGetItemOfTypeFromUnitBJNull(GetSpellAbilityUnit(),LoadInteger(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0xC7D70C5B)),false)
call SetItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),GetItemTypeId(LoadItemHandle(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0xC7D70C5B))),false)
call SaveReal(YDHT,GetHandleId(YDWEGetItemOfTypeFromUnitBJNull(GetSpellAbilityUnit(),LoadInteger(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0xC7D70C5B))),0x22709997,LoadReal(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0x3B60835B))
set ydl_timer=CreateTimer()
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,YDWEGetItemOfTypeFromUnitBJNull(GetSpellAbilityUnit(),LoadInteger(YDHT,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC),0xC7D70C5B)))
call TimerStart(ydl_timer,.5,true,function Trig_article_skill_CDFunc003Func001Func001Func004T)
else
endif
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_article_skill_CD takes nothing returns nothing
set gg_trg_article_skill_CD=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_skill_CD,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_article_skill_CD,Condition(function Trig_article_skill_CDConditions))
call TriggerAddAction(gg_trg_article_skill_CD,function Trig_article_skill_CDActions)
endfunction
function Trig_Ashenvale_wav_1Actions takes nothing returns nothing
call PlaySoundBJ(gg_snd_FreakyForest1)
call YDWEPolledWaitNull((3.135))
call PlaySoundBJ(gg_snd_FreakyForest2)
call YDWEPolledWaitNull((3.901))
call PlaySoundBJ(gg_snd_FreakyForest3)
call YDWEPolledWaitNull((4.83))
call PlaySoundBJ(gg_snd_FreakyForest4)
endfunction
function InitTrig_Ashenvale_wav_1 takes nothing returns nothing
set gg_trg_Ashenvale_wav_1=CreateTrigger()
call DisableTrigger(gg_trg_Ashenvale_wav_1)
call TriggerRegisterTimerEventPeriodic(gg_trg_Ashenvale_wav_1,17.12)
call TriggerAddAction(gg_trg_Ashenvale_wav_1,function Trig_Ashenvale_wav_1Actions)
endfunction
function Trig_Ashenvale_wav_2Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,GetRandomInt(1,3))
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==1))then
call PlaySoundBJ(gg_snd_FrostmourneChant1)
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==2))then
call PlaySoundBJ(gg_snd_FlashBack1Second)
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)==3))then
call PlaySoundBJ(gg_snd_FlashBackHalfSecondSecond)
else
endif
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Ashenvale_wav_2 takes nothing returns nothing
set gg_trg_Ashenvale_wav_2=CreateTrigger()
call DisableTrigger(gg_trg_Ashenvale_wav_2)
call TriggerRegisterTimerEventPeriodic(gg_trg_Ashenvale_wav_2,GetRandomReal(10.,30.))
call TriggerAddAction(gg_trg_Ashenvale_wav_2,function Trig_Ashenvale_wav_2Actions)
endfunction
function Trig_The_deep_upgradeActions takes nothing returns nothing
call AddPlayerTechResearched(Player(PLAYER_NEUTRAL_PASSIVE),'R00Y',1)
endfunction
function InitTrig_The_deep_upgrade takes nothing returns nothing
set gg_trg_The_deep_upgrade=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_The_deep_upgrade,200.)
call TriggerAddAction(gg_trg_The_deep_upgrade,function Trig_The_deep_upgradeActions)
endfunction
function Trig_Down_attackConditions takes nothing returns boolean
return((IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)==true)and(IsUnitAliveBJ(GetEventDamageSource())==true)and(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==true)and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]==1))
endfunction
function Trig_Down_attackFunc001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_PEON)==true)))
endfunction
function Trig_Down_attackActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetKillingUnitBJ()),Condition(function Trig_Down_attackFunc001003002)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB)))
if((YDWEUnitHasItemOfTypeBJNull(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),'lhst')==true))then
call EXSetEventDamage((((GetEventDamage()*.85))*1.))
else
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Down_attack takes nothing returns nothing
set gg_trg_Down_attack=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Down_attack)
call TriggerAddCondition(gg_trg_Down_attack,Condition(function Trig_Down_attackConditions))
call TriggerAddAction(gg_trg_Down_attack,function Trig_Down_attackActions)
endfunction
function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func001Func001Func001Func001Func001Func005A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
endfunction
function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func001Func001Func001Func001Func005A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
endfunction
function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func001Func001Func001Func005A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
endfunction
function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func001Func001Func005A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
endfunction
function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func001Func005A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
endfunction
function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func005A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
endfunction
function Trig_Reinforcement_of_forces_uFunc002Func001Func005A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
endfunction
function Trig_Reinforcement_of_forces_uFunc002Func005A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
endfunction
function Trig_Reinforcement_of_forces_uActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0xC303079D))
if((IsUnitGroupEmptyBJ(udg_group_rf[0])==false))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Reinforcement_of_forces_uFunc002Func005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7,FirstOfGroup(udg_group_rf[0]))
call CreateNUnitsAtLoc(1,'h03W',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),GetRandomDirectionDeg())
call SetUnitUserData(bj_lastCreatedUnit,GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))))
call SetUnitOwner(bj_lastCreatedUnit,Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
call YDWEFlyEnable(bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,2000.,1000000000.)
call SetUnitFlyHeight(bj_lastCreatedUnit,.0,5000.)
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call GroupRemoveUnit(udg_group_rf[0],LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
if((IsUnitGroupEmptyBJ(udg_group_rf[0])==true))then
call GroupClear(udg_group_rf[0])
else
endif
else
if((IsUnitGroupEmptyBJ(udg_group_rf[1])==false))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Reinforcement_of_forces_uFunc002Func001Func005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7,FirstOfGroup(udg_group_rf[1]))
call CreateNUnitsAtLoc(1,'h03Y',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),GetRandomDirectionDeg())
call SetUnitUserData(bj_lastCreatedUnit,GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))))
call SetUnitOwner(bj_lastCreatedUnit,Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
call YDWEFlyEnable(bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,2000.,1000000000.)
call SetUnitFlyHeight(bj_lastCreatedUnit,.0,5000.)
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call GroupRemoveUnit(udg_group_rf[1],LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
if((IsUnitGroupEmptyBJ(udg_group_rf[1])==true))then
call GroupClear(udg_group_rf[1])
else
endif
else
if((IsUnitGroupEmptyBJ(udg_group_rf[2])==false))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7,FirstOfGroup(udg_group_rf[2]))
call CreateNUnitsAtLoc(1,'h040',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),GetRandomDirectionDeg())
call SetUnitUserData(bj_lastCreatedUnit,GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))))
call SetUnitOwner(bj_lastCreatedUnit,Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
call YDWEFlyEnable(bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,2000.,1000000000.)
call SetUnitFlyHeight(bj_lastCreatedUnit,.0,5000.)
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call GroupRemoveUnit(udg_group_rf[2],LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))
if((IsUnitGroupEmptyBJ(udg_group_rf[2])==true))then
call GroupClear(udg_group_rf[2])
else
endif
else
if((IsUnitGroupEmptyBJ(udg_group_rf[3])==false))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func001Func005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7,FirstOfGroup(udg_group_rf[3]))
call CreateNUnitsAtLoc(1,'h042',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),GetRandomDirectionDeg())
call SetUnitUserData(bj_lastCreatedUnit,GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))))
call SetUnitOwner(bj_lastCreatedUnit,Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
call YDWEFlyEnable(bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,2000.,1000000000.)
call SetUnitFlyHeight(bj_lastCreatedUnit,.0,5000.)
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call GroupRemoveUnit(udg_group_rf[3],LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))
if((IsUnitGroupEmptyBJ(udg_group_rf[3])==true))then
call GroupClear(udg_group_rf[3])
else
endif
else
if((IsUnitGroupEmptyBJ(udg_group_rf[4])==false))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func001Func001Func005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7,FirstOfGroup(udg_group_rf[4]))
call CreateNUnitsAtLoc(1,'h044',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),GetRandomDirectionDeg())
call SetUnitUserData(bj_lastCreatedUnit,GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))))
call SetUnitOwner(bj_lastCreatedUnit,Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
call YDWEFlyEnable(bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,2000.,1000000000.)
call SetUnitFlyHeight(bj_lastCreatedUnit,.0,5000.)
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call GroupRemoveUnit(udg_group_rf[4],LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
if((IsUnitGroupEmptyBJ(udg_group_rf[4])==true))then
call GroupClear(udg_group_rf[4])
else
endif
else
if((IsUnitGroupEmptyBJ(udg_group_rf[5])==false))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func001Func001Func001Func005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7,FirstOfGroup(udg_group_rf[5]))
call CreateNUnitsAtLoc(1,'h047',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),GetRandomDirectionDeg())
call SetUnitUserData(bj_lastCreatedUnit,GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))))
call SetUnitOwner(bj_lastCreatedUnit,Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
call YDWEFlyEnable(bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,2000.,1000000000.)
call SetUnitFlyHeight(bj_lastCreatedUnit,.0,5000.)
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call GroupRemoveUnit(udg_group_rf[5],LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
if((IsUnitGroupEmptyBJ(udg_group_rf[5])==true))then
call GroupClear(udg_group_rf[5])
else
endif
else
if((IsUnitGroupEmptyBJ(udg_group_rf[6])==false))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func001Func001Func001Func001Func005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7,FirstOfGroup(udg_group_rf[6]))
call CreateNUnitsAtLoc(1,'h048',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),GetRandomDirectionDeg())
call SetUnitUserData(bj_lastCreatedUnit,GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))))
call SetUnitOwner(bj_lastCreatedUnit,Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
call YDWEFlyEnable(bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,2000.,1000000000.)
call SetUnitFlyHeight(bj_lastCreatedUnit,.0,5000.)
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call GroupRemoveUnit(udg_group_rf[6],LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
if((IsUnitGroupEmptyBJ(udg_group_rf[6])==true))then
call GroupClear(udg_group_rf[6])
else
endif
else
if((IsUnitGroupEmptyBJ(udg_group_rf[7])==false))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Reinforcement_of_forces_uFunc002Func001Func001Func001Func001Func001Func001Func001Func005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7,FirstOfGroup(udg_group_rf[7]))
call CreateNUnitsAtLoc(1,'h04A',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7)),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),GetRandomDirectionDeg())
call SetUnitUserData(bj_lastCreatedUnit,GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))))
call SetUnitOwner(bj_lastCreatedUnit,Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
call YDWEFlyEnable(bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,2000.,1000000000.)
call SetUnitFlyHeight(bj_lastCreatedUnit,.0,5000.)
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call GroupRemoveUnit(udg_group_rf[7],LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
if((IsUnitGroupEmptyBJ(udg_group_rf[7])==true))then
call GroupClear(udg_group_rf[7])
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
endif
endif
endif
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Reinforcement_of_forces_u takes nothing returns nothing
set gg_trg_Reinforcement_of_forces_u=CreateTrigger()
call DisableTrigger(gg_trg_Reinforcement_of_forces_u)
call TriggerRegisterTimerEventPeriodic(gg_trg_Reinforcement_of_forces_u,.3)
call TriggerAddAction(gg_trg_Reinforcement_of_forces_u,function Trig_Reinforcement_of_forces_uActions)
endfunction
function Trig_Reinforcement_of_forces_fzFunc001003002 takes nothing returns boolean
return(((GetUnitPointValue(GetFilterUnit())==10)and(IsUnitAliveBJ(GetFilterUnit())==true)))
endfunction
function Trig_Reinforcement_of_forces_fzActions takes nothing returns nothing
local integer ydul_i
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect(),Condition(function Trig_Reinforcement_of_forces_fzFunc001003002)))
if((IsUnitGroupEmptyBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))==false))then
call PlaySoundBJ(gg_snd_zombi_box)
set ydul_i=1
loop
exitwhen ydul_i>12
call DisplayTimedTextToPlayer(ConvertedPlayer(ydul_i),0,0,30,"人类此波兵力增员已到达，请各位ZB做好准备！！~~")
set ydul_i=ydul_i+1
endloop
call SaveUnitHandle(YDHT,GetHandleId(gg_trg_Reinforcement_of_forces_u),0xC303079D,GroupPickRandomUnit(udg_group_both))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(gg_trg_Reinforcement_of_forces_u),0xC303079D)))
call AddIndicator(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),0,255,125,255)
set udg_group_rf[0]=YDWEGetUnitsOfTypeIdAllNull('h03V')
set udg_group_rf[1]=YDWEGetUnitsOfTypeIdAllNull('h03X')
set udg_group_rf[2]=YDWEGetUnitsOfTypeIdAllNull('h03Z')
set udg_group_rf[3]=YDWEGetUnitsOfTypeIdAllNull('h041')
set udg_group_rf[4]=YDWEGetUnitsOfTypeIdAllNull('h043')
set udg_group_rf[5]=YDWEGetUnitsOfTypeIdAllNull('h045')
set udg_group_rf[6]=YDWEGetUnitsOfTypeIdAllNull('h046')
set udg_group_rf[7]=YDWEGetUnitsOfTypeIdAllNull('h049')
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call EnableTrigger(gg_trg_Reinforcement_of_forces_u)
else
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Reinforcement_of_forces_fz takes nothing returns nothing
set gg_trg_Reinforcement_of_forces_fz=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Reinforcement_of_forces_fz,75.)
call TriggerAddAction(gg_trg_Reinforcement_of_forces_fz,function Trig_Reinforcement_of_forces_fzActions)
endfunction
function Trig_Reinforcement_of_forces_fz1Func002Func002A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
endfunction
function Trig_Reinforcement_of_forces_fz1Func002A takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsOfTypeIdAllNull('n006'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC),function Trig_Reinforcement_of_forces_fz1Func002Func002A)
call IssuePointOrderLoc(GetEnumUnit(),"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Reinforcement_of_forces_fz1Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB,(YDWEGetUnitsOfPlayerMatchingNull((Player(PLAYER_NEUTRAL_AGGRESSIVE)),null)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB),function Trig_Reinforcement_of_forces_fz1Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xD42855DB))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Reinforcement_of_forces_fz1 takes nothing returns nothing
set gg_trg_Reinforcement_of_forces_fz1=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Reinforcement_of_forces_fz1,5.)
call TriggerAddAction(gg_trg_Reinforcement_of_forces_fz1,function Trig_Reinforcement_of_forces_fz1Actions)
endfunction
function Trig_Reinforcement_of_forces_fz2Conditions takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='n006')and((IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_PEON)==true)or(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==true)))
endfunction
function Trig_Reinforcement_of_forces_fz2Actions takes nothing returns nothing
call IssueImmediateOrder(GetAttacker(),"stop")
endfunction
function InitTrig_Reinforcement_of_forces_fz2 takes nothing returns nothing
set gg_trg_Reinforcement_of_forces_fz2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Reinforcement_of_forces_fz2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Reinforcement_of_forces_fz2,Condition(function Trig_Reinforcement_of_forces_fz2Conditions))
call TriggerAddAction(gg_trg_Reinforcement_of_forces_fz2,function Trig_Reinforcement_of_forces_fz2Actions)
endfunction
function Trig_Human_building_skill_1Func002Func001Func003003003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))==true))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))==true))))
endfunction
function Trig_Human_building_skill_1Func002A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(600.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),Condition(function Trig_Human_building_skill_1Func002Func001Func003003003)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D,GroupPickRandomUnit(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))
call IssuePointOrderLoc(GetEnumUnit(),"clusterrockets",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
else
endif
endfunction
function Trig_Human_building_skill_1Func005Func001Func003003003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))==true))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))==true))))
endfunction
function Trig_Human_building_skill_1Func005A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(600.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),Condition(function Trig_Human_building_skill_1Func005Func001Func003003003)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D,GroupPickRandomUnit(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))
call IssuePointOrderLoc(GetEnumUnit(),"clusterrockets",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
else
endif
endfunction
function Trig_Human_building_skill_1Func008Func001Func003003003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))==true))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))==true))))
endfunction
function Trig_Human_building_skill_1Func008A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(600.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),Condition(function Trig_Human_building_skill_1Func008Func001Func003003003)))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D,GroupPickRandomUnit(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))
call IssuePointOrderLoc(GetEnumUnit(),"clusterrockets",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
else
endif
endfunction
function Trig_Human_building_skill_1Func011A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true))then
call IssueImmediateOrder(GetEnumUnit(),"fanofknives")
else
endif
endfunction
function Trig_Human_building_skill_1Func014A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true))then
call IssueImmediateOrder(GetEnumUnit(),"fanofknives")
else
endif
endfunction
function Trig_Human_building_skill_1Func017A takes nothing returns nothing
if((IsUnitAliveBJ(GetEnumUnit())==true))then
call IssueImmediateOrder(GetEnumUnit(),"fanofknives")
else
endif
endfunction
function Trig_Human_building_skill_1Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964,YDWEGetUnitsOfTypeIdAllNull('h04C'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964),function Trig_Human_building_skill_1Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964,YDWEGetUnitsOfTypeIdAllNull('h04H'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964),function Trig_Human_building_skill_1Func005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964,YDWEGetUnitsOfTypeIdAllNull('h04K'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964),function Trig_Human_building_skill_1Func008A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964,YDWEGetUnitsOfTypeIdAllNull('h04D'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964),function Trig_Human_building_skill_1Func011A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964,YDWEGetUnitsOfTypeIdAllNull('h04G'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964),function Trig_Human_building_skill_1Func014A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964,YDWEGetUnitsOfTypeIdAllNull('h04J'))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964),function Trig_Human_building_skill_1Func017A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4F907964))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Human_building_skill_1 takes nothing returns nothing
set gg_trg_Human_building_skill_1=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Human_building_skill_1,.5)
call TriggerAddAction(gg_trg_Human_building_skill_1,function Trig_Human_building_skill_1Actions)
endfunction
function Trig_Human_building_1Conditions takes nothing returns boolean
return((IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==true)and(IsUnitType(GetEventDamageSource(),UNIT_TYPE_PEON)==true)and(GetOwningPlayer(GetAttackedUnitBJ())==GetOwningPlayer(GetEventDamageSource())))
endfunction
function Trig_Human_building_1Actions takes nothing returns nothing
call KillUnit(GetAttackedUnitBJ())
call YDWETimerRemoveUnit(5.,GetAttackedUnitBJ())
endfunction
function InitTrig_Human_building_1 takes nothing returns nothing
set gg_trg_Human_building_1=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Human_building_1)
call TriggerAddCondition(gg_trg_Human_building_1,Condition(function Trig_Human_building_1Conditions))
call TriggerAddAction(gg_trg_Human_building_1,function Trig_Human_building_1Actions)
endfunction
function Trig_Zombi_skill_updateFunc001A takes nothing returns nothing
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D,LoadUnitHandle(YDHT,GetHandleId(GetEnumPlayer()),0xE6E64075))
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H002')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H003')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H004')))then
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000')==1))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),ConvertUnitState(0x15))*.2)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("让该僵尸发狂，增加40%的攻击速度和125|cffff6600(+"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+")|r的攻击力，但是同时自己承受额外50%的伤害。|n|n|cff99ccff持续时间：|r9秒|n|cff99ccff冷却时间：|r40秒")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n攻击速度提升 40%→50%|n攻击力基础   125→200|n攻击力系数   0.2→0.35|n额外伤害承受 50%→100%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000')==2))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),ConvertUnitState(0x15))*.35)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("让该僵尸发狂，增加50%的攻击速度和200|cffff6600(+"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+")|r的攻击力，但是同时自己承受额外100%的伤害。|n|n|cff99ccff持续时间：|r9秒|n|cff99ccff冷却时间：|r40秒")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n攻击速度提升 50%→60%|n攻击力基础   200→275|n攻击力系数   0.35→0.5|n额外伤害承受 100%→150%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000',2,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000')==3))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),ConvertUnitState(0x15))*.5)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("让该僵尸发狂，增加60%的攻击速度和275|cffff6600(+"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+")|r的攻击力，但是同时自己承受额外150%的伤害。|n|n|cff99ccff持续时间：|r9秒|n|cff99ccff冷却时间：|r40秒")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A000',3,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
else
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H00C')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H00D')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H00E')))then
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084')==1))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),ConvertUnitState(0x15))*2.)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,"暗影女妖发出恐怖的尖叫，使周围敌人在恐惧中战栗，丢失当前的魔法效果并且对周围的石墙造成300|cffff6600(+")
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+")|r的伤害，减少他们的攻击力8%。|n|n|cffff0000伤害只对石墙有效|r|n|n|cff99ccff影响范围：|r1200码|cff99ccff|n持续时间：|r9秒|n|cff99ccff冷却时间：|r30秒")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n基础伤害     300→600|n攻击力系数   2.0→3.25|n减少攻击力   8%→16%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084')==2))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),ConvertUnitState(0x15))*3.25)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,"暗影女妖发出恐怖的尖叫，使周围敌人在恐惧中战栗，丢失当前的魔法效果并且对周围的石墙造成600|cffff6600(+")
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+")|r的伤害，减少他们的攻击力16%。|n|n|cffff0000伤害只对石墙有效|r|n|n|cff99ccff影响范围：|r1200码|cff99ccff|n持续时间：|r9秒|n|cff99ccff冷却时间：|r30秒")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n基础伤害     600→900|n攻击力系数   3.25→4.5|n减少攻击力   16%→24%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084',2,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084')==3))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),ConvertUnitState(0x15))*4.5)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,"暗影女妖发出恐怖的尖叫，使周围敌人在恐惧中战栗，丢失当前的魔法效果并且对周围的石墙造成900|cffff6600(+")
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+")|r的伤害，减少他们的攻击力24%。|n|n|cffff0000伤害只对石墙有效|r|n|n|cff99ccff影响范围：|r1200码|cff99ccff|n持续时间：|r9秒|n|cff99ccff冷却时间：|r30秒")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A084',3,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
else
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H00F')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H00G')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H00H')))then
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C')==1))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I(LoadReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),0x06E3C86E)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7ACA28E7,R2I((I2R(GetHeroLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))*((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C'))*650.)+200.))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你因为愤怒而增加了|cffff6600"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r点攻击力，但最多只会获得")))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7ACA28E7))+"|r点攻击力的增加，每受到800点伤害，就会愤怒地增加1点攻击力|n|n|cffff0000最多只能吸取 850x僵尸等级 的攻击力|r|n|cffff0000死亡后，吸取的攻击力减半|r")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n每次攻击力增加  1→2|n攻击力提升上限  850x僵尸等级→1500x僵尸等级|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C')==2))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I(LoadReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),0x06E3C86E)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7ACA28E7,R2I((I2R(GetHeroLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))*((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C'))*650.)+200.))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你因为愤怒而增加了|cffff6600"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r点攻击力，但最多只会获得")))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7ACA28E7))+"|r点攻击力的增加，每受到800点伤害，就会愤怒地增加1点攻击力|n|n|cffff0000最多只能吸取 1500x僵尸等级 的攻击力|r|n|cffff0000死亡后，吸取的攻击力减半|r")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n每次攻击力增加  2→3|n攻击力提升上限  1500x僵尸等级→2150x僵尸等级|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C',2,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C')==3))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I(LoadReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),0x06E3C86E)))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7ACA28E7,R2I((I2R(GetHeroLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))*((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C'))*650.)+200.))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你因为愤怒而增加了|cffff6600"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r点攻击力，但最多只会获得")))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x7ACA28E7))+"|r点攻击力的增加，每受到800点伤害，就会愤怒地增加1点攻击力|n|n|cffff0000最多只能吸取 2150x僵尸等级 的攻击力|r|n|cffff0000死亡后，吸取的攻击力减半|r")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A08C',3,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
else
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H00F')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H00G')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H00H')))then
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E')==1))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E'))*.15)+.05)*I2R(GetHeroStr(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),true)))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("每0.5秒都会腐蚀周围石墙，造成 |cffff0000"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 的生命衰减。|n|n|cffff0000生命衰减非伤害，无法附带任何伤害特效|r|n|cff99ccff|n影响范围：|r400码")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n力量比重 25%→40%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E')==2))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E'))*.15)+.05)*I2R(GetHeroStr(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),true)))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("每0.5秒都会腐蚀周围石墙，造成 |cffff0000"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 的生命衰减。|n|n|cffff0000生命衰减非伤害，无法附带任何伤害特效|r|n|cff99ccff|n影响范围：|r400码")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n力量比重 40%→55%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E',2,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E')==3))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E'))*.15)+.05)*I2R(GetHeroStr(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),true)))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("每0.5秒都会腐蚀周围石墙，造成 |cffff0000"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 的生命衰减。|n|n|cffff0000生命衰减非伤害，无法附带任何伤害特效|r|n|cff99ccff|n影响范围：|r400码")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06E',3,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
else
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H00Z')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H010')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H011')))then
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V')==1))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I(LoadReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),0x38D8E43F)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("游荡之魂的邪恶欲念无比强大，周围的人类越多越能激发他的力量，邪恶欲念已经使得他会获得了|cffff6600"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r的额外攻击力。|n|n|cff99ccff影响范围：|r725码")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n每个人类提升额外攻击力  15%→30%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V')==2))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I(LoadReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),0x38D8E43F)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("游荡之魂的邪恶欲念无比强大，周围的人类越多越能激发他的力量，邪恶欲念已经使得他会获得了|cffff6600"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r的额外攻击力。|n|n|cff99ccff影响范围：|r725码")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n每个人类提升额外攻击力  30%→45%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V',2,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V')==3))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I(LoadReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),0x38D8E43F)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("游荡之魂的邪恶欲念无比强大，周围的人类越多越能激发他的力量，邪恶欲念已经使得他会获得了|cffff6600"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r的额外攻击力。|n|n|cff99ccff影响范围：|r725码")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A03V',3,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
else
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H00Z')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H010')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H011')))then
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011')==1))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I(LoadReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),0xFE50400A)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("周围的僵尸与自己能将对敌人15%的伤害值转化成自己的生命值，并且，每当你损失8%的生命，便可增加你 |cff0000ff"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 点智力值。|n|n|cffff0000不同等级的此光环可以叠加")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n吸血加成  15%→25%|n智力系数  4%→6%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011')==2))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I(LoadReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),0xFE50400A)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("周围的僵尸与自己能将对敌人25%的伤害值转化成自己的生命值，并且，每当你损失8%的生命，便可增加你 |cff0000ff"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 点智力值。|n|n|cffff0000不同等级的此光环可以叠加")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n吸血加成  25%→35%|n智力系数  6%→8%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011',2,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011')==3))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I(LoadReal(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),0xFE50400A)))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("周围的僵尸与自己能将对敌人35%的伤害值转化成自己的生命值，并且，每当你损失8%的生命，便可增加你 |cff0000ff"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 点智力值。|n|n|cffff0000不同等级的此光环可以叠加")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A011',3,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
else
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H01G')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H01H')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H01I')))then
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F')==1))then
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,"恶魔附体，使自己身上出现一个保护盾，让你不会受到任何伤害与任何负面效果。|cff99ccff|n|n持续时间：|r3秒|n|cff99ccff冷却时间：|r30秒")
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|cffff0000|n|cff333333|n下一级：|n持续时间  3秒→4秒|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F')==2))then
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,"恶魔附体，使自己身上出现一个保护盾，让你不会受到任何伤害与任何负面效果。|cff99ccff|n|n持续时间：|r3秒|n|cff99ccff冷却时间：|r30秒")
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|cffff0000|n|cff333333|n下一级：|n持续时间  4秒→5秒|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F',2,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F')==3))then
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,"恶魔附体，使自己身上出现一个保护盾，让你不会受到任何伤害与任何负面效果。|cff99ccff|n|n持续时间：|r3秒|n|cff99ccff冷却时间：|r30秒")
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|cffff0000|n|cff333333|n下一级：|n持续时间  3秒→4秒|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02F',3,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
else
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H01G')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H01H')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H01I')))then
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G')==1))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G'))*.5)+.5)*I2R(GetHeroStr(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),true)))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你的每次攻击都有15%的几率释放一次煞魂一击，对攻击目标造成 |cffff0000"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 点伤害。")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n力量系数 1.0→1.5|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G')==2))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G'))*.5)+.5)*I2R(GetHeroStr(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),true)))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你的每次攻击都有15%的几率释放一次煞魂一击，对攻击目标造成 |cffff0000"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 点伤害。")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n力量系数 1.5→2.0|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G',2,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G')==3))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G'))*.5)+.5)*I2R(GetHeroStr(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),true)))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你的每次攻击都有15%的几率释放一次煞魂一击，对攻击目标造成 |cffff0000"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 点伤害。")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A02G',3,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
endif
endif
else
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H03R')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H03S')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H03T')))then
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I')==1))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),ConvertUnitState(0x15))*((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I'))*.6)+.2))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你每次攻击5次之后，你的下一次攻击将会附带额外的80|cffff6600(+"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+")|r点伤害。")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n攻击力系数  0.8→1.4|n基础伤害    80→140|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I')==2))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),ConvertUnitState(0x15))*((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I'))*.6)+.2))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你每次攻击5次之后，你的下一次攻击将会附带额外的140|cffff6600(+"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+")|r点伤害。")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n攻击力系数  1.4→2.0|n基础伤害    140→200|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I',2,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I')==3))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),ConvertUnitState(0x15))*((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I'))*.6)+.2))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你每次攻击5次之后，你的下一次攻击将会附带额外的200|cffff6600(+"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+")|r点伤害。")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A00I',3,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
else
endif
else
endif
if(((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H03R')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H03S')or(GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))=='H03T')))then
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G')==1))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((I2R(GetHeroStr(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),true))*((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G'))*.2)+.1))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你获得了 |cffff0000"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 的攻击力加成。")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n力量百分比 30%→50%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G')==2))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((I2R(GetHeroStr(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),true))*((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G'))*.2)+.1))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你获得了 |cffff0000"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 的攻击力加成。")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,(LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC)+"|n|n|cff333333下一级：|n力量百分比 50%→70%|r"))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G',1,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G',2,217,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G')==3))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF,R2I((I2R(GetHeroStr(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),true))*((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G'))*.2)+.1))))
call SaveStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC,("你获得了 |cffff0000"+(I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x4BB7FBCF))+"|r 的攻击力加成。")))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G',1,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G',2,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
call YDWESetUnitAbilityDataString(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D),'A06G',3,218,LoadStr(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8B1FFFFC))
else
endif
else
endif
endfunction
function Trig_Zombi_skill_updateActions takes nothing returns nothing
call ForForce(udg_group_of_players[0],function Trig_Zombi_skill_updateFunc001A)
endfunction
function InitTrig_Zombi_skill_update takes nothing returns nothing
set gg_trg_Zombi_skill_update=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Zombi_skill_update,.5)
call TriggerAddAction(gg_trg_Zombi_skill_update,function Trig_Zombi_skill_updateActions)
endfunction
function Trig_Science_and_technology_limitedConditions takes nothing returns boolean
return((GetUnitPointValue(GetResearchingUnit())==40))
endfunction
function Trig_Science_and_technology_limitedFunc002Func001Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h017')))
endfunction
function Trig_Science_and_technology_limitedFunc002Func001Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'ANic',10)
endfunction
function Trig_Science_and_technology_limitedFunc002Func002Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h02K')))
endfunction
function Trig_Science_and_technology_limitedFunc002Func002Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'ANic',20)
endfunction
function Trig_Science_and_technology_limitedFunc002Func003Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h02L')))
endfunction
function Trig_Science_and_technology_limitedFunc002Func003Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'ANic',30)
endfunction
function Trig_Science_and_technology_limitedFunc003Func001Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h018')))
endfunction
function Trig_Science_and_technology_limitedFunc003Func001Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A01R',10)
endfunction
function Trig_Science_and_technology_limitedFunc003Func002Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h02N')))
endfunction
function Trig_Science_and_technology_limitedFunc003Func002Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A01R',20)
endfunction
function Trig_Science_and_technology_limitedFunc003Func003Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h02O')))
endfunction
function Trig_Science_and_technology_limitedFunc003Func003Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A01R',30)
endfunction
function Trig_Science_and_technology_limitedFunc005Func001Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h019')))
endfunction
function Trig_Science_and_technology_limitedFunc005Func001Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A026',10)
endfunction
function Trig_Science_and_technology_limitedFunc005Func002Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h03K')))
endfunction
function Trig_Science_and_technology_limitedFunc005Func002Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A026',20)
endfunction
function Trig_Science_and_technology_limitedFunc005Func003Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h03L')))
endfunction
function Trig_Science_and_technology_limitedFunc005Func003Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A026',30)
endfunction
function Trig_Science_and_technology_limitedFunc007Func001Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h01B')))
endfunction
function Trig_Science_and_technology_limitedFunc007Func001Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A01W',10)
endfunction
function Trig_Science_and_technology_limitedFunc007Func002Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h038')))
endfunction
function Trig_Science_and_technology_limitedFunc007Func002Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A01W',20)
endfunction
function Trig_Science_and_technology_limitedFunc007Func003Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h039')))
endfunction
function Trig_Science_and_technology_limitedFunc007Func003Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A01W',30)
endfunction
function Trig_Science_and_technology_limitedFunc008Func001Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h01C')))
endfunction
function Trig_Science_and_technology_limitedFunc008Func001Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A01X',10)
endfunction
function Trig_Science_and_technology_limitedFunc008Func002Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h03D')))
endfunction
function Trig_Science_and_technology_limitedFunc008Func002Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A01X',20)
endfunction
function Trig_Science_and_technology_limitedFunc008Func003Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h03E')))
endfunction
function Trig_Science_and_technology_limitedFunc008Func003Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A01X',30)
endfunction
function Trig_Science_and_technology_limitedFunc010Func001Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h01Q')))
endfunction
function Trig_Science_and_technology_limitedFunc010Func001Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A043',10)
endfunction
function Trig_Science_and_technology_limitedFunc010Func002Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h02W')))
endfunction
function Trig_Science_and_technology_limitedFunc010Func002Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A043',20)
endfunction
function Trig_Science_and_technology_limitedFunc010Func003Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h02X')))
endfunction
function Trig_Science_and_technology_limitedFunc010Func003Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A043',30)
endfunction
function Trig_Science_and_technology_limitedFunc011Func001Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h01P')))
endfunction
function Trig_Science_and_technology_limitedFunc011Func001Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A042',10)
endfunction
function Trig_Science_and_technology_limitedFunc011Func002Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h02Z')))
endfunction
function Trig_Science_and_technology_limitedFunc011Func002Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A042',20)
endfunction
function Trig_Science_and_technology_limitedFunc011Func003Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h030')))
endfunction
function Trig_Science_and_technology_limitedFunc011Func003Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A042',30)
endfunction
function Trig_Science_and_technology_limitedFunc013Func001Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h04Y')))
endfunction
function Trig_Science_and_technology_limitedFunc013Func001Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A07V',10)
endfunction
function Trig_Science_and_technology_limitedFunc013Func002Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h04Z')))
endfunction
function Trig_Science_and_technology_limitedFunc013Func002Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A07V',20)
endfunction
function Trig_Science_and_technology_limitedFunc013Func003Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h050')))
endfunction
function Trig_Science_and_technology_limitedFunc013Func003Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A07V',30)
endfunction
function Trig_Science_and_technology_limitedFunc014Func001Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h052')))
endfunction
function Trig_Science_and_technology_limitedFunc014Func001Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A07W',10)
endfunction
function Trig_Science_and_technology_limitedFunc014Func002Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h053')))
endfunction
function Trig_Science_and_technology_limitedFunc014Func002Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A07W',20)
endfunction
function Trig_Science_and_technology_limitedFunc014Func003Func001003002 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(GetUnitTypeId(GetFilterUnit())=='h054')))
endfunction
function Trig_Science_and_technology_limitedFunc014Func003Func002A takes nothing returns nothing
call SetUnitAbilityLevel(GetEnumUnit(),'A07W',30)
endfunction
function Trig_Science_and_technology_limitedActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if(((GetUnitTypeId(GetResearchingUnit())=='h017')or(GetUnitTypeId(GetResearchingUnit())=='h02K')or(GetUnitTypeId(GetResearchingUnit())=='h02L')))then
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=10))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc002Func001Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc002Func001Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=20))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc002Func002Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc002Func002Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=30))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc002Func003Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc002Func003Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
else
endif
if(((GetUnitTypeId(GetResearchingUnit())=='h018')or(GetUnitTypeId(GetResearchingUnit())=='h02N')or(GetUnitTypeId(GetResearchingUnit())=='h02O')))then
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=10))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc003Func001Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc003Func001Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=20))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc003Func002Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc003Func002Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=30))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc003Func003Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc003Func003Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
else
endif
if(((GetUnitTypeId(GetResearchingUnit())=='h019')or(GetUnitTypeId(GetResearchingUnit())=='h03K')or(GetUnitTypeId(GetResearchingUnit())=='h03L')))then
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=10))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc005Func001Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc005Func001Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=20))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc005Func002Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc005Func002Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=30))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc005Func003Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc005Func003Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
else
endif
if(((GetUnitTypeId(GetResearchingUnit())=='h01B')or(GetUnitTypeId(GetResearchingUnit())=='h038')or(GetUnitTypeId(GetResearchingUnit())=='h039')))then
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=10))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc007Func001Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc007Func001Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=20))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc007Func002Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc007Func002Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=30))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc007Func003Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc007Func003Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
else
endif
if(((GetUnitTypeId(GetResearchingUnit())=='h01C')or(GetUnitTypeId(GetResearchingUnit())=='h03D')or(GetUnitTypeId(GetResearchingUnit())=='h03E')))then
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=10))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc008Func001Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc008Func001Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=20))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc008Func002Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc008Func002Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=30))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc008Func003Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc008Func003Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
else
endif
if(((GetUnitTypeId(GetResearchingUnit())=='h01Q')or(GetUnitTypeId(GetResearchingUnit())=='h02W')or(GetUnitTypeId(GetResearchingUnit())=='h02X')))then
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=10))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc010Func001Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc010Func001Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=20))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc010Func002Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc010Func002Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=30))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc010Func003Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc010Func003Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
else
endif
if(((GetUnitTypeId(GetResearchingUnit())=='h01P')or(GetUnitTypeId(GetResearchingUnit())=='h02Z')or(GetUnitTypeId(GetResearchingUnit())=='h030')))then
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=10))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc011Func001Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc011Func001Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=20))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc011Func002Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc011Func002Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=30))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc011Func003Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc011Func003Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
else
endif
if(((GetUnitTypeId(GetResearchingUnit())=='h04Y')or(GetUnitTypeId(GetResearchingUnit())=='h04Z')or(GetUnitTypeId(GetResearchingUnit())=='h050')))then
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=10))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc013Func001Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc013Func001Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=20))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc013Func002Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc013Func002Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=30))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc013Func003Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc013Func003Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
else
endif
if(((GetUnitTypeId(GetResearchingUnit())=='h052')or(GetUnitTypeId(GetResearchingUnit())=='h053')or(GetUnitTypeId(GetResearchingUnit())=='h054')))then
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=10))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc014Func001Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc014Func001Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=20))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc014Func002Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc014Func002Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
if((GetPlayerTechCountSimple(GetResearched(),GetOwningPlayer(GetResearchingUnit()))>=30))then
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(GetResearchingUnit()),Condition(function Trig_Science_and_technology_limitedFunc014Func003Func001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Science_and_technology_limitedFunc014Func003Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
else
endif
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Science_and_technology_limited takes nothing returns nothing
set gg_trg_Science_and_technology_limited=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Science_and_technology_limited,EVENT_PLAYER_UNIT_RESEARCH_FINISH)
call TriggerAddCondition(gg_trg_Science_and_technology_limited,Condition(function Trig_Science_and_technology_limitedConditions))
call TriggerAddAction(gg_trg_Science_and_technology_limited,function Trig_Science_and_technology_limitedActions)
endfunction
function Trig_Science_and_technology_limited_fzConditions takes nothing returns boolean
return((GetUnitPointValue(GetTriggerUnit())==40))
endfunction
function Trig_Science_and_technology_limited_fzFunc001T takes nothing returns nothing
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h017')and(GetPlayerTechCountSimple('R00H',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>10))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'ANic',10)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h018')and(GetPlayerTechCountSimple('R00J',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>10))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01R',10)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h019')and(GetPlayerTechCountSimple('R00L',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>10))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A026',10)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01B')and(GetPlayerTechCountSimple('R00N',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>10))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01W',10)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01C')and(GetPlayerTechCountSimple('R00O',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>10))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01X',10)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01Q')and(GetPlayerTechCountSimple('R00V',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>10))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A043',10)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h01P')and(GetPlayerTechCountSimple('R00U',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>10))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A042',10)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h04Y')and(GetPlayerTechCountSimple('R012',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>10))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A07V',10)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h052')and(GetPlayerTechCountSimple('R013',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>10))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A07W',10)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h02K')and(GetPlayerTechCountSimple('R00H',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>=20))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'ANic',20)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h02L')and(GetPlayerTechCountSimple('R00H',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>30))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'ANic',30)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h02N')and(GetPlayerTechCountSimple('R00J',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>20))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01R',20)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h02O')and(GetPlayerTechCountSimple('R00J',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>30))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01R',30)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h03K')and(GetPlayerTechCountSimple('R00L',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>20))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A026',20)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h03L')and(GetPlayerTechCountSimple('R00L',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>30))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A026',30)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h038')and(GetPlayerTechCountSimple('R00N',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>20))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01W',20)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h039')and(GetPlayerTechCountSimple('R00N',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>30))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01W',30)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h03D')and(GetPlayerTechCountSimple('R00O',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>20))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01X',20)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h03E')and(GetPlayerTechCountSimple('R00O',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>30))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A01X',30)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h02W')and(GetPlayerTechCountSimple('R00V',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>20))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A043',20)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h02W')and(GetPlayerTechCountSimple('R00H',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>30))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A043',30)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h02Z')and(GetPlayerTechCountSimple('R00U',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>20))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A042',20)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h030')and(GetPlayerTechCountSimple('R00U',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>30))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A042',30)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h04Z')and(GetPlayerTechCountSimple('R012',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>20))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A07V',20)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h050')and(GetPlayerTechCountSimple('R012',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>30))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x458B7DE9),'A07V',30)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h050')and(GetPlayerTechCountSimple('R013',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>20))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A07W',20)
else
endif
if((GetUnitTypeId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))=='h054')and(GetPlayerTechCountSimple('R013',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))>30))then
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A07W',30)
else
endif
call SaveUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D,null)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Science_and_technology_limited_fzActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetTriggerUnit())
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x458B7DE9,GetTriggerUnit())
call TimerStart(ydl_timer,.0,false,function Trig_Science_and_technology_limited_fzFunc001T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Science_and_technology_limited_fz takes nothing returns nothing
set gg_trg_Science_and_technology_limited_fz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Science_and_technology_limited_fz,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddCondition(gg_trg_Science_and_technology_limited_fz,Condition(function Trig_Science_and_technology_limited_fzConditions))
call TriggerAddAction(gg_trg_Science_and_technology_limited_fz,function Trig_Science_and_technology_limited_fzActions)
endfunction
function Trig_Limit_attack_uConditions takes nothing returns boolean
return(((IsUnitAlly(GetAttacker(),GetOwningPlayer(GetAttackedUnitBJ()))==true)or(GetOwningPlayer(GetAttacker())==GetOwningPlayer(GetAttackedUnitBJ()))))
endfunction
function Trig_Limit_attack_uActions takes nothing returns nothing
if((GetOwningPlayer(GetAttacker())==GetOwningPlayer(GetAttackedUnitBJ())))then
if(((GetUnitTypeId(GetAttackedUnitBJ())=='h006')or(GetUnitTypeId(GetAttackedUnitBJ())=='h005')or(GetUnitTypeId(GetAttackedUnitBJ())=='h001')or(GetUnitTypeId(GetAttackedUnitBJ())=='h01M')or(GetUnitTypeId(GetAttackedUnitBJ())=='h04L')))then
call IssueImmediateOrderById(GetAttacker(),851972)
return
else
endif
return
else
endif
call IssueImmediateOrderById(GetAttacker(),851972)
endfunction
function InitTrig_Limit_attack_u takes nothing returns nothing
set gg_trg_Limit_attack_u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Limit_attack_u,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Limit_attack_u,Condition(function Trig_Limit_attack_uConditions))
call TriggerAddAction(gg_trg_Limit_attack_u,function Trig_Limit_attack_uActions)
endfunction
function Trig_Delete_articleConditions takes nothing returns boolean
return((GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP))
endfunction
function Trig_Delete_articleFunc002T takes nothing returns nothing
call RemoveItem(LoadItemHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDFB448FB))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Delete_articleActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveItemHandle(YDHT,GetHandleId(ydl_timer),0xDFB448FB,GetManipulatedItem())
call TimerStart(ydl_timer,.3,false,function Trig_Delete_articleFunc002T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Delete_article takes nothing returns nothing
set gg_trg_Delete_article=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Delete_article,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Delete_article,Condition(function Trig_Delete_articleConditions))
call TriggerAddAction(gg_trg_Delete_article,function Trig_Delete_articleActions)
endfunction
function Trig_players_exit1Func008A takes nothing returns nothing
call CreateTextTagUnitBJ("886\n我闪先",GetEnumUnit(),-50.,10.,.0,100.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call YDWETimerRemoveUnit(1.,GetEnumUnit())
call FlushChildHashtable(YDHT,GetHandleId(GetEnumUnit()))
endfunction
function Trig_players_exit1Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call ForceRemovePlayer(udg_group_of_players[0],GetTriggerPlayer())
call ForceRemovePlayer(udg_group_of_players[1],GetTriggerPlayer())
call PlaySoundBJ(gg_snd_PeasantWarcry1)
call SaveInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x6DEEAE1F,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_CAP))
call SaveInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x56BEADF5,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+(udg_yanse[GetRandomInt(1,5)]+" 提着湿了的内裤逃走了...")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001,(YDWEGetUnitsOfPlayerMatchingNull((GetTriggerPlayer()),null)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001),function Trig_players_exit1Func008A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call SetPlayerName(GetTriggerPlayer(),((LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]-1)])+(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+"|cffffffff(已离开)")))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_players_exit1 takes nothing returns nothing
set gg_trg_players_exit1=CreateTrigger()
call DisableTrigger(gg_trg_players_exit1)
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(0))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(1))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(2))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(3))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(4))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(5))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(6))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(7))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(8))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(9))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(10))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(11))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(12))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(13))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(14))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit1,Player(15))
call TriggerAddAction(gg_trg_players_exit1,function Trig_players_exit1Actions)
endfunction
function Trig_players_exit2Actions takes nothing returns nothing
call ForceRemovePlayer(udg_group_of_players[0],GetTriggerPlayer())
call ForceRemovePlayer(udg_group_of_players[1],GetTriggerPlayer())
call PlaySoundBJ(gg_snd_PeasantWarcry1)
call SaveInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x6DEEAE1F,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_CAP))
call SaveInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x56BEADF5,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+(udg_yanse[GetRandomInt(1,5)]+" 提着湿了的内裤逃走了...")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetPlayerName(GetTriggerPlayer(),((LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]-1)])+(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+"|cffffffff(已离开)")))
endfunction
function InitTrig_players_exit2 takes nothing returns nothing
set gg_trg_players_exit2=CreateTrigger()
call DisableTrigger(gg_trg_players_exit2)
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(0))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(1))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(2))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(3))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(4))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(5))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(6))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(7))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(8))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(9))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(10))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(11))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(12))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(13))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(14))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit2,Player(15))
call TriggerAddAction(gg_trg_players_exit2,function Trig_players_exit2Actions)
endfunction
function Trig_players_exit3Actions takes nothing returns nothing
call ForceRemovePlayer(udg_group_of_players[0],GetTriggerPlayer())
call ForceRemovePlayer(udg_group_of_players[1],GetTriggerPlayer())
call PlaySoundBJ(gg_snd_PeasantWarcry1)
call SaveInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x6DEEAE1F,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_CAP))
call SaveInteger(YDHT,GetHandleId(GetTriggerPlayer()),0x56BEADF5,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(GetPlayerName(GetTriggerPlayer())+(udg_yanse[GetRandomInt(1,5)]+" 提着湿了的内裤逃走了...")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetPlayerName(GetTriggerPlayer(),((LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]-1)])+(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+"|cffffffff(已离开)")))
endfunction
function InitTrig_players_exit3 takes nothing returns nothing
set gg_trg_players_exit3=CreateTrigger()
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(0))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(1))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(2))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(3))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(4))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(5))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(6))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(7))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(8))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(9))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(10))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(11))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(12))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(13))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(14))
call TriggerRegisterPlayerEventLeave(gg_trg_players_exit3,Player(15))
call TriggerAddAction(gg_trg_players_exit3,function Trig_players_exit3Actions)
endfunction
function Trig_article_own1Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1))then
if((LoadBoolean(YDHT,GetItemTypeId(GetManipulatedItem()),0xAC97B664)==true))then
if((GetItemUserData(GetManipulatedItem())==0))then
call SetItemUserData(GetManipulatedItem(),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
else
endif
if((GetItemUserData(GetManipulatedItem())!=GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))))then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),-.1,-.1,("|cffffcc00这个|r "+(GetItemName(GetManipulatedItem())+(" |cffffcc00不属于你，它是属于|r "+(LoadStr(YDHT,GetHandleId(ConvertedPlayer(GetItemUserData(GetManipulatedItem()))),0xBBAEF8F3)+" |r|cffffcc00的...")))))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,GetItemUserData(GetManipulatedItem()))
call SaveItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,CreateItem(GetItemTypeId(GetManipulatedItem()),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call SetItemUserData(LoadItemHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB),LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call RemoveItem(GetManipulatedItem())
else
endif
else
endif
else
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_article_own1 takes nothing returns nothing
set gg_trg_article_own1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_own1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_article_own1,function Trig_article_own1Actions)
endfunction
function Trig_article_own2Actions takes nothing returns nothing
call SetItemUserData(GetSoldItem(),GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endfunction
function InitTrig_article_own2 takes nothing returns nothing
set gg_trg_article_own2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_article_own2,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg_article_own2,function Trig_article_own2Actions)
endfunction
function Trig_Vote_kickingConditions takes nothing returns boolean
return((StringLength(GetEventPlayerChatString())>=6))
endfunction
function Trig_Vote_kickingFunc003Func001Func024Func002Func012A takes nothing returns nothing
call CreateTextTagUnitBJ("886\n我闪先",GetEnumUnit(),-50.,10.,.0,100.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call YDWETimerRemoveUnit(1.,GetEnumUnit())
call FlushChildHashtable(YDHT,GetHandleId(GetEnumUnit()))
endfunction
function Trig_Vote_kickingFunc003Func001Func024T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call DestroyLeaderboard(udg_kick_p)
if((udg_kick_c>=((LoadInteger(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)/2)+1)))then
call CustomDefeatBJ(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),("你已经顺利地被 "+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC)),0xBBAEF8F3)+" |r给T掉了...")))
call ClearTextMessages()
call DisplayTimedTextToForce(GetPlayersAll(),3.,(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8)),0xBBAEF8F3)+" |r已经顺利地被T掉..."))
call ForceRemovePlayer(udg_group_of_players[0],LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call ForceRemovePlayer(udg_group_of_players[1],LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8))
call PlaySoundBJ(gg_snd_PeasantWarcry1)
call SaveInteger(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8)),0x6DEEAE1F,GetPlayerState(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),PLAYER_STATE_RESOURCE_FOOD_CAP))
call SaveInteger(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8)),0x56BEADF5,GetPlayerState(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),PLAYER_STATE_RESOURCE_FOOD_USED))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8)),0xBBAEF8F3)+(udg_yanse[GetRandomInt(1,5)]+" 提着湿了的内裤逃走了...")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x8D881001,(YDWEGetUnitsOfPlayerMatchingNull((LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8)),null)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x8D881001),function Trig_Vote_kickingFunc003Func001Func024Func002Func012A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x8D881001))
call SetPlayerName(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8),((LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8)),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0xAC95C7C6))]-1)])+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8)),0xBBAEF8F3)+"|cffffffff(已离开)")))
else
call DisplayTimedTextToForce(GetPlayersAll(),3.,(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x32A9E4C8)),0xBBAEF8F3)+" |r没有顺利地被T掉..."))
endif
set udg_kick_t=false
set udg_kick_c=0
set udg_kick_n[1]=""
set udg_kick_n[2]=""
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Vote_kickingActions takes nothing returns nothing
local integer ydul_i
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xEFFC3237,S2I(SubStringBJ(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString()))))
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xEFFC3237)<=12)and(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xEFFC3237)>1))then
if((IsPlayerEnemy(GetTriggerPlayer(),ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xEFFC3237)))==false)and(GetPlayerSlotState(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xEFFC3237)))==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xEFFC3237)))==MAP_CONTROL_USER)and(ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xEFFC3237))!=GetTriggerPlayer())and(udg_kick_t==false))then
call SavePlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,ConvertedPlayer(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xEFFC3237)))
set udg_kick_c=0
set udg_kick_p=CreateLeaderboard()
set udg_kick_t=true
set udg_kick_n[1]=LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)
set udg_kick_n[2]=LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8)),0xBBAEF8F3)
call SavePlayerHandle(YDHT,GetHandleId(udg_kick_p),0x525604B0,LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call LeaderboardSetStyle(udg_kick_p,true,false,false,false)
set ydul_i=1
loop
exitwhen ydul_i>12
call SaveBoolean(YDHT,GetHandleId(ConvertedPlayer(ydul_i)),0xC383DF1A,false)
if((GetPlayerSlotState(ConvertedPlayer(ydul_i))==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(ConvertedPlayer(ydul_i))==MAP_CONTROL_USER))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1))
else
endif
call LeaderboardRemovePlayerItemBJ(ConvertedPlayer(ydul_i),udg_kick_p)
call PlayerSetLeaderboard(ConvertedPlayer(ydul_i),udg_kick_p)
set ydul_i=ydul_i+1
endloop
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)-1))
call LeaderboardSetLabel(udg_kick_p,((udg_kick_n[1]+(" |r投票T掉 "+udg_kick_n[2]))+("|n|cff33cccc同意：|r"+(((I2S(udg_kick_c)+"/")+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))+"票"))))
call LeaderboardDisplayBJ(true,udg_kick_p)
call DisplayTimedTextToForce(GetPlayersAll(),10.," \n ")
call DisplayTimedTextToForce(GetPlayersAll(),10.,(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+(" |r正试图踢掉 "+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8)),0xBBAEF8F3)+" |r，同意的请按下Esc，不同意的请沉默10秒..."))))
call DisplayTimedTextToForce(GetPlayersAll(),10.," \n ")
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SavePlayerHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SavePlayerHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,GetTriggerPlayer())
call SaveInteger(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call SavePlayerHandle(YDHT,GetHandleId(ydl_timer),0xAC95C7C6,GetTriggerPlayer())
call SaveGroupHandle(YDHT,GetHandleId(ydl_timer),0x8D881001,LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x8D881001))
call SavePlayerHandle(YDHT,GetHandleId(ydl_timer),0x32A9E4C8,LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call TimerStart(ydl_timer,10.,false,function Trig_Vote_kickingFunc003Func001Func024T)
else
call DisplayTextToPlayer(GetTriggerPlayer(),0,0," \n|cff3366ff错误的投票踢人请求...|r\n ")
call PlaySoundBJ(gg_snd_Error)
endif
else
call DisplayTextToPlayer(GetTriggerPlayer(),0,0," \n|cff3366ff错误的投票踢人请求...|r\n ")
call PlaySoundBJ(gg_snd_Error)
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Vote_kicking takes nothing returns nothing
set gg_trg_Vote_kicking=CreateTrigger()
call DisableTrigger(gg_trg_Vote_kicking)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(0),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(1),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(2),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(3),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(4),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(5),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(6),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(7),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(8),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(9),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(10),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(11),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(12),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(13),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(14),"-kick",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Vote_kicking,Player(15),"-kick",false)
call TriggerAddCondition(gg_trg_Vote_kicking,Condition(function Trig_Vote_kickingConditions))
call TriggerAddAction(gg_trg_Vote_kicking,function Trig_Vote_kickingActions)
endfunction
function Trig_Vote_kicking_fzConditions takes nothing returns boolean
return((udg_kick_t==true)and(LoadBoolean(YDHT,GetHandleId(GetTriggerPlayer()),0xC383DF1A)==false)and(GetTriggerPlayer()!=LoadPlayerHandle(YDHT,GetHandleId(udg_kick_p),0x525604B0)))
endfunction
function Trig_Vote_kicking_fzActions takes nothing returns nothing
local integer ydul_i
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveBoolean(YDHT,GetHandleId(GetTriggerPlayer()),0xC383DF1A,true)
call DisplayTimedTextToForce(GetPlayersAll(),3.,(LoadStr(YDHT,GetHandleId(GetTriggerPlayer()),0xBBAEF8F3)+"|r表示同意"))
set udg_kick_c=(udg_kick_c+1)
set ydul_i=1
loop
exitwhen ydul_i>12
if((GetPlayerSlotState(ConvertedPlayer(ydul_i))==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(ConvertedPlayer(ydul_i))==MAP_CONTROL_USER))then
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)+1))
else
endif
set ydul_i=ydul_i+1
endloop
call LeaderboardSetLabel(udg_kick_p,((udg_kick_n[1]+(" |r投票T掉 "+udg_kick_n[2]))+("|n|cff33cccc同意：|r"+(((I2S(udg_kick_c)+"/")+I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))+"票"))))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Vote_kicking_fz takes nothing returns nothing
set gg_trg_Vote_kicking_fz=CreateTrigger()
call DisableTrigger(gg_trg_Vote_kicking_fz)
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(0))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(1))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(2))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(3))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(4))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(5))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(6))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(7))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(8))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(9))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(10))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(11))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(12))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(13))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(14))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Vote_kicking_fz,Player(15))
call TriggerAddCondition(gg_trg_Vote_kicking_fz,Condition(function Trig_Vote_kicking_fzConditions))
call TriggerAddAction(gg_trg_Vote_kicking_fz,function Trig_Vote_kicking_fzActions)
endfunction
function Trig_MHFunc005Func011A takes nothing returns nothing
call CreateTextTagUnitBJ("886\n我闪先",GetEnumUnit(),-50.,10.,.0,100.,.0,0)
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call YDWETimerRemoveUnit(1.,GetEnumUnit())
call FlushChildHashtable(YDHT,GetHandleId(GetEnumUnit()))
endfunction
function Trig_MHFunc005A takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SavePlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8,GetEnumPlayer())
call CustomDefeatBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8),"你已经顺利地被 |cffff0000系统|r 给和谐掉了..")
call ClearTextMessages()
call ForceRemovePlayer(udg_group_of_players[0],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8))
call ForceRemovePlayer(udg_group_of_players[1],LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8))
call PlaySoundBJ(gg_snd_PeasantWarcry1)
call SaveInteger(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8)),0x6DEEAE1F,GetPlayerState(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8),PLAYER_STATE_RESOURCE_FOOD_CAP))
call SaveInteger(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8)),0x56BEADF5,GetPlayerState(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8),PLAYER_STATE_RESOURCE_FOOD_USED))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8)),0xBBAEF8F3)+(udg_yanse[GetRandomInt(1,5)]+" 提着湿了的内裤逃走了...")))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8D881001,(YDWEGetUnitsOfPlayerMatchingNull((LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8)),null)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8D881001),function Trig_MHFunc005Func011A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x8D881001))
call SetPlayerName(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8),((LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8)),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetTriggerPlayer())]-1)])+(LoadStr(YDHT,GetHandleId(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x32A9E4C8)),0xBBAEF8F3)+"|cffffffff(已离开)")))
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_MHFunc007A takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),3.,(GetPlayerName(GetEnumPlayer())+" |r已经顺利地被 |cffff0000系统|r 给和谐掉了.."))
endfunction
function Trig_MHActions takes nothing returns nothing
local integer ydul_i
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(GetPlayersAll(),3.," \n \n|cff1e90ff开始检测全图玩家...\n \n ")
call SaveForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x87D39A26,CreateForce())
set ydul_i=1
loop
exitwhen ydul_i>12
if((IsUnitVisible(gg_unit_h01K_0062,ConvertedPlayer(ydul_i))==true)and(LoadBoolean(YDHT,GetHandleId(Player(0)),0x602978BD)!=true))then
call ForceAddPlayer(LoadForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x87D39A26),ConvertedPlayer(ydul_i))
else
endif
set ydul_i=ydul_i+1
endloop
call YDWEPolledWaitNull(.5)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call ForForce(LoadForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x87D39A26),function Trig_MHFunc005A)
call DisplayTimedTextToForce(GetPlayersAll(),3.," \n \n|cff1e90ff检测完毕\n \n ")
call ForForce(LoadForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x87D39A26),function Trig_MHFunc007A)
call DestroyForce(LoadForceHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x87D39A26))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_MH takes nothing returns nothing
set gg_trg_MH=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(0),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(1),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(2),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(3),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(4),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(5),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(6),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(7),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(8),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(9),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(10),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(11),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(12),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(13),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(14),"-mh",true)
call TriggerRegisterPlayerChatEvent(gg_trg_MH,Player(15),"-mh",true)
call TriggerAddAction(gg_trg_MH,function Trig_MHActions)
endfunction
function Trig_experienceConditions takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())!='h025')and(IsUnitType(GetDyingUnit(),UNIT_TYPE_STRUCTURE)==false)and((GetOwningPlayer(GetDyingUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))or(GetOwningPlayer(GetDyingUnit())==Player(PLAYER_NEUTRAL_PASSIVE))))
endfunction
function Trig_experienceFunc003003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetKillingUnitBJ()))==false)))
endfunction
function Trig_experienceFunc004A takes nothing returns nothing
call AddHeroXPSwapped(((GetUnitLevel(GetDyingUnit())*250)/CountUnitsInGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))),GetEnumUnit(),true)
endfunction
function Trig_experienceActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(GetTriggerUnit()))
if((GetOwningPlayer(GetDyingUnit())==Player(PLAYER_NEUTRAL_PASSIVE)))then
set udg_Number[13]=(udg_Number[13]-1)
call GroupRemoveUnit(udg_AImove,GetDyingUnit())
call YDWETimerRemoveUnit(10.,GetDyingUnit())
call CreateNUnitsAtLoc(1,'h025',Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),bj_UNIT_FACING)
call GroupAddUnit(udg_Death_unit,bj_lastCreatedUnit)
call SaveInteger(YDHT,GetHandleId(bj_lastCreatedUnit),0x214C62CC,(3*(GetRandomInt(1,(GetUnitLevel(GetDyingUnit())*2))+2)))
call SaveInteger(YDHT,GetHandleId(bj_lastCreatedUnit),0x239F3A6E,(35*GetUnitLevel(GetDyingUnit())))
else
endif
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(1200.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),Condition(function Trig_experienceFunc003003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_experienceFunc004A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call AddHeroXPSwapped((GetUnitLevel(GetDyingUnit())*80),GetKillingUnitBJ(),true)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_experience takes nothing returns nothing
set gg_trg_experience=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_experience,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_experience,Condition(function Trig_experienceConditions))
call TriggerAddAction(gg_trg_experience,function Trig_experienceActions)
endfunction
function Trig_experience_godFunc001Func002003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and((IsUnitAliveBJ(GetFilterUnit())==true)and(udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetFilterUnit()))]==1))))
endfunction
function Trig_experience_godFunc001Func003Func008Func002003001 takes nothing returns boolean
return((GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7))!=GetFilterPlayer()))
endfunction
function Trig_experience_godFunc001Func003Func008T takes nothing returns nothing
call CreateTextTagUnitBJ(("+"+I2S(LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x2EE2B56C)),0x214C62CC))),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),0,12.,100.,86.,.0,0)
call ShowTextTagForceBJ(false,GetLastCreatedTextTag(),YDWEGetPlayersMatchingNull(Condition(function Trig_experience_godFunc001Func003Func008Func002003001)))
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ(LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x2EE2B56C)),0x214C62CC),GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)),PLAYER_STATE_RESOURCE_GOLD)
call AddHeroXPSwapped(LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x2EE2B56C)),0x239F3A6E),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),true)
call RemoveUnit(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x2EE2B56C))
endfunction
function Trig_experience_godFunc001A takes nothing returns nothing
local timer ydl_timer
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(825.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),Condition(function Trig_experience_godFunc001Func002003003)))
if((IsUnitGroupEmptyBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))==false))then
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D,FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))
call YDWEJumpTimer(GetEnumUnit(),AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7)),DistanceBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7)),.35,.03,.0)
call UnitApplyTimedLife(GetEnumUnit(),'BTLF',.35)
call GroupRemoveUnit(udg_Death_unit,GetEnumUnit())
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xF5F725A7))
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x20CD7CD7,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x2EE2B56C,GetEnumUnit())
call TimerStart(ydl_timer,.4,false,function Trig_experience_godFunc001Func003Func008T)
else
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
set ydl_timer=null
endfunction
function Trig_experience_godActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call ForGroupBJ(udg_Death_unit,function Trig_experience_godFunc001A)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
set ydl_timer=null
endfunction
function InitTrig_experience_god takes nothing returns nothing
set gg_trg_experience_god=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_experience_god,.2)
call TriggerAddAction(gg_trg_experience_god,function Trig_experience_godActions)
endfunction
function Trig_small_zb_birthConditions takes nothing returns boolean
return((udg_Number[13]<=75))
endfunction
function Trig_small_zb_birthActions takes nothing returns nothing
local integer ydul_i
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(gg_unit_h000_0027))
if((CountPlayersInForceBJ(udg_group_of_players[1])<=5))then
if((CountPlayersInForceBJ(udg_group_of_players[1])<=2))then
set udg_Number[13]=(udg_Number[13]+1)
if((udg_Number[13]<=75))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),.0,.0))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34,GetRandomLocInRect(GetPlayableMapRect()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE),'h000',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34),0))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call YDWETimerRemoveUnit(.3,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call CreateNUnitsAtLoc(1,udg_small_zb[LoadInteger(YDHT,GetHandleId(Player(PLAYER_NEUTRAL_PASSIVE)),0xD6E10CAC)],Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),270.)
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
call GroupAddUnit(udg_AImove,bj_lastCreatedUnit)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
else
endif
set udg_Number[13]=(udg_Number[13]+1)
if((udg_Number[13]<=75))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,GetUnitLoc(GroupPickRandomUnit(udg_group_dian)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34,GetRandomLocInRect(GetPlayableMapRect()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE),'h000',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34),0))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call YDWETimerRemoveUnit(.3,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call CreateNUnitsAtLoc(1,udg_small_zb[LoadInteger(YDHT,GetHandleId(Player(PLAYER_NEUTRAL_PASSIVE)),0xD6E10CAC)],Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),GetRandomDirectionDeg())
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
call GroupAddUnit(udg_AImove,bj_lastCreatedUnit)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
else
endif
else
set ydul_i=1
loop
exitwhen ydul_i>2
set udg_Number[13]=(udg_Number[13]+1)
if((udg_Number[13]<=75))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),50.,((180.)*(I2R(ydul_i)))))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34,GetRandomLocInRect(GetPlayableMapRect()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE),'h000',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34),0))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call YDWETimerRemoveUnit(.3,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call CreateNUnitsAtLoc(1,udg_small_zb[LoadInteger(YDHT,GetHandleId(Player(PLAYER_NEUTRAL_PASSIVE)),0xD6E10CAC)],Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),((180.)*(I2R(ydul_i))))
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
call GroupAddUnit(udg_AImove,bj_lastCreatedUnit)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
else
endif
set udg_Number[13]=(udg_Number[13]+1)
if((udg_Number[13]<=75))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,GetUnitLoc(GroupPickRandomUnit(udg_group_dian)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34,GetRandomLocInRect(GetPlayableMapRect()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE),'h000',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34),0))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call YDWETimerRemoveUnit(.3,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call CreateNUnitsAtLoc(1,udg_small_zb[LoadInteger(YDHT,GetHandleId(Player(PLAYER_NEUTRAL_PASSIVE)),0xD6E10CAC)],Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),GetRandomDirectionDeg())
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
call GroupAddUnit(udg_AImove,bj_lastCreatedUnit)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
else
endif
set ydul_i=ydul_i+1
endloop
endif
else
if((CountPlayersInForceBJ(udg_group_of_players[1])<=7))then
set ydul_i=1
loop
exitwhen ydul_i>3
set udg_Number[13]=(udg_Number[13]+1)
if((udg_Number[13]<=75))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),750.,((120.)*(I2R(ydul_i)))))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34,GetRandomLocInRect(GetPlayableMapRect()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE),'h000',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34),0))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call YDWETimerRemoveUnit(.3,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call CreateNUnitsAtLoc(1,udg_small_zb[LoadInteger(YDHT,GetHandleId(Player(PLAYER_NEUTRAL_PASSIVE)),0xD6E10CAC)],Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),((120.)*(I2R(ydul_i))))
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
call GroupAddUnit(udg_AImove,bj_lastCreatedUnit)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
else
endif
set udg_Number[13]=(udg_Number[13]+1)
if((udg_Number[13]<=75))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,GetUnitLoc(GroupPickRandomUnit(udg_group_dian)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34,GetRandomLocInRect(GetPlayableMapRect()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE),'h000',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34),0))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call YDWETimerRemoveUnit(.3,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call CreateNUnitsAtLoc(1,udg_small_zb[LoadInteger(YDHT,GetHandleId(Player(PLAYER_NEUTRAL_PASSIVE)),0xD6E10CAC)],Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),GetRandomDirectionDeg())
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
call GroupAddUnit(udg_AImove,bj_lastCreatedUnit)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
else
endif
set ydul_i=ydul_i+1
endloop
else
set ydul_i=1
loop
exitwhen ydul_i>4
set udg_Number[13]=(udg_Number[13]+1)
if((udg_Number[13]<=75))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),600.,((90.)*(I2R(ydul_i)))))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34,GetRandomLocInRect(GetPlayableMapRect()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE),'h000',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34),0))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call YDWETimerRemoveUnit(.3,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call CreateNUnitsAtLoc(1,udg_small_zb[LoadInteger(YDHT,GetHandleId(Player(PLAYER_NEUTRAL_PASSIVE)),0xD6E10CAC)],Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),((90.)*(I2R(ydul_i))))
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
call GroupAddUnit(udg_AImove,bj_lastCreatedUnit)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
else
endif
set udg_Number[13]=(udg_Number[13]+1)
if((udg_Number[13]<=75))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,GetUnitLoc(GroupPickRandomUnit(udg_group_dian)))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34,GetRandomLocInRect(GetPlayableMapRect()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE),'h000',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34),0))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call YDWETimerRemoveUnit(.3,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call CreateNUnitsAtLoc(1,udg_small_zb[LoadInteger(YDHT,GetHandleId(Player(PLAYER_NEUTRAL_PASSIVE)),0xD6E10CAC)],Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),GetRandomDirectionDeg())
call IssuePointOrderLoc(bj_lastCreatedUnit,"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
call GroupAddUnit(udg_AImove,bj_lastCreatedUnit)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xB0FD2C34))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x454E3900))
else
endif
set ydul_i=ydul_i+1
endloop
endif
endif
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_small_zb_birth takes nothing returns nothing
set gg_trg_small_zb_birth=CreateTrigger()
call DisableTrigger(gg_trg_small_zb_birth)
call TriggerRegisterTimerEventPeriodic(gg_trg_small_zb_birth,10.)
call TriggerAddCondition(gg_trg_small_zb_birth,Condition(function Trig_small_zb_birthConditions))
call TriggerAddAction(gg_trg_small_zb_birth,function Trig_small_zb_birthActions)
endfunction
function Trig_small_zb_moveFunc001A takes nothing returns nothing
if((GetRandomInt(1,2)==1))then
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB0FD2C34,GetRandomLocInRect(GetPlayableMapRect()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D,CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE),'h000',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB0FD2C34),0))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x454E3900,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))
call YDWETimerRemoveUnit(.3,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D))
call IssuePointOrderLoc(GetEnumUnit(),"attack",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x454E3900))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xB0FD2C34))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x454E3900))
else
endif
endfunction
function Trig_small_zb_moveActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call ForGroupBJ(udg_AImove,function Trig_small_zb_moveFunc001A)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_small_zb_move takes nothing returns nothing
set gg_trg_small_zb_move=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_small_zb_move,8.)
call TriggerAddAction(gg_trg_small_zb_move,function Trig_small_zb_moveActions)
endfunction
function Trig_Hp_fullFunc001003002 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitAliveBJ(GetFilterUnit())==true)))
endfunction
function Trig_Hp_fullFunc002A takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+(I2R(GetHeroStr(GetEnumUnit(),true))*.03)))
endfunction
function Trig_Hp_fullActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect(),Condition(function Trig_Hp_fullFunc001003002)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Hp_fullFunc002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Hp_full takes nothing returns nothing
set gg_trg_Hp_full=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Hp_full,.25)
call TriggerAddAction(gg_trg_Hp_full,function Trig_Hp_fullActions)
endfunction
function Trig_Hero_npcConditions takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_Hero_npcActions takes nothing returns nothing
call SaveStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D,("("+(GetHeroProperName(GetTriggerUnit())+")")))
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)])+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xAF9C0D5D))))
call SetUnitVertexColorBJ(GetTriggerUnit(),100,100,100,0)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0x62274AD0,GetUnitTypeId(GetTriggerUnit()))
endfunction
function InitTrig_Hero_npc takes nothing returns nothing
set gg_trg_Hero_npc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hero_npc,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddCondition(gg_trg_Hero_npc,Condition(function Trig_Hero_npcConditions))
call TriggerAddAction(gg_trg_Hero_npc,function Trig_Hero_npcActions)
endfunction
function Trig_vengeance_god_npcConditions takes nothing returns boolean
return((GetUnitTypeId(GetSellingUnit())=='unpl'))
endfunction
function Trig_vengeance_god_npcActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xAF9C0D5D,("("+(GetHeroProperName(GetSoldUnit())+")")))
call SetPlayerName(GetOwningPlayer(GetSoldUnit()),((LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xA0F1E52B)+udg_achievement_yanse[(udg_achievement_players[GetConvertedPlayerId(GetOwningPlayer(GetSoldUnit()))]-1)])+(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xBBAEF8F3)+LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0xAF9C0D5D))))
call SetUnitVertexColorBJ(GetSoldUnit(),100,100,100,0)
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetSoldUnit())),0x62274AD0,GetUnitTypeId(GetSoldUnit()))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetSoldUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),0)
call SelectUnitForPlayerSingle(GetSoldUnit(),GetOwningPlayer(GetSoldUnit()))
call SetPlayerUnitAvailableBJ('U007',false,GetOwningPlayer(GetSoldUnit()))
call SetPlayerUnitAvailableBJ('U002',false,GetOwningPlayer(GetSoldUnit()))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_vengeance_god_npc takes nothing returns nothing
set gg_trg_vengeance_god_npc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_vengeance_god_npc,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(gg_trg_vengeance_god_npc,Condition(function Trig_vengeance_god_npcConditions))
call TriggerAddAction(gg_trg_vengeance_god_npc,function Trig_vengeance_god_npcActions)
endfunction
function Trig_vengeance_god_comeActions takes nothing returns nothing
call ClearTextMessages()
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=12
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call DisplayTimedTextToPlayer(ConvertedPlayer(GetForLoopIndexB()),.6,.6,3.,(udg_yanse[GetRandomInt(1,5)]+"复仇天神将在20秒后出现..."))
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
call PlaySoundBJ(gg_snd_ZE_Ready)
call PauseTimer(udg_Timer_come)
endfunction
function InitTrig_vengeance_god_come takes nothing returns nothing
set gg_trg_vengeance_god_come=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_vengeance_god_come,udg_Timer_come)
call TriggerAddAction(gg_trg_vengeance_god_come,function Trig_vengeance_god_comeActions)
endfunction
function Trig_vengeance_god_come_fzFunc011A takes nothing returns nothing
call SetPlayerUnitAvailableBJ('U007',true,GetEnumPlayer())
call SetPlayerUnitAvailableBJ('U002',true,GetEnumPlayer())
call CreateFogModifierRadiusLocBJ(true,GetEnumPlayer(),FOG_OF_WAR_VISIBLE,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),512)
endfunction
function Trig_vengeance_god_come_fzFunc012Func001Func002A takes nothing returns nothing
call SetPlayerAllianceStateBJ(LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xDFB448FB),GetEnumPlayer(),bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),LoadPlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xDFB448FB),bj_ALLIANCE_ALLIED_VISION)
endfunction
function Trig_vengeance_god_come_fzActions takes nothing returns nothing
local integer ydul_i
local integer ydul_c
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call FogEnable(true)
call StopSoundBJ(gg_snd_Will_come_190s,true)
call ClearTextMessages()
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=12
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call DisplayTimedTextToPlayer(ConvertedPlayer(GetForLoopIndexB()),.6,.6,3.,(udg_yanse[GetRandomInt(1,5)]+"复仇天神出现..."))
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
call PlaySoundBJ(gg_snd_appear)
call PlaySoundBJ(gg_snd_ZE_Ambience)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(gg_unit_h000_0027))
call CreateNUnitsAtLoc(1,'unpl',Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'ubon',Player(PLAYER_NEUTRAL_PASSIVE),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),bj_UNIT_FACING)
call SetUnitTimeScale(bj_lastCreatedUnit,3.)
call ForForce(udg_group_of_players[0],function Trig_vengeance_god_come_fzFunc011A)
set ydul_i=1
loop
exitwhen ydul_i>12
if((IsPlayerInForce(ConvertedPlayer(ydul_i),udg_group_of_players[1])==true))then
call SavePlayerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xDFB448FB,ConvertedPlayer(ydul_i))
call ForForce(udg_group_of_players[1],function Trig_vengeance_god_come_fzFunc012Func001Func002A)
else
endif
set ydul_i=ydul_i+1
endloop
call EnableTrigger(gg_trg_vengeance_god_Min)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call DestroyTimerDialog(udg_chuangkou)
call PauseTimer(udg_Human_jishiqi)
set ydul_c=1
loop
exitwhen ydul_c>12
call CameraSetEQNoiseForPlayer(ConvertedPlayer(ydul_c),7.)
set ydul_c=ydul_c+1
endloop
call YDWEPolledWaitNull(3.)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
set ydul_c=1
loop
exitwhen ydul_c>12
call CameraClearNoiseForPlayer(ConvertedPlayer(ydul_c))
set ydul_c=ydul_c+1
endloop
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_vengeance_god_come_fz takes nothing returns nothing
set gg_trg_vengeance_god_come_fz=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_vengeance_god_come_fz,udg_Human_jishiqi)
call TriggerAddAction(gg_trg_vengeance_god_come_fz,function Trig_vengeance_god_come_fzActions)
endfunction
function Trig_vengeance_god_MinFunc001Func002003001 takes nothing returns boolean
return((GetEnumPlayer()!=GetFilterPlayer()))
endfunction
function Trig_vengeance_god_MinFunc001A takes nothing returns nothing
call CreateTextTagUnitBJ(("+2"),gg_unit_h000_0027,0,12.,100.,86.,.0,0)
call ShowTextTagForceBJ(false,GetLastCreatedTextTag(),YDWEGetPlayersMatchingNull(Condition(function Trig_vengeance_god_MinFunc001Func002003001)))
call YDWETimerDestroyTextTag(3.,GetLastCreatedTextTag())
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagFadepoint(GetLastCreatedTextTag(),1.)
call AdjustPlayerStateBJ(2,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_vengeance_god_MinActions takes nothing returns nothing
call ForForce(udg_group_of_players[0],function Trig_vengeance_god_MinFunc001A)
endfunction
function InitTrig_vengeance_god_Min takes nothing returns nothing
set gg_trg_vengeance_god_Min=CreateTrigger()
call DisableTrigger(gg_trg_vengeance_god_Min)
call TriggerRegisterTimerEventPeriodic(gg_trg_vengeance_god_Min,.35)
call TriggerAddAction(gg_trg_vengeance_god_Min,function Trig_vengeance_god_MinActions)
endfunction
function Trig_Hero_MinFunc001A takes nothing returns nothing
call AdjustPlayerStateBJ(2,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Hero_MinActions takes nothing returns nothing
call ForForce(udg_group_of_players[1],function Trig_Hero_MinFunc001A)
endfunction
function InitTrig_Hero_Min takes nothing returns nothing
set gg_trg_Hero_Min=CreateTrigger()
call DisableTrigger(gg_trg_Hero_Min)
call TriggerRegisterTimerEventPeriodic(gg_trg_Hero_Min,.5)
call TriggerAddAction(gg_trg_Hero_Min,function Trig_Hero_MinActions)
endfunction
function Trig_Hero_deathConditions takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_Hero_deathActions takes nothing returns nothing
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1))then
call ForceRemovePlayer(udg_group_of_players[0],GetOwningPlayer(GetTriggerUnit()))
call ClearTextMessages()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+"被干掉了..."))
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),.7,.5,(("|cFFCC0000复仇天神："+I2S(CountPlayersInForceBJ(udg_group_of_players[0])))+("|r Vs |cFF3300CC"+(I2S(CountPlayersInForceBJ(udg_group_of_players[1]))+"：人类英雄"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PlaySoundBJ(gg_snd_KillHumanBossAnimationSnd)
else
endif
if((udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==0))then
call ForceRemovePlayer(udg_group_of_players[1],GetOwningPlayer(GetTriggerUnit()))
call ClearTextMessages()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,(LoadStr(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),0xBBAEF8F3)+"停止了呼吸..."))
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),.7,.5,(("|cFFCC0000复仇天神："+I2S(CountPlayersInForceBJ(udg_group_of_players[0])))+("|r Vs |cFF3300CC"+(I2S(CountPlayersInForceBJ(udg_group_of_players[1]))+"：人类英雄"))))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PlaySoundBJ(gg_snd_KillNanoAnimationSnd)
else
endif
endfunction
function InitTrig_Hero_death takes nothing returns nothing
set gg_trg_Hero_death=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hero_death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Hero_death,Condition(function Trig_Hero_deathConditions))
call TriggerAddAction(gg_trg_Hero_death,function Trig_Hero_deathActions)
endfunction
function Trig_WinActions takes nothing returns nothing
if((CountPlayersInForceBJ(udg_group_of_players[0])==0))then
call DisableTrigger(GetTriggeringTrigger())
call StopSoundBJ(gg_snd_ZE_Ambience,true)
call FogEnable(false)
call FogMaskEnable(false)
call YDWEPauseAllUnitsBJNull(true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call ResetToGameCameraForPlayer(ConvertedPlayer(GetForLoopIndexA()),0)
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,"|cFF0066FF人类胜利")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PlaySoundBJ(gg_snd_win_human)
call YDWEPolledWaitNull(5.)
call TriggerExecute(gg_trg_Games_end)
else
endif
if((CountPlayersInForceBJ(udg_group_of_players[1])==0))then
call DisableTrigger(GetTriggeringTrigger())
call StopSoundBJ(gg_snd_ZE_Ambience,true)
call FogEnable(false)
call FogMaskEnable(false)
set udg_winner=true
call YDWEPolledWaitNull(.75)
call YDWEPauseAllUnitsBJNull(true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call ResetToGameCameraForPlayer(ConvertedPlayer(GetForLoopIndexA()),0)
call DisplayTextToPlayer(ConvertedPlayer(GetForLoopIndexA()),0,0,"|cFFCC6633僵尸胜利")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PlaySoundBJ(gg_snd_win_zombi)
call DisableTrigger(GetTriggeringTrigger())
call YDWEPolledWaitNull(2.)
call TriggerExecute(gg_trg_Games_end)
else
endif
endfunction
function InitTrig_Win takes nothing returns nothing
set gg_trg_Win=CreateTrigger()
call DisableTrigger(gg_trg_Win)
call TriggerRegisterTimerEventPeriodic(gg_trg_Win,1.)
call TriggerAddAction(gg_trg_Win,function Trig_WinActions)
endfunction
function Trig_zb_upConditions takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='I03J'))
endfunction
function Trig_zb_upActions takes nothing returns nothing
call SaveInteger(YDHT,GetHandleId(Player(PLAYER_NEUTRAL_PASSIVE)),0xD6E10CAC,(LoadInteger(YDHT,GetHandleId(Player(PLAYER_NEUTRAL_PASSIVE)),0xD6E10CAC)+1))
endfunction
function InitTrig_zb_up takes nothing returns nothing
set gg_trg_zb_up=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zb_up,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_zb_up,Condition(function Trig_zb_upConditions))
call TriggerAddAction(gg_trg_zb_up,function Trig_zb_upActions)
endfunction
function Trig_Jump_thudConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A04Y'))
endfunction
function Trig_Jump_thudFunc011T takes nothing returns nothing
local integer ydul_c
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\szhb_2.mdx",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476)))
set ydul_c=1
loop
exitwhen ydul_c>20
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x9FDB62AC,((18.)*(I2R(ydul_c))))
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),20.,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x9FDB62AC)))
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),300.,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x9FDB62AC)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)))
call CreateNUnitsAtLoc(1,'h022',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80),LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x9FDB62AC))
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A04Z',GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A04Y'))
call IssuePointOrderLoc(bj_lastCreatedUnit,"impale",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4))
call YDWETimerRemoveUnit(1.5,bj_lastCreatedUnit)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4))
set ydul_c=ydul_c+1
endloop
call PauseUnitBJ(false,LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))
call SetUnitInvulnerable(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),false)
call ResetUnitAnimation(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))
call SetUnitTimeScale(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),1.)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Jump_thudActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetSpellTargetLoc())
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,GetUnitLoc(GetTriggerUnit()))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call YDWESetUnitFacingToFaceLocTimedNull(GetTriggerUnit(),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),0)
call PauseUnitBJ(true,GetTriggerUnit())
call SetUnitInvulnerable(GetTriggerUnit(),true)
call SetUnitAnimation(GetTriggerUnit(),"spell third")
call SetUnitTimeScale(GetTriggerUnit(),3.)
call YDWEJumpTimer(GetTriggerUnit(),AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476)),DistanceBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476)),.6,.03,425.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x9CD60476,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0xF5F725A7,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetSpellAbilityUnit())
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x24C3BB80,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x774DA7A4,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x9FDB62AC,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9FDB62AC))
call TimerStart(ydl_timer,.6,false,function Trig_Jump_thudFunc011T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Jump_thud takes nothing returns nothing
set gg_trg_Jump_thud=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Jump_thud,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Jump_thud,Condition(function Trig_Jump_thudConditions))
call TriggerAddAction(gg_trg_Jump_thud,function Trig_Jump_thudActions)
endfunction
function Trig_Anti_magic_shieldConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A050'))
endfunction
function Trig_Anti_magic_shieldActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetSpellTargetLoc())
call CreateNUnitsAtLoc(1,'h01L',GetOwningPlayer(GetSpellAbilityUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A051')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A051',GetUnitAbilityLevel(GetSpellAbilityUnit(),'A050'))
call IssueTargetOrder(bj_lastCreatedUnit,"antimagicshell",GetSpellAbilityUnit())
call YDWETimerRemoveUnit(.3,bj_lastCreatedUnit)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Anti_magic_shield takes nothing returns nothing
set gg_trg_Anti_magic_shield=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Anti_magic_shield,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Anti_magic_shield,Condition(function Trig_Anti_magic_shieldConditions))
call TriggerAddAction(gg_trg_Anti_magic_shield,function Trig_Anti_magic_shieldActions)
endfunction
function Trig_Conceal_hookConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A053'))
endfunction
function Trig_Conceal_hookFunc002003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false))))
endfunction
function Trig_Conceal_hookFunc003A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80,GetUnitLoc(GetEnumUnit()))
call YDWEMeatHook(GetTriggerUnit(),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80),'h024','h023',(DistanceBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80))+250.),25.,(I2R(GetUnitAbilityLevel(GetSpellAbilityUnit(),'A053'))*1500.),.03)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x24C3BB80))
endfunction
function Trig_Conceal_hookActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(GetTriggerUnit()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(1600.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),Condition(function Trig_Conceal_hookFunc002003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Conceal_hookFunc003A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call CreateNUnitsAtLoc(1,'h01L',GetOwningPlayer(GetSpellAbilityUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A054')
call IssueTargetOrder(bj_lastCreatedUnit,"invisibility",GetSpellAbilityUnit())
call YDWETimerRemoveUnit(.3,bj_lastCreatedUnit)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Conceal_hook takes nothing returns nothing
set gg_trg_Conceal_hook=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Conceal_hook,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Conceal_hook,Condition(function Trig_Conceal_hookConditions))
call TriggerAddAction(gg_trg_Conceal_hook,function Trig_Conceal_hookActions)
endfunction
function Trig_Meat_hookConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A05W'))
endfunction
function Trig_Meat_hookActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetSpellTargetLoc())
call YDWEMeatHook(GetTriggerUnit(),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),'h027','h026',2550.,20.,(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A05W'))*700.),((.045)-(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A05W'))*(.005))))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Meat_hook takes nothing returns nothing
set gg_trg_Meat_hook=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Meat_hook,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Meat_hook,Condition(function Trig_Meat_hookConditions))
call TriggerAddAction(gg_trg_Meat_hook,function Trig_Meat_hookActions)
endfunction
function Trig_Tooth_blade_impactConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A03S'))
endfunction
function Trig_Tooth_blade_impactFunc009Func007003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)and(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)))==true)and(IsUnitInGroup(GetFilterUnit(),LoadGroupHandle(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)),0x214C62CC))!=true)))))
endfunction
function Trig_Tooth_blade_impactFunc009Func008A takes nothing returns nothing
call GroupAddUnit(LoadGroupHandle(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)),0x214C62CC),GetEnumUnit())
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"chest"))
call CreateNUnitsAtLoc(1,'h01L',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B)),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'S000')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'S000',GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B),'A03S'))
call YDWETimerRemoveUnit(5.5,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"unholyfrenzy",GetEnumUnit())
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",GetEnumUnit(),"chest"))
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B),GetEnumUnit(),(I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B),'A03S'))*200.),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_SONIC,WEAPON_TYPE_METAL_MEDIUM_SLICE)
endfunction
function Trig_Tooth_blade_impactFunc009T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x792F9B78,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x792F9B78)+15.))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0xF3A2562E,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xF3A2562E)+10.))
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7),(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x792F9B78)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xF3A2562E)),AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))))
call TerrainDeformationCraterBJ(.2,false,LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80),125.,5.)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\StrongDrink\\BrewmasterMissile.mdl",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)))
call SetUnitPositionLoc(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
call SaveGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(125.,LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80),Condition(function Trig_Tooth_blade_impactFunc009Func007003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC),function Trig_Tooth_blade_impactFunc009Func008A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x792F9B78)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xF3A2562E))>=((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B),'A03S'))*250.)+1000.)))then
call KillUnit(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7))
call FlushChildHashtable(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)))
call YDWETimerRemoveUnit(2,LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Tooth_blade_impactActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetSpellTargetLoc())
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C,GetSpellAbilityUnit())
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4,GetUnitLoc(GetTriggerUnit()))
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4),((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x20CD7CD7),'A03S'))*250.)+1000.),AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),'h015',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4),AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))))
call SaveGroupHandle(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),0x214C62CC,CreateGroup())
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x10472E0B,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C))
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x20CD7CD7,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x9CD60476,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0xF5F725A7,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x792F9B78,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0xF3A2562E,.0)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x24C3BB80,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call SaveGroupHandle(YDHT,GetHandleId(ydl_timer),0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call TimerStart(ydl_timer,.02,true,function Trig_Tooth_blade_impactFunc009T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Tooth_blade_impact takes nothing returns nothing
set gg_trg_Tooth_blade_impact=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Tooth_blade_impact,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Tooth_blade_impact,Condition(function Trig_Tooth_blade_impactConditions))
call TriggerAddAction(gg_trg_Tooth_blade_impact,function Trig_Tooth_blade_impactActions)
endfunction
function Trig_Wind_blade_pitfallsConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A03U'))
endfunction
function Trig_Wind_blade_pitfallsActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetSpellTargetLoc())
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),'h01V',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),.0))
call SaveUnitHandle(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),0x06019743,GetSpellAbilityUnit())
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger()),0x214C62CC))
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476)))
if((IsUnitGroupEmptyBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))==true))then
call EnableTrigger(gg_trg_Wind_blade_pitfalls_fz1)
else
endif
call GroupAddUnit(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Wind_blade_pitfalls takes nothing returns nothing
set gg_trg_Wind_blade_pitfalls=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Wind_blade_pitfalls,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Wind_blade_pitfalls,Condition(function Trig_Wind_blade_pitfallsConditions))
call TriggerAddAction(gg_trg_Wind_blade_pitfalls,function Trig_Wind_blade_pitfallsActions)
endfunction
function Trig_Wind_blade_pitfalls_fzConditions takes nothing returns boolean
return((GetUnitTypeId(GetEventDamageSource())=='h01V'))
endfunction
function Trig_Wind_blade_pitfalls_fzFunc008Func002Func002A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80,GetUnitLoc(GetEnumUnit()))
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),(DistanceBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))+2.5),((AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)))+(2.))))
call SetUnitX(GetEnumUnit(),GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4)))
call SetUnitY(GetEnumUnit(),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4)))
call SetUnitVertexColorBJ(GetEnumUnit(),100,100,100,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xFDF65382))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4))
endfunction
function Trig_Wind_blade_pitfalls_fzFunc008Func002Func003Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_Wind_blade_pitfalls_fzFunc008Func002Func007A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80,GetUnitLoc(GetEnumUnit()))
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),75.,((AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)))+(.75))))
call SetUnitX(GetEnumUnit(),GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4)))
call SetUnitY(GetEnumUnit(),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4))
endfunction
function Trig_Wind_blade_pitfalls_fzFunc008T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x312C4181,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x312C4181)+.02))
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x312C4181)<=2.))then
call SetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476)))
call SetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476)))
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x1BF14788),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)/100.)/1.),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_SONIC,WEAPON_TYPE_METAL_LIGHT_SLICE)
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC),function Trig_Wind_blade_pitfalls_fzFunc008Func002Func007A)
else
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0xFDF65382,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xFDF65382)+1.2))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC),function Trig_Wind_blade_pitfalls_fzFunc008Func002Func002A)
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x312C4181)>=3.5))then
call RemoveUnit(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC),function Trig_Wind_blade_pitfalls_fzFunc008Func002Func003Func002A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Wind_blade_pitfalls_fzActions takes nothing returns nothing
local integer ydul_i
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(GetEventDamageSource()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C,LoadUnitHandle(YDHT,GetHandleId(GetEventDamageSource()),0x06019743))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,(I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C),'A03U'))*300.))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,CreateGroup())
set ydul_i=1
loop
exitwhen ydul_i>10
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),125.,((36.)*(I2R(ydul_i)))))
call CreateNUnitsAtLoc(1,'h01W',GetOwningPlayer(GetEventDamageSource()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),bj_UNIT_FACING)
call GroupAddUnit(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),bj_lastCreatedUnit)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
set ydul_i=ydul_i+1
endloop
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveGroupHandle(YDHT,GetHandleId(ydl_timer),0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x1BF14788,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C))
call SaveReal(YDHT,GetHandleId(ydl_timer),0xA3098AE2,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x312C4181,.0)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x20CD7CD7,GetEventDamageSource())
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetAttackedUnitBJ())
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x9CD60476,GetUnitLoc(GetEventDamageSource()))
call SaveReal(YDHT,GetHandleId(ydl_timer),0xFDF65382,.0)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x24C3BB80,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x774DA7A4,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4))
call TimerStart(ydl_timer,.02,true,function Trig_Wind_blade_pitfalls_fzFunc008T)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Wind_blade_pitfalls_fz takes nothing returns nothing
set gg_trg_Wind_blade_pitfalls_fz=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Wind_blade_pitfalls_fz)
call TriggerAddCondition(gg_trg_Wind_blade_pitfalls_fz,Condition(function Trig_Wind_blade_pitfalls_fzConditions))
call TriggerAddAction(gg_trg_Wind_blade_pitfalls_fz,function Trig_Wind_blade_pitfalls_fzActions)
endfunction
function Trig_Wind_blade_pitfalls_fz1Func002Func001Func002003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))==true))))
endfunction
function Trig_Wind_blade_pitfalls_fz1Func002Func001A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476,GetUnitLoc(GetEnumUnit()))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB,YDWEGetUnitsInRangeOfLocMatchingNull(225.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476),Condition(function Trig_Wind_blade_pitfalls_fz1Func002Func001Func002003003)))
if((IsUnitGroupEmptyBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))==false))then
call UnitDamageTarget(GetEnumUnit(),FirstOfGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB)),.01,false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call GroupRemoveUnit(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC),GetEnumUnit())
else
endif
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xD42855DB))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
endfunction
function Trig_Wind_blade_pitfalls_fz1Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(gg_trg_Wind_blade_pitfalls),0x214C62CC))
if((IsUnitGroupEmptyBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))==false))then
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Wind_blade_pitfalls_fz1Func002Func001A)
else
call GroupClear(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call DisableTrigger(GetTriggeringTrigger())
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Wind_blade_pitfalls_fz1 takes nothing returns nothing
set gg_trg_Wind_blade_pitfalls_fz1=CreateTrigger()
call DisableTrigger(gg_trg_Wind_blade_pitfalls_fz1)
call TriggerRegisterTimerEventPeriodic(gg_trg_Wind_blade_pitfalls_fz1,.05)
call TriggerAddAction(gg_trg_Wind_blade_pitfalls_fz1,function Trig_Wind_blade_pitfalls_fz1Actions)
endfunction
function Trig_Sharp_tooth_blade_crowdConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A04F'))
endfunction
function Trig_Sharp_tooth_blade_crowdActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetSpellTargetLoc())
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,GetUnitLoc(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C,GetSpellAbilityUnit())
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnitAtLoc(GetOwningPlayer(GetSpellAbilityUnit()),'h01L',LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7),.0))
call UnitAddAbility(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),'A04G')
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),'A04G',GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C),'A04F'))
call IssuePointOrderLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),"stampede",LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call YDWETimerRemoveUnit(10.,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_Sharp_tooth_blade_crowd takes nothing returns nothing
set gg_trg_Sharp_tooth_blade_crowd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sharp_tooth_blade_crowd,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sharp_tooth_blade_crowd,Condition(function Trig_Sharp_tooth_blade_crowdConditions))
call TriggerAddAction(gg_trg_Sharp_tooth_blade_crowd,function Trig_Sharp_tooth_blade_crowdActions)
endfunction
function Trig_Assault_break_enemysConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A04I'))
endfunction
function Trig_Assault_break_enemysFunc011T takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B)))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x792F9B78,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x792F9B78)+25.))
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7),(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x792F9B78)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xF3A2562E)),AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))))
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)))
call SetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)))
call SetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)))
if((YDWEDistanceBetweenUnits(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B))<=600.)and(LoadBoolean(YDHT,GetHandleId(GetExpiredTimer()),0x312C4181)==false))then
call SetUnitAnimation(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),"attack")
call SetUnitTimeScale(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),1.)
call SaveBoolean(YDHT,GetHandleId(GetExpiredTimer()),0x312C4181,true)
else
endif
if((YDWEDistanceBetweenUnits(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B))<=225.))then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B)),GetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B))))
call CreateNUnitsAtLoc(1,'h01X',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),GetUnitFacing(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)))
call YDWETimerRemoveUnit(1.,bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h01L',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A04J')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A04J',GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),'A04I'))
call YDWETimerRemoveUnit(.3,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"thunderbolt",LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B))
call CreateNUnitsAtLoc(1,'h01L',GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A04K')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A04K',GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),'A04I'))
call YDWETimerRemoveUnit(.3,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"cripple",LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B))
call PauseUnitBJ(false,LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7))
call SetUnitInvulnerable(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),false)
call ResetUnitAnimation(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7))
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x10472E0B),LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF),false,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_METAL_HEAVY_BASH)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
endfunction
function Trig_Assault_break_enemysActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,GetSpellAbilityUnit())
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C,GetSpellTargetUnit())
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F,(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A04I'))*450.))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call YDWESetUnitFacingToFaceUnitTimedNull(GetSpellAbilityUnit(),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C),0)
call PauseUnitBJ(true,GetTriggerUnit())
call SetUnitInvulnerable(GetTriggerUnit(),true)
call SetUnitAnimation(GetTriggerUnit(),"ready")
call SetUnitTimeScale(GetTriggerUnit(),3.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x20CD7CD7,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x10472E0B,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2EE2B56C))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xCFBB525F))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x792F9B78,.0)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0xF5F725A7,GetUnitLoc(GetSpellAbilityUnit()))
call SaveBoolean(YDHT,GetHandleId(ydl_timer),0x312C4181,false)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x9CD60476,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x24C3BB80,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call SaveReal(YDHT,GetHandleId(ydl_timer),0xF3A2562E,LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF3A2562E))
call TimerStart(ydl_timer,.02,true,function Trig_Assault_break_enemysFunc011T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Assault_break_enemys takes nothing returns nothing
set gg_trg_Assault_break_enemys=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Assault_break_enemys,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Assault_break_enemys,Condition(function Trig_Assault_break_enemysConditions))
call TriggerAddAction(gg_trg_Assault_break_enemys,function Trig_Assault_break_enemysActions)
endfunction
function Trig_Armoured_defenseConditions takes nothing returns boolean
return((GetLearnedSkill()=='A04L'))
endfunction
function Trig_Armoured_defenseActions takes nothing returns nothing
local integer ydul_i
if((GetUnitAbilityLevel(GetTriggerUnit(),'A04L')==1))then
call UnitAddAbility(GetTriggerUnit(),'A04N')
set ydul_i=1
loop
exitwhen ydul_i>12
call SetPlayerAbilityAvailable(ConvertedPlayer(ydul_i),'A04N',false)
set ydul_i=ydul_i+1
endloop
else
endif
call SetUnitAbilityLevel(GetTriggerUnit(),'A04M',GetUnitAbilityLevel(GetTriggerUnit(),'A04L'))
endfunction
function InitTrig_Armoured_defense takes nothing returns nothing
set gg_trg_Armoured_defense=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Armoured_defense,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_Armoured_defense,Condition(function Trig_Armoured_defenseConditions))
call TriggerAddAction(gg_trg_Armoured_defense,function Trig_Armoured_defenseActions)
endfunction
function Trig_Huge_armoured_defense_changeConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A04P'))
endfunction
function Trig_Huge_armoured_defense_changeFunc001Func011T takes nothing returns nothing
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),2,1,LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0xE8398CAB))
call SaveInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0xE8398CAB,R2I(((I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A04P'))*.5)*YDWEGetUnitArmor(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A02X'))))
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),2,0,LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0xE8398CAB))
if((GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A04Q')==0))then
call SetUnitAnimation(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),"birth")
call UnitAddAbility(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A04Q')
else
endif
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A04Q',GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A04P'))
if(((IsUnitAliveBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))==false)or(UnitHasBuffBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'BEme')==false)))then
call YDWEGeneralBounsSystemUnitSetBonus(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),2,1,LoadInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0xE8398CAB))
call SaveInteger(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),0xE8398CAB,0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Huge_armoured_defense_changeActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
if((LoadBoolean(YDHT,GetHandleId(GetSpellAbilityUnit()),0xB8F281F5)==true))then
call SaveBoolean(YDHT,GetHandleId(GetSpellAbilityUnit()),0xB8F281F5,false)
else
call SetUnitAnimation(GetSpellAbilityUnit(),"spell")
call SaveBoolean(YDHT,GetHandleId(GetSpellAbilityUnit()),0xB8F281F5,true)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationCaster.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",GetTriggerUnit(),"head"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",GetTriggerUnit(),"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",GetTriggerUnit(),"hand left"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",GetTriggerUnit(),"hand right"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",GetTriggerUnit(),"foot left"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",GetTriggerUnit(),"foot right"))
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetSpellAbilityUnit())
call TimerStart(ydl_timer,.3,true,function Trig_Huge_armoured_defense_changeFunc001Func011T)
endif
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Huge_armoured_defense_change takes nothing returns nothing
set gg_trg_Huge_armoured_defense_change=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Huge_armoured_defense_change,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Huge_armoured_defense_change,Condition(function Trig_Huge_armoured_defense_changeConditions))
call TriggerAddAction(gg_trg_Huge_armoured_defense_change,function Trig_Huge_armoured_defense_changeActions)
endfunction
function Trig_Holy_boltConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A04S'))
endfunction
function Trig_Holy_boltFunc006003003 takes nothing returns boolean
return((((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and(GetFilterUnit()!=LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)))and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false))))
endfunction
function Trig_Holy_boltFunc007A takes nothing returns nothing
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x20CD7CD7,CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h01Y',GetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),GetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0xC303079D)),0))
call SetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x20CD7CD7),'A04S',GetUnitAbilityLevel(GetTriggerUnit(),'A04S'))
call YDWETimerRemoveUnit(1.5,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x20CD7CD7))
call IssueTargetOrder(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x20CD7CD7),"healingwave",GetEnumUnit())
endfunction
function Trig_Holy_boltActions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,GetSpellTargetUnit())
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)))
call SaveReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF,((I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A04S'))*200.)+200.))
call SetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),UNIT_STATE_LIFE,(GetUnitState(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),UNIT_STATE_LIFE)+LoadReal(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x4BB7FBCF)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",GetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D)),GetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))))
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(356.,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),Condition(function Trig_Holy_boltFunc006003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),function Trig_Holy_boltFunc007A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Holy_bolt takes nothing returns nothing
set gg_trg_Holy_bolt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Holy_bolt,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Holy_bolt,Condition(function Trig_Holy_boltConditions))
call TriggerAddAction(gg_trg_Holy_bolt,function Trig_Holy_boltActions)
endfunction
function Trig_BlinkConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A04V'))
endfunction
function Trig_BlinkFunc007T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)+1.))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x6B54C545,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x6B54C545)+.02))
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7),(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)*(DistanceBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))/20.)),AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))))
call SetUnitVertexColorBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),100,100,100,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)*.2))
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x6B54C545)<=.2))then
call SetUnitVertexColorBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x2EE2B56C),100,100,100,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)*8.))
else
call SetUnitVertexColorBJ(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x2EE2B56C),100,100,100,(80.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)*8.)))
endif
call SaveLightningHandle(YDHT,GetHandleId(GetExpiredTimer()),0x2D1E4992,AddLightning("FORK",true,GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7)),GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))))
call SetLightningColor(LoadLightningHandle(YDHT,GetHandleId(GetExpiredTimer()),0x2D1E4992),GetRandomReal(0,1),GetRandomReal(0,1),GetRandomReal(0,1),(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)*.1))
call YDWETimerDestroyLightning(.02,LoadLightningHandle(YDHT,GetHandleId(GetExpiredTimer()),0x2D1E4992))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x6B54C545)>=.4))then
call RemoveUnit(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0xF5F725A7))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_BlinkActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetSpellTargetLoc())
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7,GetUnitLoc(GetTriggerUnit()))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h01Z',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit())))
call SetUnitVertexColorBJ(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),100,100,100,20.)
call SetUnitAnimation(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),"spell")
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x20CD7CD7,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x2EE2B56C,GetSpellAbilityUnit())
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x9CD60476,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0xF5F725A7,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xF5F725A7))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x6B54C545,.0)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x24C3BB80,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call SaveLightningHandle(YDHT,GetHandleId(ydl_timer),0x2D1E4992,LoadLightningHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x2D1E4992))
call TimerStart(ydl_timer,.02,true,function Trig_BlinkFunc007T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Blink takes nothing returns nothing
set gg_trg_Blink=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Blink,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Blink,Condition(function Trig_BlinkConditions))
call TriggerAddAction(gg_trg_Blink,function Trig_BlinkActions)
endfunction
function Trig_Star_bombConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A04W'))
endfunction
function Trig_Star_bombFunc005Func005A takes nothing returns nothing
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80,GetUnitLoc(GetEnumUnit()))
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),(425.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)*8.)),((AngleBetweenPoints(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)))+(2.))))
call SetUnitX(GetEnumUnit(),GetLocationX(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4)))
call SetUnitY(GetEnumUnit(),GetLocationY(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4)))
call YDWESetUnitFacingToFaceLocTimedNull(GetEnumUnit(),LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),0)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x774DA7A4))
endfunction
function Trig_Star_bombFunc005Func006Func005A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_Star_bombFunc005Func006Func007003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))==true))))
endfunction
function Trig_Star_bombFunc005Func006Func008A takes nothing returns nothing
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),GetEnumUnit(),(I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A04W'))*250.),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_Star_bombFunc005T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydul_i
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x312C4181,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x312C4181)+.02))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF)+1.))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC),function Trig_Star_bombFunc005Func005A)
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x312C4181)>=1.))then
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\lightningwrath.mdx",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476)))
set ydul_i=1
loop
exitwhen ydul_i>10
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),250.,((36.)*(I2R(ydul_i)))))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)))
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\farseermissile_purple_2.mdx",LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80)))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x24C3BB80))
set ydul_i=ydul_i+1
endloop
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC),function Trig_Star_bombFunc005Func006Func005A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC))
call SaveGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(450.,LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),Condition(function Trig_Star_bombFunc005Func006Func007003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC),function Trig_Star_bombFunc005Func006Func008A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Star_bombActions takes nothing returns nothing
local integer ydul_i
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476,GetSpellTargetLoc())
call SaveGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC,CreateGroup())
set ydul_i=1
loop
exitwhen ydul_i>10
call SaveLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80,PolarProjectionBJ(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476),425.,((36.)*(I2R(ydul_i)))))
call CreateNUnitsAtLoc(1,'h020',GetOwningPlayer(GetSpellAbilityUnit()),LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80),bj_UNIT_FACING)
call GroupAddUnit(LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC),bj_lastCreatedUnit)
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
set ydul_i=ydul_i+1
endloop
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x9CD60476,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call SaveGroupHandle(YDHT,GetHandleId(ydl_timer),0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetSpellAbilityUnit())
call SaveReal(YDHT,GetHandleId(ydl_timer),0x312C4181,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,.0)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x24C3BB80,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x24C3BB80))
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x774DA7A4,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x774DA7A4))
call SaveGroupHandle(YDHT,GetHandleId(ydl_timer),0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call TimerStart(ydl_timer,.02,true,function Trig_Star_bombFunc005T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Star_bomb takes nothing returns nothing
set gg_trg_Star_bomb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Star_bomb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Star_bomb,Condition(function Trig_Star_bombConditions))
call TriggerAddAction(gg_trg_Star_bomb,function Trig_Star_bombActions)
endfunction
function Trig_Rapid_ghosting_effectConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A062'))
endfunction
function Trig_Rapid_ghosting_effectFunc008T takes nothing returns nothing
call SetUnitTimeScale(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),.0)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Rapid_ghosting_effectActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetTriggerUnit(),"origin"))
call SaveUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D,CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h028',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit())))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2,GetRandomInt(1,5))
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)==1))then
call SetUnitAnimation(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),"stand")
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)==2))then
call SetUnitAnimation(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),"walk")
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)==3))then
call SetUnitAnimation(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),"attack")
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)==4))then
call SetUnitAnimation(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),"slam")
else
if((LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xA3098AE2)==5))then
call SetUnitAnimation(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),"ready")
else
endif
endif
endif
endif
endif
call SetUnitVertexColor(LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D),0,150,150,150)
call YDWETimerRemoveUnit((20.+(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A062'))*15.)),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x20CD7CD7,LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call TimerStart(ydl_timer,GetRandomReal(0,1.5),false,function Trig_Rapid_ghosting_effectFunc008T)
call GroupAddUnit(LoadGroupHandle(YDHT,GetHandleId(GetSpellAbilityUnit()),0xA0C69A94),LoadUnitHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0xC303079D))
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Rapid_ghosting_effect takes nothing returns nothing
set gg_trg_Rapid_ghosting_effect=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rapid_ghosting_effect,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Rapid_ghosting_effect,Condition(function Trig_Rapid_ghosting_effectConditions))
call TriggerAddAction(gg_trg_Rapid_ghosting_effect,function Trig_Rapid_ghosting_effectActions)
endfunction
function Trig_Rapid_ghosting_effect_fzConditions takes nothing returns boolean
return((GetLearnedSkill()=='A062'))
endfunction
function Trig_Rapid_ghosting_effect_fzActions takes nothing returns nothing
if((GetUnitAbilityLevel(GetLearningUnit(),'A062')==1))then
call SaveGroupHandle(YDHT,GetHandleId(GetLearningUnit()),0xA0C69A94,CreateGroup())
else
endif
endfunction
function InitTrig_Rapid_ghosting_effect_fz takes nothing returns nothing
set gg_trg_Rapid_ghosting_effect_fz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rapid_ghosting_effect_fz,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_Rapid_ghosting_effect_fz,Condition(function Trig_Rapid_ghosting_effect_fzConditions))
call TriggerAddAction(gg_trg_Rapid_ghosting_effect_fz,function Trig_Rapid_ghosting_effect_fzActions)
endfunction
function Trig_Rotary_blade_stormConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A064'))
endfunction
function Trig_Rotary_blade_stormFunc002Func003003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))==true))))
endfunction
function Trig_Rotary_blade_stormFunc002Func004A takes nothing returns nothing
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),GetEnumUnit(),(I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D),'A064'))*50.),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_SONIC,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"chest"))
endfunction
function Trig_Rotary_blade_stormFunc002T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)+.25))
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(315.,LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),Condition(function Trig_Rotary_blade_stormFunc002Func003003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC),function Trig_Rotary_blade_stormFunc002Func004A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)>=1.5))then
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Rotary_blade_stormFunc003Func004Func003003003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))==true))))
endfunction
function Trig_Rotary_blade_stormFunc003Func004Func004A takes nothing returns nothing
call UnitDamageTarget(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),GetEnumUnit(),(I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7),'A064'))*50.),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_SONIC,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"chest"))
endfunction
function Trig_Rotary_blade_stormFunc003Func004T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)+.25))
call SaveLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476,GetUnitLoc(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)))
call SaveGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(315.,LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476),Condition(function Trig_Rotary_blade_stormFunc003Func004Func003003003)))
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC),function Trig_Rotary_blade_stormFunc003Func004Func004A)
call DestroyGroup(LoadGroupHandle(YDHT,GetHandleId(GetExpiredTimer()),0x214C62CC))
call RemoveLocation(LoadLocationHandle(YDHT,GetHandleId(GetExpiredTimer()),0x9CD60476))
if((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0xA3098AE2)>=1.5))then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),GetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl",GetUnitX(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D)),GetUnitY(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))))
call GroupRemoveUnit(LoadGroupHandle(YDHT,GetHandleId(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0x20CD7CD7)),0xA0C69A94),LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))
call RemoveUnit(LoadUnitHandle(YDHT,GetHandleId(GetExpiredTimer()),0xC303079D))
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_Rotary_blade_stormFunc003A takes nothing returns nothing
local timer ydl_timer
call SetUnitTimeScale(GetEnumUnit(),1.)
call SetUnitAnimation(GetEnumUnit(),"Attack Walk Stand Spin")
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x3B44AAED)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetEnumUnit())
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0x20CD7CD7,GetSpellAbilityUnit())
call SaveReal(YDHT,GetHandleId(ydl_timer),0xA3098AE2,.0)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x9CD60476,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x9CD60476))
call SaveGroupHandle(YDHT,GetHandleId(ydl_timer),0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7),0x214C62CC))
call TimerStart(ydl_timer,.25,true,function Trig_Rotary_blade_stormFunc003Func004T)
set ydl_timer=null
endfunction
function Trig_Rotary_blade_stormActions takes nothing returns nothing
local timer ydl_timer
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveUnitHandle(YDHT,GetHandleId(ydl_timer),0xC303079D,GetSpellAbilityUnit())
call SaveReal(YDHT,GetHandleId(ydl_timer),0xA3098AE2,.0)
call SaveLocationHandle(YDHT,GetHandleId(ydl_timer),0x9CD60476,LoadLocationHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x9CD60476))
call SaveGroupHandle(YDHT,GetHandleId(ydl_timer),0x214C62CC,LoadGroupHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x214C62CC))
call TimerStart(ydl_timer,.25,true,function Trig_Rotary_blade_stormFunc002T)
call ForGroupBJ(LoadGroupHandle(YDHT,GetHandleId(GetSpellAbilityUnit()),0xA0C69A94),function Trig_Rotary_blade_stormFunc003A)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_Rotary_blade_storm takes nothing returns nothing
set gg_trg_Rotary_blade_storm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rotary_blade_storm,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Rotary_blade_storm,Condition(function Trig_Rotary_blade_stormConditions))
call TriggerAddAction(gg_trg_Rotary_blade_storm,function Trig_Rotary_blade_stormActions)
endfunction
function Trig_Critical_strikeConditions takes nothing returns boolean
return((UnitHasBuffBJ(GetAttackedUnitBJ(),'B00I')==true)and(GetUnitAbilityLevel(GetEventDamageSource(),'A063')>=1))
endfunction
function Trig_Critical_strikeFunc011Func004Func002T takes nothing returns nothing
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.85))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.7))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),(32.-(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=10.))then
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x47C461BA))),12.)
call YDWETimerDestroyTextTag(3.,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000))
call SetTextTagPermanent(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),false)
call SetTextTagFadepoint(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),1.)
call SetTextTagVelocityBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0xDEFC4000),50.,90)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
endfunction
function Trig_Critical_strikeFunc011T takes nothing returns nothing
local timer ydl_timer
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+.65))
call SaveReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571,(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571)+.5))
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC),I2S(R2I(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))),(12.+(LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))))
if(((LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x7ACA28E7)+LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x18ABF571))>=22.))then
call SaveTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetExpiredTimer()),0x3B44AAED)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0xDEFC4000,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x47C461BA,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,LoadReal(YDHT,GetHandleId(GetExpiredTimer()),0x4BB7FBCF))
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetExpiredTimer()),0x50525CFC))
call TimerStart(ydl_timer,.02,true,function Trig_Critical_strikeFunc011Func004Func002T)
call FlushChildHashtable(YDHT,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
endif
set ydl_timer=null
endfunction
function Trig_Critical_strikeActions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger()),0xECE825E7,ydl_localvar_step)
call YDWETimerDestroyEffect(.33,AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",GetEventDamageSource(),"weapon"))
call SaveInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7,R2I((GetEventDamage()*((I2R(GetUnitAbilityLevel(GetEventDamageSource(),'A063'))*.25)+.25))))
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTarget(GetEventDamageSource(),GetAttackedUnitBJ(),(I2R(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7))-GetEventDamage()),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call EnableTrigger(GetTriggeringTrigger())
call SaveTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8,CreateTextTag())
call SetTextTagPos(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource()),25.)
call SetTextTagColorBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),100.,.0,20.,0)
call SetTextTagTextBJ(LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8),I2S(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)),12.)
call SaveTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC,CreateTimer())
set ydl_timer=LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x1CA61CEC)
call SaveTextTagHandle(YDHT,GetHandleId(ydl_timer),0x50525CFC,LoadTextTagHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x32A9E4C8))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x4BB7FBCF,I2R(LoadInteger(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x6750C8C7)))
call SaveReal(YDHT,GetHandleId(ydl_timer),0x7ACA28E7,.0)
call SaveReal(YDHT,GetHandleId(ydl_timer),0x18ABF571,.0)
call SaveTimerHandle(YDHT,GetHandleId(ydl_timer),0x3B44AAED,LoadTimerHandle(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,0x3B44AAED))
call TimerStart(ydl_timer,.02,true,function Trig_Critical_strikeFunc011T)
call FlushChildHashtable(YDHT,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_Critical_strike takes nothing returns nothing
set gg_trg_Critical_strike=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Critical_strike)
call TriggerAddCondition(gg_trg_Critical_strike,Condition(function Trig_Critical_strikeConditions))
call TriggerAddAction(gg_trg_Critical_strike,function Trig_Critical_strikeActions)
endfunction

//新增7个触发器
//===========================================================================
// Trigger: Record kill
//===========================================================================
//===========================================================================
// Trigger: Record kill
//===========================================================================
function Trig_Record_killConditions takes nothing returns boolean
    return ( ( ( GetUnitPointValue(GetTriggerUnit()) == 1 ) or ( GetUnitPointValue(GetTriggerUnit()) == 2 ) ) and ( udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == 0 ) and ( udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] == 1 ) and ( YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit() , 'clfm') != true ) and ( IsUnitIllusionBJ(GetKillingUnitBJ()) == false ) )
endfunction
function Trig_Record_killActions takes nothing returns nothing
    call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(GetKillingUnitBJ())), 0x42948F16, ( ( LoadInteger(YDHT, GetHandleId(GetOwningPlayer(GetKillingUnitBJ())), 0x42948F16) ) + ( 1 ) ))
    call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 0x81580161, 1)
endfunction
//===========================================================================
function InitTrig_Record_kill takes nothing returns nothing
    set gg_trg_Record_kill=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Record_kill, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_Record_kill, Condition(function Trig_Record_killConditions))
    call TriggerAddAction(gg_trg_Record_kill, function Trig_Record_killActions)
endfunction

//===========================================================================
// Trigger: Record Hurt
//===========================================================================
function Trig_Record_HurtConditions takes nothing returns boolean
    return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == true ) and ( udg_Number[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] == 1 ) )
endfunction
function Trig_Record_HurtActions takes nothing returns nothing
    call SaveReal(YDHT, GetHandleId(GetOwningPlayer(GetEventDamageSource())), 0x9375D887, ( ( LoadReal(YDHT, GetHandleId(GetOwningPlayer(GetEventDamageSource())), 0x9375D887) ) + ( GetEventDamage() ) ))
endfunction
//===========================================================================
function InitTrig_Record_Hurt takes nothing returns nothing
    set gg_trg_Record_Hurt=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_Record_Hurt)
    call TriggerAddCondition(gg_trg_Record_Hurt, Condition(function Trig_Record_HurtConditions))
    call TriggerAddAction(gg_trg_Record_Hurt, function Trig_Record_HurtActions)
endfunction


//===========================================================================
// Trigger: Record time
//===========================================================================
function Trig_Record_timeFunc003001001001 takes nothing returns boolean
    return ( ( ( GetPlayerController(GetFilterPlayer()) == MAP_CONTROL_USER ) and ( GetPlayerSlotState(GetFilterPlayer()) == PLAYER_SLOT_STATE_PLAYING ) ) )
endfunction
function Trig_Record_timeConditions takes nothing returns boolean
    return ( ( CountPlayersInForceBJ(YDWEGetPlayersMatchingNull(Condition(function Trig_Record_timeFunc003001001001))) > 1 ) )
endfunction
function Trig_Record_timeFunc002Func001A takes nothing returns nothing
    call SaveInteger(YDHT, GetHandleId(GetEnumPlayer()), 0x5D9ED9EC, ( ( LoadInteger(YDHT, GetHandleId(GetEnumPlayer()), 0x5D9ED9EC) ) + ( 1 ) ))
endfunction
function Trig_Record_timeFunc002T takes nothing returns nothing
    call ForForce(udg_group_of_players[1], function Trig_Record_timeFunc002Func001A)
    if ( ( CountPlayersInForceBJ(udg_group_of_players[1]) <= 0 ) ) then
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
    endif
endfunction
function Trig_Record_timeActions takes nothing returns nothing
    local timer ydl_timer
    call Upload_Data_Integer(udg_GC , "Data" , "GameStart" , 0)
    set ydl_timer=CreateTimer()
    call TimerStart(ydl_timer, 1.00, true, function Trig_Record_timeFunc002T)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_Record_time takes nothing returns nothing
    set gg_trg_Record_time=CreateTrigger()
    call TriggerRegisterTimerExpireEvent(gg_trg_Record_time, udg_Jishiqi[1])
    call TriggerAddCondition(gg_trg_Record_time, Condition(function Trig_Record_timeConditions))
    call TriggerAddAction(gg_trg_Record_time, function Trig_Record_timeActions)
endfunction

//===========================================================================
// Trigger: 6B - J
//===========================================================================
function Trig_6B___JActions takes nothing returns nothing
    set udg_GC=InitGameCache("dr.x")
endfunction
//===========================================================================
function InitTrig_6B___J takes nothing returns nothing
    set gg_trg_6B___J=CreateTrigger()
    call TriggerAddAction(gg_trg_6B___J, function Trig_6B___JActions)
endfunction

//===========================================================================
// Trigger: Record hurt_end
//===========================================================================
function Trig_Record_hurt_endActions takes nothing returns nothing
    local integer ydul_i
    local integer ydul_a
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
 set ydl_localvar_step=ydl_localvar_step + 3
 call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
 call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3098AE2, 0.00)
    set ydul_i=1
    loop
        exitwhen ydul_i > 11
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x98B58FC3, RMaxBJ(LoadReal(YDHT, GetHandleId(ConvertedPlayer(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))), 0x9375D887), LoadReal(YDHT, GetHandleId(ConvertedPlayer(( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) ) + ( 1 ) ))), 0x9375D887)))
        if ( ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x98B58FC3) > LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3098AE2) ) ) then
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3098AE2, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x98B58FC3))
        else
        endif
        set ydul_i=ydul_i + 1
    endloop
    set ydul_a=1
    loop
        exitwhen ydul_a > 12
        if ( ( LoadReal(YDHT, GetHandleId(ConvertedPlayer(ydul_i)), 0x9375D887) == LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3098AE2) ) ) then
            call SavePlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8, ConvertedPlayer(ydul_i))
        else
        endif
        set ydul_a=ydul_a + 1
    endloop
    call SavePlayerHandle(YDHT, GetHandleId(gg_trg_Record_all), 0xC3E47FB0, LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))
    call DisableTrigger(gg_trg_Record_Hurt)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_Record_hurt_end takes nothing returns nothing
    set gg_trg_Record_hurt_end=CreateTrigger()
    call TriggerRegisterTimerEventSingle(gg_trg_Record_hurt_end, 1865.00)
    call TriggerAddAction(gg_trg_Record_hurt_end, function Trig_Record_hurt_endActions)
endfunction



//===========================================================================
// Trigger: Record all
//===========================================================================
function Trig_Record_allFunc002Func016Func001003002 takes nothing returns boolean
    return ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_PEON) == true ) )
endfunction
function Trig_Record_allFunc002Func016Func004003002 takes nothing returns boolean
    return ( ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true ) and ( IsUnitIllusionBJ(GetFilterUnit()) != true ) ) )
endfunction
function Trig_Record_allFunc002A takes nothing returns nothing
    set udg_solt_id_int=GetConvertedPlayerId(GetEnumPlayer())
    if ( ( udg_solt_id_int <= 9 ) ) then
        set udg_solt_id=I2S(udg_solt_id_int)
    else
        if ( ( udg_solt_id_int == 9 ) ) then
            set udg_solt_id="A"
        else
            if ( ( udg_solt_id_int == 11 ) ) then
                set udg_solt_id="B"
            else
                if ( ( udg_solt_id_int == 12 ) ) then
                    set udg_solt_id="C"
                else
                endif
            endif
        endif
    endif
    // 杀敌/结果/生存
    if ( ( udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8))] == 1 ) ) then
        call StoreString(udg_GC, "Data", ( "num4_" + udg_solt_id ), I2S(LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0x42948F16)))
        set udg_int=LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0x42948F16)
        set udg_str=( "num4_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , udg_int)
        if ( ( LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0x81580161) != 1 ) ) then
            call StoreString(udg_GC, "Data", ( "num3_" + udg_solt_id ), "1")
            set udg_str=( "num3_" + udg_solt_id )
            call Upload_Data_Integer(udg_GC , "Data" , udg_str , 1)
        else
        endif
        if ( ( udg_winner == true ) and ( LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0x81580161) != 1 ) ) then
            call StoreString(udg_GC, "result", "胜利", I2S(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xA3098AE2)))
            set udg_str="胜利"
            call Upload_Data_Integer(udg_GC , "result" , udg_str , udg_solt_id_int)
            call StoreString(udg_GC, "Data", ( "num1_" + udg_solt_id ), "1")
            set udg_str=( "num1_" + udg_solt_id )
            call Upload_Data_Integer(udg_GC , "Data" , udg_str , 1)
        else
            call StoreString(udg_GC, "result", "失败", I2S(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xA3098AE2)))
            set udg_str="失败"
            call Upload_Data_Integer(udg_GC , "result" , udg_str , udg_solt_id_int)
            call StoreString(udg_GC, "Data", ( "num1_" + udg_solt_id ), "0")
            set udg_str=( "num1_" + udg_solt_id )
            call Upload_Data_Integer(udg_GC , "Data" , udg_str , 0)
        endif
    else
        if ( ( udg_winner == true ) ) then
            call StoreString(udg_GC, "result", "失败", I2S(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xA3098AE2)))
            set udg_str="失败"
            call Upload_Data_Integer(udg_GC , "result" , udg_str , udg_solt_id_int)
            call StoreString(udg_GC, "Data", ( "num1_" + udg_solt_id ), "0")
            set udg_str=( "num1_" + udg_solt_id )
            call Upload_Data_Integer(udg_GC , "Data" , udg_str , 0)
        else
            call StoreString(udg_GC, "result", "胜利", I2S(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xA3098AE2)))
            set udg_str="胜利"
            call Upload_Data_Integer(udg_GC , "result" , udg_str , udg_solt_id_int)
            call StoreString(udg_GC, "Data", ( "num1_" + udg_solt_id ), "1")
            set udg_str=( "num1_" + udg_solt_id )
            call Upload_Data_Integer(udg_GC , "Data" , udg_str , 1)
        endif
    endif
    // 阵营/生存时长
    if ( ( LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0x75085DE5) == 1 ) ) then
        call StoreString(udg_GC, "Data", ( "num2_" + udg_solt_id ), "1")
        set udg_str=( "num2_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , 1)
    else
        call StoreString(udg_GC, "Data", ( "num2_" + udg_solt_id ), "2")
        set udg_str=( "num2_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , 2)
        call StoreString(udg_GC, "Data", ( "num6_" + udg_solt_id ), I2S(LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0x5D9ED9EC)))
        set udg_int=LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0x5D9ED9EC)
        set udg_str=( "num6_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , udg_int)
    endif
    // MVP
    if ( ( LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8) == LoadPlayerHandle(YDHT, GetHandleId(gg_trg_Record_all), 0xC3E47FB0) ) and ( LoadReal(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(gg_trg_Record_all), 0xC3E47FB0)), 0x9375D887) != 0.00 ) ) then
        call StoreString(udg_GC, "Data", ( "num5_" + udg_solt_id ), "1")
        set udg_str=( "num5_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , 1)
    else
        call StoreString(udg_GC, "Data", ( "num5_" + udg_solt_id ), "2")
        set udg_str=( "num5_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , 2)
    endif
    // 状态
    set udg_str=""
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=StringLength(LoadStr(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0xAF9C0D5D))
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( ( SubStringBJ(LoadStr(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0xAF9C0D5D), bj_forLoopAIndex, bj_forLoopAIndex) != "(" ) and ( SubStringBJ(LoadStr(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0xAF9C0D5D), bj_forLoopAIndex, bj_forLoopAIndex) != ")" ) ) ) then
            set udg_str=( udg_str + SubStringBJ(LoadStr(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0xAF9C0D5D), bj_forLoopAIndex, bj_forLoopAIndex) )
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    if ( ( udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8))] == 1 ) ) then
        if ( ( LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8)), 0x81580161) != 1 ) ) then
            call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xA7FB4EDA, ( ( "1:游戏结果:僵尸_" ) + ( udg_str ) + ( ";状态_母体" ) ))
        else
            call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xA7FB4EDA, ( ( "1:游戏结果:僵尸_" ) + ( udg_str ) + ( ";状态_被感染") ))
        endif
    else
        call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xA7FB4EDA, ( ( "1:游戏结果:僵尸_" ) + ( udg_str ) + ( ";状态_存活" ) ))
    endif
    set udg_str=LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xA7FB4EDA)
    call StoreString(udg_GC, "json", udg_str, I2S(udg_solt_id_int))
    call Upload_Data_Integer(udg_GC , "Data" , udg_str , udg_solt_id_int)
    // 物品
    if ( ( udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8))] == 1 ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x214C62CC, YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8) , Condition(function Trig_Record_allFunc002Func016Func004003002)))
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xC303079D, FirstOfGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x214C62CC)))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x214C62CC))
    else
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x214C62CC, YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x32A9E4C8) , Condition(function Trig_Record_allFunc002Func016Func001003002)))
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xC303079D, FirstOfGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x214C62CC)))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x214C62CC))
    endif
    set udg_str="2:物品:"
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820, UnitItemInSlotBJ(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xC303079D), bj_forLoopAIndex))
        if ( ( LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820) != null ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x98B58FC3, 0)
            set bj_forLoopBIndex=1
            set bj_forLoopBIndexEnd=StringLength(GetItemName(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820)))
            loop
                exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
                if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x98B58FC3) != 1 ) ) then
                    if ( ( SubStringBJ(GetItemName(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820)), bj_forLoopBIndex, bj_forLoopBIndex) == "|" ) ) then
                        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x98B58FC3, 1)
                        call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x24D4688D, ( LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x24D4688D) + SubStringBJ(GetItemName(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820)), ( ( bj_forLoopBIndex ) + ( 10 ) ), StringLength(GetItemName(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820)))) ))
                    else
                        call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xDFB448FB, ( LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xDFB448FB) + SubStringBJ(GetItemName(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820)), bj_forLoopBIndex, bj_forLoopBIndex) ))
                    endif
                else
                endif
                set bj_forLoopBIndex=bj_forLoopBIndex + 1
            endloop
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x98B58FC3, 0)
            set bj_forLoopBIndex=1
            set bj_forLoopBIndexEnd=StringLength(LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xDFB448FB))
            loop
                exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
                if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x98B58FC3) != 1 ) ) then
                    if ( ( SubStringBJ(LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xDFB448FB), bj_forLoopBIndex, bj_forLoopBIndex) == "|" ) ) then
                        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x98B58FC3, 1)
                        call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x437E2A40, ( LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x437E2A40) + SubStringBJ(LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xDFB448FB), ( ( bj_forLoopBIndex ) + ( 2 ) ), StringLength(LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xDFB448FB))) ))
                    else
                        call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x437E2A40, ( LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x437E2A40) + SubStringBJ(LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xDFB448FB), bj_forLoopBIndex, bj_forLoopBIndex) ))
                    endif
                else
                endif
                set bj_forLoopBIndex=bj_forLoopBIndex + 1
            endloop
            call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x437E2A40, ( LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x437E2A40) + "_0;" ))
        else
            call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x437E2A40, ( "无_0;" ))
        endif
        set udg_str=( udg_str + LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x437E2A40) )
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call StoreString(udg_GC, "json", udg_str, I2S(udg_solt_id_int))
    call Upload_Data_Integer(udg_GC , "Data" , udg_str , udg_solt_id_int)
endfunction
function Trig_Record_allActions takes nothing returns nothing
    call DestroyTrigger(gg_trg_Record_exit)
    call ForForce(udg_group_of_players[5], function Trig_Record_allFunc002A)
    call Upload_Data_Integer(udg_GC , "Data" , "GameOver" , 0)
endfunction
//===========================================================================
function InitTrig_Record_all takes nothing returns nothing
    set gg_trg_Record_all=CreateTrigger()
    call TriggerAddAction(gg_trg_Record_all, function Trig_Record_allActions)
endfunction
//===========================================================================
// Trigger: Record exit
//===========================================================================
function Trig_Record_exitFunc023Func001003002 takes nothing returns boolean
    return ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_PEON) == true ) )
endfunction
function Trig_Record_exitFunc023Func004003002 takes nothing returns boolean
    return ( ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true ) and ( IsUnitIllusionBJ(GetFilterUnit()) != true ) ) )
endfunction
function Trig_Record_exitActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
 set ydl_localvar_step=ydl_localvar_step + 3
 call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
 call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SavePlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8, GetTriggerPlayer())
    call ForceRemovePlayer(udg_group_of_players[5], LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))
    set udg_solt_id_int=GetConvertedPlayerId(GetTriggerPlayer())
    if ( ( udg_solt_id_int <= 9 ) ) then
        set udg_solt_id=I2S(udg_solt_id_int)
    else
        if ( ( udg_solt_id_int == 9 ) ) then
            set udg_solt_id="A"
        else
            if ( ( udg_solt_id_int == 11 ) ) then
                set udg_solt_id="B"
            else
                if ( ( udg_solt_id_int == 12 ) ) then
                    set udg_solt_id="C"
                else
                endif
            endif
        endif
    endif
    // 杀敌/结果/生存
    if ( ( udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))] == 1 ) ) then
        call StoreString(udg_GC, "Data", ( "num4_" + udg_solt_id ), I2S(LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 0x42948F16)))
        set udg_int=LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 0x42948F16)
        set udg_str=( "num4_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , udg_int)
        if ( ( LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 0x81580161) != 1 ) ) then
            call StoreString(udg_GC, "Data", ( "num3_" + udg_solt_id ), "1")
            set udg_str=( "num3_" + udg_solt_id )
            call Upload_Data_Integer(udg_GC , "Data" , udg_str , 1)
        else
        endif
    else
    endif
    call StoreString(udg_GC, "Data", ( "num1_" + udg_solt_id ), "3")
    set udg_str=( "num1_" + udg_solt_id )
    call Upload_Data_Integer(udg_GC , "Data" , udg_str , 3)
    call StoreString(udg_GC, "result", "逃跑", I2S(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3098AE2)))
    set udg_str="逃跑"
    call Upload_Data_Integer(udg_GC , "result" , udg_str , udg_solt_id_int)
    // 阵营/生存时长
    if ( ( LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 0x75085DE5) == 1 ) ) then
        call StoreString(udg_GC, "Data", ( "num2_" + udg_solt_id ), "1")
        set udg_str=( "num2_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , 1)
    else
        call StoreString(udg_GC, "Data", ( "num2_" + udg_solt_id ), "2")
        set udg_str=( "num2_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , 2)
        call StoreString(udg_GC, "Data", ( "num6_" + udg_solt_id ), I2S(LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 0x5D9ED9EC)))
        set udg_int=LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 0x5D9ED9EC)
        set udg_str=( "num6_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , udg_int)
    endif
    // MVP
    if ( ( LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8) == LoadPlayerHandle(YDHT, GetHandleId(gg_trg_Record_all), 0xC3E47FB0) ) and ( LoadReal(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(gg_trg_Record_all), 0xC3E47FB0)), 0x9375D887) != 0.00 ) ) then
        call StoreString(udg_GC, "Data", ( "num5_" + udg_solt_id ), "1")
        set udg_str=( "num5_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , 1)
    else
        call StoreString(udg_GC, "Data", ( "num5_" + udg_solt_id ), "2")
        set udg_str=( "num5_" + udg_solt_id )
        call Upload_Data_Integer(udg_GC , "Data" , udg_str , 2)
    endif
    // 状态
    set udg_str=""
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=StringLength(LoadStr(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 0xAF9C0D5D))
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( ( SubStringBJ(LoadStr(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 0xAF9C0D5D), bj_forLoopAIndex, bj_forLoopAIndex) != "(" ) and ( SubStringBJ(LoadStr(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 0xAF9C0D5D), bj_forLoopAIndex, bj_forLoopAIndex) != ")" ) ) ) then
            set udg_str=( udg_str + SubStringBJ(LoadStr(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 0xAF9C0D5D), bj_forLoopAIndex, bj_forLoopAIndex) )
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    if ( ( udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))] == 1 ) ) then
        if ( ( LoadInteger(YDHT, GetHandleId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 0x81580161) != 1 ) ) then
            call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA7FB4EDA, ( ( "游戏结果:僵尸_" ) + ( udg_str ) + ( ";状态_母体" ) ))
        else
            call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA7FB4EDA, ( ( "游戏结果:僵尸_" ) + ( udg_str ) + ( ";状态_被感染" ) ))
        endif
    else
        call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA7FB4EDA, ( ( "游戏结果:僵尸_" ) + ( udg_str ) + ( ";状态_存活" ) ))
    endif
    set udg_str=LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA7FB4EDA)
    call StoreString(udg_GC, "json", udg_str, I2S(udg_solt_id_int))
    call Upload_Data_Integer(udg_GC , "Data" , udg_str , udg_solt_id_int)
    // 物品
    if ( ( udg_Number[GetConvertedPlayerId(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))] == 1 ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x214C62CC, YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8) , Condition(function Trig_Record_exitFunc023Func004003002)))
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, FirstOfGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x214C62CC)))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x214C62CC))
    else
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x214C62CC, YDWEGetUnitsOfPlayerMatchingNull(LoadPlayerHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8) , Condition(function Trig_Record_exitFunc023Func001003002)))
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, FirstOfGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x214C62CC)))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x214C62CC))
    endif
    set udg_str="2:物品:"
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, UnitItemInSlotBJ(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_forLoopAIndex))
        if ( ( LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) != null ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x98B58FC3, 0)
            set bj_forLoopBIndex=1
            set bj_forLoopBIndexEnd=StringLength(GetItemName(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820)))
            loop
                exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
                if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x98B58FC3) != 1 ) ) then
                    if ( ( SubStringBJ(GetItemName(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820)), bj_forLoopBIndex, bj_forLoopBIndex) == "|" ) ) then
                        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x98B58FC3, 1)
                        call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x24D4688D, ( LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x24D4688D) + SubStringBJ(GetItemName(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820)), ( ( bj_forLoopBIndex ) + ( 10 ) ), StringLength(GetItemName(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820)))) ))
                    else
                        call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + SubStringBJ(GetItemName(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820)), bj_forLoopBIndex, bj_forLoopBIndex) ))
                    endif
                else
                endif
                set bj_forLoopBIndex=bj_forLoopBIndex + 1
            endloop
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x98B58FC3, 0)
            set bj_forLoopBIndex=1
            set bj_forLoopBIndexEnd=StringLength(LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB))
            loop
                exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
                if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x98B58FC3) != 1 ) ) then
                    if ( ( SubStringBJ(LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB), bj_forLoopBIndex, bj_forLoopBIndex) == "|" ) ) then
                        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x98B58FC3, 1)
                        call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x437E2A40, ( LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x437E2A40) + SubStringBJ(LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB), ( ( bj_forLoopBIndex ) + ( 2 ) ), StringLength(LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB))) ))
                    else
                        call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x437E2A40, ( LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x437E2A40) + SubStringBJ(LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB), bj_forLoopBIndex, bj_forLoopBIndex) ))
                    endif
                else
                endif
                set bj_forLoopBIndex=bj_forLoopBIndex + 1
            endloop
            call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x437E2A40, ( LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x437E2A40) + "_0;" ))
        else
            call SaveStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x437E2A40, ( "无_0;" ))
        endif
        set udg_str=( udg_str + LoadStr(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x437E2A40) )
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call StoreString(udg_GC, "json", udg_str, I2S(udg_solt_id_int))
    call Upload_Data_Integer(udg_GC , "Data" , udg_str , udg_solt_id_int)
    if ( ( CountPlayersInForceBJ(udg_group_of_players[5]) == 1 ) ) then
        call Upload_Data_Integer(udg_GC , "Data" , "GameOver" , 1)
        call DestroyTrigger(gg_trg_Record_all)
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_Record_exit takes nothing returns nothing
    set gg_trg_Record_exit=CreateTrigger()
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(0))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(1))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(2))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(3))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(4))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(5))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(6))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(7))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(8))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(9))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(10))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(11))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(12))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(13))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(14))
        call TriggerRegisterPlayerEventLeave(gg_trg_Record_exit, Player(15))
    call TriggerAddAction(gg_trg_Record_exit, function Trig_Record_exitActions)
endfunction

function InitCustomTriggers takes nothing returns nothing
call InitTrig_Initialization_u()
call InitTrig_choose()
call InitTrig_choose_fz()
call InitTrig_Explain_u()
call InitTrig_Players_born()
call InitTrig_Countdown_u()
call InitTrig_Count_down()
call InitTrig_article_ready()
call InitTrig_ordinary()
call InitTrig_vengeance_god()
call InitTrig_show_ach()
call InitTrig_Equipment_ach()
call InitTrig_1_1()
call InitTrig_1_2()
call InitTrig_2()
call InitTrig_3()
call InitTrig_4()
call InitTrig_5()
call InitTrig_6()
call InitTrig_7()
call InitTrig_8()
call InitTrig_9()
call InitTrig_go()
call InitTrig_affirm()
call InitTrig_backup()
call InitTrig_fallback()
call InitTrig_followme()
call InitTrig_negative()
call InitTrig_enemys()
call InitTrig_up_attack()
call InitTrig_science_and_technology()
call InitTrig_Human_death()
call InitTrig_Human_npc()
call InitTrig_Human_win_1()
call InitTrig_Human_win_2()
call InitTrig_Human_win_3()
call InitTrig_Human_win_fz()
call InitTrig_Human_vision_u()
call InitTrig_Human_skill_1()
call InitTrig_Human_skill_2()
call InitTrig_Human_skill_3()
call InitTrig_Human_skill_3_fz()
call InitTrig_Human_skill_4_5()
call InitTrig_Human_skill_6()
call InitTrig_Human_skill_7_18_19()
call InitTrig_Human_skill_7_9_10_16_fz()
call InitTrig_Human_skill_8()
call InitTrig_Human_skill_11()
call InitTrig_Human_skill_12()
call InitTrig_Human_skill_13()
call InitTrig_Human_skill_14()
call InitTrig_Human_skill_15()
call InitTrig_Human_skill_17()
call InitTrig_Human_skill_17_fz()
call InitTrig_Human_skill_20()
call InitTrig_Human_come()
call InitTrig_Human_Into_the_potential_u()
call InitTrig_Human_min()
call InitTrig_Human_economic_a()
call InitTrig_Human_economic_b()
call InitTrig_Human_economic_c()
call InitTrig_Zombi_win()
call InitTrig_Zombi_heal()
call InitTrig_Zombi_hurt()
call InitTrig_Zombi_up()
call InitTrig_Zombi_death()
call InitTrig_Zombi_skill_1_5_10()
call InitTrig_Zombi_skill_2_4_6_8()
call InitTrig_Zombi_skill_2_fz()
call InitTrig_Zombi_skill_3()
call InitTrig_Zombi_skill_7_9()
call InitTrig_Zombi_skill_8_fz()
call InitTrig_Zombi_gold_1()
call InitTrig_Zombi_gold_2()
call InitTrig_Zombi_min()
call InitTrig_Mining_stone_u()
call InitTrig_Items_function_a()
call InitTrig_Items_function_b()
call InitTrig_Items_function_c()
call InitTrig_lottery_u()
call InitTrig_Building_restrictions()
call InitTrig_Building_death()
call InitTrig_Building_coming()
call InitTrig_Building_then_damage()
call InitTrig_Sunkens_correction_u()
call InitTrig_Games_timing_u()
call InitTrig_Games_end()
call InitTrig_Games_settle_accounts()
call InitTrig_article_1()
call InitTrig_article_2()
call InitTrig_article_3()
call InitTrig_article_4()
call InitTrig_article_5()
call InitTrig_article_6()
call InitTrig_article_7()
call InitTrig_article_8()
call InitTrig_article_9()
call InitTrig_article_combining1_fz()
call InitTrig_article_combining2()
call InitTrig_article_combining3()
call InitTrig_article_skill_1_6_8_9_14_15_17()
call InitTrig_article_skill_2()
call InitTrig_article_skill_3_4_13()
call InitTrig_article_skill_5()
call InitTrig_article_skill_7()
call InitTrig_article_skill_10()
call InitTrig_article_skill_10_fz1()
call InitTrig_article_skill_10_fz2()
call InitTrig_article_skill_11()
call InitTrig_article_skill_12()
call InitTrig_article_skill_12_fz()
call InitTrig_article_skill_16()
call InitTrig_article_skill_CD()
call InitTrig_Ashenvale_wav_1()
call InitTrig_Ashenvale_wav_2()
call InitTrig_The_deep_upgrade()
call InitTrig_Down_attack()
call InitTrig_Reinforcement_of_forces_u()
call InitTrig_Reinforcement_of_forces_fz()
call InitTrig_Reinforcement_of_forces_fz1()
call InitTrig_Reinforcement_of_forces_fz2()
call InitTrig_Human_building_skill_1()
call InitTrig_Human_building_1()
call InitTrig_Zombi_skill_update()
call InitTrig_Science_and_technology_limited()
call InitTrig_Science_and_technology_limited_fz()
call InitTrig_Limit_attack_u()
call InitTrig_Delete_article()
call InitTrig_players_exit1()
call InitTrig_players_exit2()
call InitTrig_players_exit3()
call InitTrig_article_own1()
call InitTrig_article_own2()
call InitTrig_Vote_kicking()
call InitTrig_Vote_kicking_fz()
call InitTrig_MH()
call InitTrig_experience()
call InitTrig_experience_god()
call InitTrig_small_zb_birth()
call InitTrig_small_zb_move()
call InitTrig_Hp_full()
call InitTrig_Hero_npc()
call InitTrig_vengeance_god_npc()
call InitTrig_vengeance_god_come()
call InitTrig_vengeance_god_come_fz()
call InitTrig_vengeance_god_Min()
call InitTrig_Hero_Min()
call InitTrig_Hero_death()
call InitTrig_Win()
call InitTrig_zb_up()
call InitTrig_Jump_thud()
call InitTrig_Anti_magic_shield()
call InitTrig_Conceal_hook()
call InitTrig_Meat_hook()
call InitTrig_Tooth_blade_impact()
call InitTrig_Wind_blade_pitfalls()
call InitTrig_Wind_blade_pitfalls_fz()
call InitTrig_Wind_blade_pitfalls_fz1()
call InitTrig_Sharp_tooth_blade_crowd()
call InitTrig_Assault_break_enemys()
call InitTrig_Armoured_defense()
call InitTrig_Huge_armoured_defense_change()
call InitTrig_Holy_bolt()
call InitTrig_Blink()
call InitTrig_Star_bomb()
call InitTrig_Rapid_ghosting_effect()
call InitTrig_Rapid_ghosting_effect_fz()
call InitTrig_Rotary_blade_storm()
call InitTrig_Critical_strike()

//新增7个触发器
call InitTrig_Record_kill()
call InitTrig_Record_Hurt()
call InitTrig_Record_time()
call InitTrig_6B___J()
call InitTrig_Record_hurt_end()
call InitTrig_Record_all()
call InitTrig_Record_exit()
endfunction
function RunInitializationTriggers takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_article_ready)
endfunction
function InitCustomPlayerSlots takes nothing returns nothing
call SetPlayerStartLocation(Player(0),0)
call ForcePlayerStartLocation(Player(0),0)
call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(0),false)
call SetPlayerController(Player(0),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1),1)
call ForcePlayerStartLocation(Player(1),1)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),2)
call ForcePlayerStartLocation(Player(2),2)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call ForcePlayerStartLocation(Player(3),3)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call ForcePlayerStartLocation(Player(4),4)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),5)
call ForcePlayerStartLocation(Player(5),5)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(6),6)
call ForcePlayerStartLocation(Player(6),6)
call SetPlayerColor(Player(6),ConvertPlayerColor(6))
call SetPlayerRacePreference(Player(6),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(6),false)
call SetPlayerController(Player(6),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),7)
call ForcePlayerStartLocation(Player(7),7)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8),8)
call ForcePlayerStartLocation(Player(8),8)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(8),false)
call SetPlayerController(Player(8),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(9),9)
call ForcePlayerStartLocation(Player(9),9)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(9),false)
call SetPlayerController(Player(9),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(10),10)
call ForcePlayerStartLocation(Player(10),10)
call SetPlayerColor(Player(10),ConvertPlayerColor(10))
call SetPlayerRacePreference(Player(10),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(10),false)
call SetPlayerController(Player(10),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(11),11)
call ForcePlayerStartLocation(Player(11),11)
call SetPlayerColor(Player(11),ConvertPlayerColor(11))
call SetPlayerRacePreference(Player(11),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(11),false)
call SetPlayerController(Player(11),MAP_CONTROL_USER)
endfunction
function InitCustomTeams takes nothing returns nothing
call SetPlayerTeam(Player(0),0)
call SetPlayerTeam(Player(1),1)
call SetPlayerTeam(Player(2),1)
call SetPlayerTeam(Player(3),1)
call SetPlayerTeam(Player(4),1)
call SetPlayerTeam(Player(5),1)
call SetPlayerTeam(Player(6),1)
call SetPlayerTeam(Player(7),1)
call SetPlayerTeam(Player(8),1)
call SetPlayerTeam(Player(9),1)
call SetPlayerTeam(Player(10),1)
call SetPlayerTeam(Player(11),1)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(10),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(11),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(10),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(11),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(10),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(11),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(10),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(11),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(10),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(11),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(10),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(11),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(10),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(11),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(10),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(11),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(10),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(11),true)
call SetPlayerAllianceStateAllyBJ(Player(10),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(10),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(10),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(10),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(10),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(10),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(10),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(10),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(10),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(10),Player(11),true)
call SetPlayerAllianceStateAllyBJ(Player(11),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(11),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(11),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(11),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(11),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(11),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(11),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(11),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(11),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(11),Player(10),true)
endfunction
function InitAllyPriorities takes nothing returns nothing
call SetStartLocPrioCount(0,11)
call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(1,11)
call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(2,11)
call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(3,11)
call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(4,11)
call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5,11)
call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(6,11)
call SetStartLocPrio(6,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(7,11)
call SetStartLocPrio(7,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(8,11)
call SetStartLocPrio(8,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(9,11)
call SetStartLocPrio(9,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,8,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(10,11)
call SetStartLocPrio(10,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,8,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,9,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(11,11)
call SetStartLocPrio(11,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,8,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,9,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,10,10,MAP_LOC_PRIO_HIGH)
endfunction
function main takes nothing returns nothing
local weathereffect we
call SetCameraBounds(-7680.+GetCameraMargin(CAMERA_MARGIN_LEFT),-7808.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),7680.-GetCameraMargin(CAMERA_MARGIN_RIGHT),7552.-GetCameraMargin(CAMERA_MARGIN_TOP),-7680.+GetCameraMargin(CAMERA_MARGIN_LEFT),7552.-GetCameraMargin(CAMERA_MARGIN_TOP),7680.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-7808.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
call SetWaterBaseColor(0,255,255,255)
set we=AddWeatherEffect(Rect(-8192.,-8192.,8192.,8192.),'SNls')
call EnableWeatherEffect(we,true)
call NewSoundEnvironment("Default")
call SetAmbientDaySound("IceCrownDay")
call SetAmbientNightSound("IceCrownNight")
call SetMapMusic("Music",true,0)
call InitSounds()
call CreateRegions()
call CreateCameras()
call CreateAllUnits()
call InitBlizzard()
call ExecuteFunc("YDTriggerSaveLoadSystem___Init")
call ExecuteFunc("InitializeYD")
call ExecuteFunc("YDWEGeneralBounsSystem___Initialize")
call ExecuteFunc("YDWETimerSystem___Init")
call InitGlobals()
call InitCustomTriggers()
call ConditionalTriggerExecute(gg_trg_article_ready)
call CreateDestructableZ('ITtw',1600,4288,0,270,.8,3)
call CreateDestructableZ('ITtw',1856,4288,0,270,.81,0)
call CreateDestructableZ('ITtw',1728,4288,0,270,.96,9)
call CreateDestructableZ('ITtw',1728,4160,0,270,.88,5)
call CreateDestructableZ('ITtw',128,6656,0,270,.81,8)
call CreateDestructableZ('ITtw',256,6528,0,270,.84,4)
call CreateDestructableZ('ITtw',-2496,2496,128,270,1,6)
call CreateDestructableZ('ITtw',256,6912,0,270,.95,4)
call CreateDestructableZ('ITtw',128,7040,0,270,.91,0)
call CreateDestructableZ('ITw0',-736,3488,-20,270,1,2)
call CreateDestructableZ('ITw2',-608,3296,-28,270,1,0)
call CreateDestructableZ('ITtw',-2624,2496,128,270,.91,7)
call CreateDestructableZ('ITtw',-256,6976,0,270,.81,5)
call CreateDestructableZ('ITtw',-384,7040,0,270,.97,3)
call CreateDestructableZ('WTst',2432,7488,0,270,1.17,5)
call CreateDestructableZ('WTst',3520,6400,-128,270,.97,2)
call CreateDestructableZ('WTst',4032,7424,-128,270,1.16,2)
call CreateDestructableZ('WTst',3136,7488,0,270,1.05,0)
call CreateDestructableZ('ITtw',-896,7104,0,270,.92,7)
call CreateDestructableZ('ITtw',-1216,6976,0,270,.83,2)
call CreateDestructableZ('ITtw',-1280,7104,0,270,.94,0)
call CreateDestructableZ('WTst',3008,7360,0,270,1.06,5)
call CreateDestructableZ('ITtw',64,5440,0,270,.92,2)
call CreateDestructableZ('ITtw',-576,4352,0,270,.92,6)
call CreateDestructableZ('ITtw',-384,4160,0,270,.82,3)
call CreateDestructableZ('ITtw',-256,4096,0,270,.83,3)
call CreateDestructableZ('ITtw',-128,3968,0,270,.8,6)
call CreateDestructableZ('ITtw',0,3904,0,270,.86,3)
call CreateDestructableZ('ITtw',-512,2496,0,270,.85,6)
call CreateDestructableZ('ITtw',-832,2752,0,270,.93,7)
call CreateDestructableZ('ITtw',-832,2624,0,270,.93,6)
call CreateDestructableZ('ITtw',-832,2496,0,270,.96,7)
call CreateDestructableZ('ITtw',-704,2368,0,270,.98,1)
call CreateDestructableZ('ITtw',-576,2240,0,270,1,2)
call CreateDestructableZ('ITtw',-448,2112,0,270,.82,3)
call CreateDestructableZ('ITtw',448,2112,0,270,1,3)
call CreateDestructableZ('ITtw',576,2240,0,270,.89,8)
call CreateDestructableZ('ITtw',704,2368,0,270,.85,3)
call CreateDestructableZ('ITtw',64,2368,0,270,.87,9)
call CreateDestructableZ('ITtw',64,2496,0,270,.93,0)
call CreateDestructableZ('ITtw',64,2624,0,270,.88,7)
call CreateDestructableZ('ITtw',-64,2560,0,270,.81,9)
call CreateDestructableZ('ITtw',192,2368,0,270,.84,6)
call CreateDestructableZ('ITtw',128,3200,0,270,.87,3)
call CreateDestructableZ('ITtw',-64,3008,0,270,.91,7)
call CreateDestructableZ('ITtw',0,2880,0,270,.94,4)
call CreateDestructableZ('ITtw',128,2816,0,270,.82,9)
call CreateDestructableZ('ITtw',-320,3392,0,270,.84,7)
call CreateDestructableZ('ITtw',-384,2816,0,270,.9,5)
call CreateDestructableZ('ITtw',320,3712,0,270,.95,2)
call CreateDestructableZ('ITtw',-576,3776,0,270,.95,7)
call CreateDestructableZ('ITtw',64,4480,0,270,.97,3)
call CreateDestructableZ('ITtw',0,4352,0,270,.96,8)
call CreateDestructableZ('ITtw',-1216,4288,0,270,.88,9)
call CreateDestructableZ('ITtw',-960,4032,0,270,.86,6)
call CreateDestructableZ('ITtw',1088,6208,0,270,.81,5)
call CreateDestructableZ('ITtw',1600,6464,0,270,.93,5)
call CreateDestructableZ('ITtw',448,6208,0,270,.9,5)
call CreateDestructableZ('ITtw',-2880,4544,0,270,.92,6)
call CreateDestructableZ('ITtw',-2880,4672,0,270,.92,8)
call CreateDestructableZ('ITtw',-2880,4800,0,270,.95,6)
call CreateDestructableZ('ITtw',-2752,4544,0,270,.83,1)
call CreateDestructableZ('ITtw',-2752,4672,0,270,.82,0)
call CreateDestructableZ('ITtw',-2752,4800,0,270,.94,7)
call CreateDestructableZ('ITtw',-2624,4544,0,270,.96,3)
call CreateDestructableZ('ITtw',-2624,4672,0,270,.95,9)
call CreateDestructableZ('ITtw',-2624,4800,0,270,.81,8)
call CreateDestructableZ('ITtw',-2496,4544,0,270,.86,8)
call CreateDestructableZ('ITtw',-2368,4544,0,270,.82,7)
call CreateDestructableZ('ITtw',-2240,4480,0,270,.97,2)
call CreateDestructableZ('ITtw',-2112,4416,0,270,.81,0)
call CreateDestructableZ('ITtw',-1984,4352,0,270,.9,0)
call CreateDestructableZ('ITtc',-1952,4256,0,270,1.17,1)
call CreateDestructableZ('ITtc',-2016,4256,0,270,1.02,2)
call CreateDestructableZ('ITtw',-2112,4288,0,270,.85,0)
call CreateDestructableZ('ITtw',-2240,4288,0,270,.88,9)
call CreateDestructableZ('ITtw',-2432,4416,0,270,.96,5)
call CreateDestructableZ('ITtc',-2400,4256,0,270,.83,2)
call CreateDestructableZ('ITtc',-2464,4256,0,270,1.14,2)
call CreateDestructableZ('ITtw',-6848,4096,0,270,.87,1)
call CreateDestructableZ('ITtw',-2624,4352,0,270,.98,1)
call CreateDestructableZ('ITtw',-2048,4928,0,270,.92,6)
call CreateDestructableZ('ITtw',-2048,5056,0,270,.92,2)
call CreateDestructableZ('ITtw',-2496,5184,0,270,.92,1)
call CreateDestructableZ('ITtw',-2432,5312,0,270,.99,9)
call CreateDestructableZ('ITtw',-2368,5440,0,270,1,9)
call CreateDestructableZ('ITtw',-2368,4800,0,270,.98,1)
call CreateDestructableZ('ITtw',-1728,4544,0,270,.97,5)
call CreateDestructableZ('ITtw',-1792,5312,0,270,.95,9)
call CreateDestructableZ('ITtw',-1664,5312,0,270,.95,4)
call CreateDestructableZ('ITtw',-1664,5184,0,270,.87,7)
call CreateDestructableZ('ITtw',-1600,4992,0,270,.83,9)
call CreateDestructableZ('ITtw',-1600,5504,0,270,.98,5)
call CreateDestructableZ('ITtw',-2048,5760,0,270,.9,9)
call CreateDestructableZ('ITtw',-1984,5568,0,270,.88,3)
call CreateDestructableZ('ITtw',-1600,6400,0,270,.93,8)
call CreateDestructableZ('ITtw',-1664,6272,0,270,.96,5)
call CreateDestructableZ('ITtw',-1792,6336,0,270,.95,9)
call CreateDestructableZ('ITag',-832,6784,256,270.98,1,0)
call CreateDestructableZ('ITtw',-960,5824,256,270,.99,6)
call CreateDestructableZ('ITtw',-2496,5824,0,270,.88,7)
call CreateDestructableZ('ITtw',-2368,5824,0,270,.83,7)
call CreateDestructableZ('ITtw',-1792,7296,0,270,.81,2)
call CreateDestructableZ('ITtw',-1856,7168,0,270,.89,1)
call CreateDestructableZ('ITtw',-1984,7040,0,270,.93,9)
call CreateDestructableZ('ITtw',-2048,6912,0,270,.93,0)
call CreateDestructableZ('ITtw',-2176,6848,0,270,1,4)
call CreateDestructableZ('ITtw',-2304,6848,0,270,.83,2)
call CreateDestructableZ('ITtw',-1792,6720,0,270,.99,4)
call CreateDestructableZ('ITtw',-1856,7040,0,270,.95,0)
call CreateDestructableZ('ITtw',-2304,6528,0,270,.97,2)
call CreateDestructableZ('ITtw',-2304,7232,0,270,.86,0)
call CreateDestructableZ('ITtw',-2432,7296,0,270,.9,3)
call CreateDestructableZ('ITtw',-2560,7040,0,270,.92,0)
call CreateDestructableZ('ITtw',-2688,6976,0,270,.9,6)
call CreateDestructableZ('ITtw',-2944,7488,0,270,.95,3)
call CreateDestructableZ('ITtw',-2944,7360,0,270,1,6)
call CreateDestructableZ('ITtw',-2816,7296,0,270,.87,1)
call CreateDestructableZ('ITtw',-3072,6720,0,270,.92,8)
call CreateDestructableZ('ITtw',-6336,7232,0,270,.94,2)
call CreateDestructableZ('ITtw',-6336,7360,0,270,.94,6)
call CreateDestructableZ('ITtw',-6336,7488,0,270,.97,9)
call CreateDestructableZ('ITtw',-6336,6976,0,270,.97,2)
call CreateDestructableZ('ITtw',-6336,7104,0,270,.9,2)
call CreateDestructableZ('ITtw',-5824,7040,0,270,.89,6)
call CreateDestructableZ('ITtw',-5824,6784,0,270,.9,1)
call CreateDestructableZ('ITtw',-5696,6400,0,270,.94,8)
call CreateDestructableZ('ITtw',-5632,6208,0,270,.88,7)
call CreateDestructableZ('ITtw',-5568,6080,0,270,.91,2)
call CreateDestructableZ('ITtw',-5312,5952,0,270,.96,6)
call CreateDestructableZ('ITtw',-5184,5952,0,270,.82,0)
call CreateDestructableZ('ITtw',-5056,6080,0,270,.94,1)
call CreateDestructableZ('ITtw',-5056,6272,0,270,.82,1)
call CreateDestructableZ('ITtw',-5184,6336,0,270,.97,8)
call CreateDestructableZ('ITtw',-5376,6400,0,270,.98,1)
call CreateDestructableZ('ITtw',-5312,6976,0,270,.84,0)
call CreateDestructableZ('ITtw',-5248,7104,0,270,.91,6)
call CreateDestructableZ('ITtw',-5120,7040,0,270,.97,9)
call CreateDestructableZ('ITtw',-3840,7040,0,270,.95,1)
call CreateDestructableZ('ITtw',-4032,7104,0,270,.88,6)
call CreateDestructableZ('ITtw',-4160,7168,0,270,.87,1)
call CreateDestructableZ('WTst',-4544,-832,-64,270,1.16,0)
call CreateDestructableZ('WTst',-6464,1088,16,270,.86,6)
call CreateDestructableZ('WTst',3264,6208,-128,270,1.15,5)
call CreateDestructableZ('ITtw',-3456,7296,0,270,.88,0)
call CreateDestructableZ('ITtw',-3584,6848,0,270,.95,4)
call CreateDestructableZ('WTst',3776,6784,-128,270,.87,5)
call CreateDestructableZ('ITtw',-4736,6528,0,270,.97,3)
call CreateDestructableZ('ITtw',-4480,6656,0,270,.85,2)
call CreateDestructableZ('ITtw',-4608,6720,0,270,.81,8)
call CreateDestructableZ('WTst',3648,6528,-128,270,.9,0)
call CreateDestructableZ('ITtw',-4672,6144,0,270,.98,6)
call CreateDestructableZ('ITtw',-4736,6016,0,270,.84,9)
call CreateDestructableZ('ITtw',-4672,5888,0,270,.95,7)
call CreateDestructableZ('ITtw',-4608,6016,0,270,.87,9)
call CreateDestructableZ('ITtw',-7104,6208,0,270,.9,4)
call CreateDestructableZ('ITtw',-7616,6464,0,270,.95,4)
call CreateDestructableZ('ITtw',-5248,5568,0,270,.84,2)
call CreateDestructableZ('ITtw',-5376,5440,0,270,.87,0)
call CreateDestructableZ('ITtw',-5248,5440,0,270,.8,5)
call CreateDestructableZ('ITtw',-5824,5696,0,270,.85,7)
call CreateDestructableZ('ITtw',-4672,-832,-112,270,.86,0)
call CreateDestructableZ('ITtw',-6016,6336,0,270,.96,5)
call CreateDestructableZ('ITtw',-4544,-704,-112,270,.86,3)
call CreateDestructableZ('ITtw',-5056,6656,0,270,.96,4)
call CreateDestructableZ('ITtw',-5632,7296,0,270,.97,9)
call CreateDestructableZ('ITtw',-4864,5696,0,270,.91,9)
call CreateDestructableZ('ITtw',-4608,5440,0,270,.89,4)
call CreateDestructableZ('ITtw',-4544,5248,0,270,.96,8)
call CreateDestructableZ('ITtw',-4480,5120,0,270,.97,4)
call CreateDestructableZ('ITtw',-4416,4992,0,270,.91,9)
call CreateDestructableZ('ITtw',-4352,4864,0,270,.98,0)
call CreateDestructableZ('ITtw',-4160,4736,0,270,.95,9)
call CreateDestructableZ('ITtw',-4608,4608,0,270,.94,7)
call CreateDestructableZ('ITtw',-6336,5760,0,270,.95,4)
call CreateDestructableZ('ITtw',-6592,5760,0,270,.96,0)
call CreateDestructableZ('ITtw',-6656,5632,0,270,.83,6)
call CreateDestructableZ('ITtw',-6784,5504,0,270,.96,4)
call CreateDestructableZ('ITtw',-6848,5376,0,270,.89,0)
call CreateDestructableZ('ITtw',-6976,5440,0,270,.85,1)
call CreateDestructableZ('ITtw',-7104,5440,0,270,.9,6)
call CreateDestructableZ('ITtw',-6976,5824,0,270,.9,3)
call CreateDestructableZ('ITtw',-7552,5312,0,270,.94,3)
call CreateDestructableZ('ITtw',-7168,4928,0,270,.93,4)
call CreateDestructableZ('ITtw',-7040,4864,0,270,.88,2)
call CreateDestructableZ('ITtw',-6528,5120,0,270,.81,1)
call CreateDestructableZ('ITtw',-6656,4672,0,270,.87,8)
call CreateDestructableZ('ITtw',-7296,4288,0,270,.83,1)
call CreateDestructableZ('ITtw',-7424,4288,0,270,.82,5)
call CreateDestructableZ('ITtw',-7552,4416,0,270,.95,2)
call CreateDestructableZ('ITtw',-7360,4416,0,270,.99,8)
call CreateDestructableZ('ITtw',-2752,4352,0,270,.88,5)
call CreateDestructableZ('ITtw',-5440,2880,0,270,.93,5)
call CreateDestructableZ('ITtw',-5440,3648,0,270,.95,1)
call CreateDestructableZ('ITtw',-7232,3776,0,270,.95,1)
call CreateDestructableZ('ITtw',-7360,3712,0,270,.8,1)
call CreateDestructableZ('ITtw',-7680,3648,0,270,.95,1)
call CreateDestructableZ('ITtw',-6400,3520,0,270,.92,3)
call CreateDestructableZ('ITtw',-3520,4736,0,270,.82,4)
call CreateDestructableZ('ITtw',-3648,4736,0,270,.86,4)
call CreateDestructableZ('ITtw',-3456,4608,0,270,.88,5)
call CreateDestructableZ('ITtc',-3168,-1184,0,270,.92,2)
call CreateDestructableZ('ITtc',-3808,1120,0,270,1.05,2)
call CreateDestructableZ('ITtc',-2208,-288,0,270,.88,1)
call CreateDestructableZ('ITtc',-2464,992,0,270,.89,1)
call CreateDestructableZ('ITtc',-5536,2464,0,270,.93,0)
call CreateDestructableZ('ITtc',-6240,1376,0,270,1.02,2)
call CreateDestructableZ('WTst',-6592,1216,16,270,1.2,3)
call CreateDestructableZ('ITtw',-7488,1088,128,270,.98,4)
call CreateDestructableZ('ITtw',-7360,960,128,270,.83,6)
call CreateDestructableZ('ITtw',-7296,832,128,270,.81,1)
call CreateDestructableZ('ITtw',-7488,960,128,270,.92,0)
call CreateDestructableZ('ITtw',-7552,640,128,270,.85,2)
call CreateDestructableZ('ITtc',-7264,608,128,270,.94,2)
call CreateDestructableZ('ITtc',-6752,736,112,270,.83,1)
call CreateDestructableZ('ITtw',-6976,448,16,270,.9,1)
call CreateDestructableZ('ITtw',-7104,320,16,270,.99,0)
call CreateDestructableZ('ITtw',-6528,448,0,270,.93,8)
call CreateDestructableZ('ITtw',-5952,192,0,270,.9,7)
call CreateDestructableZ('ITtw',-3264,960,0,270,.95,6)
call CreateDestructableZ('ITtw',-3136,896,0,270,.9,9)
call CreateDestructableZ('ITtw',-3200,704,0,270,.81,8)
call CreateDestructableZ('ITtw',-7616,-3136,0,270,.85,5)
call CreateDestructableZ('ITtw',-7488,-3136,0,270,.99,6)
call CreateDestructableZ('ITtw',-7360,-3136,0,270,.97,8)
call CreateDestructableZ('ITtw',-7232,-3136,0,270,.89,4)
call CreateDestructableZ('ITtw',-7104,-3136,0,270,.99,1)
call CreateDestructableZ('ITtw',-6976,-3136,0,270,.99,0)
call CreateDestructableZ('ITtw',-6848,-3136,0,270,.98,8)
call CreateDestructableZ('ITtw',-6720,-3136,0,270,.8,5)
call CreateDestructableZ('ITtw',-6336,-3072,0,270,.88,9)
call CreateDestructableZ('ITtw',-6848,-1792,0,270,.89,6)
call CreateDestructableZ('ITtw',-6976,-1792,0,270,.93,2)
call CreateDestructableZ('ITtw',-7104,-1792,0,270,.81,9)
call CreateDestructableZ('ITtw',-7232,-1792,0,270,.9,4)
call CreateDestructableZ('ITtw',-7360,-1792,0,270,.98,0)
call CreateDestructableZ('ITtw',-7488,-1792,0,270,.93,1)
call CreateDestructableZ('ITtw',-7616,-1792,0,270,.97,2)
call CreateDestructableZ('ITtc',-6752,-1760,0,270,1.03,2)
call CreateDestructableZ('ITtw',-7616,-256,0,270,.86,0)
call CreateDestructableZ('ITtw',-7488,-640,0,270,1,3)
call CreateDestructableZ('ITtw',-7424,-768,0,270,.87,5)
call CreateDestructableZ('ITtw',-7360,-1280,0,270,.88,0)
call CreateDestructableZ('ITtw',-7616,-1472,0,270,.86,4)
call CreateDestructableZ('ITtw',-7296,-128,0,270,.88,3)
call CreateDestructableZ('ITig',-5888,-2112,0,269,1,0)
call CreateDestructableZ('NTtc',-6176,-1824,0,270,.82,2)
call CreateDestructableZ('NTtc',-5728,-2400,0,270,.99,1)
call CreateDestructableZ('NTtc',-5792,-1504,0,270,1.06,0)
call CreateDestructableZ('ITtw',-7680,-7744,0,270,.93,4)
call CreateDestructableZ('NTtc',-7584,-7776,0,270,.9,0)
call CreateDestructableZ('NTtc',-4960,3168,-128,270,1.05,2)
call CreateDestructableZ('WTst',-7616,-4544,0,270,1.12,1)
call CreateDestructableZ('WTst',2432,6848,0,270,.81,0)
call CreateDestructableZ('WTst',-7616,-5248,0,270,1.15,4)
call CreateDestructableZ('WTst',-7424,-4800,0,270,.87,0)
call CreateDestructableZ('WTst',-7296,-4864,0,270,.83,3)
call CreateDestructableZ('WTst',-7168,-4992,0,270,1.07,9)
call CreateDestructableZ('WTst',-6720,-5312,0,270,1.06,8)
call CreateDestructableZ('WTst',-6592,-5120,0,270,1.08,7)
call CreateDestructableZ('WTst',-6784,-5184,0,270,.94,7)
call CreateDestructableZ('WTst',-6976,-5440,0,270,1.18,4)
call CreateDestructableZ('WTst',-7488,-5696,0,270,.91,3)
call CreateDestructableZ('WTst',-7360,-5760,0,270,1.08,4)
call CreateDestructableZ('WTst',-6848,-7232,0,270,.93,3)
call CreateDestructableZ('WTst',-6976,-7232,0,270,.84,8)
call CreateDestructableZ('WTst',-7104,-7232,0,270,.83,6)
call CreateDestructableZ('WTst',-7232,-7232,0,270,.83,3)
call CreateDestructableZ('WTst',-7360,-7232,0,270,.8,2)
call CreateDestructableZ('WTst',-6912,-7360,0,270,1.13,8)
call CreateDestructableZ('WTst',-7232,-7744,0,270,1.15,3)
call CreateDestructableZ('WTst',-7168,-7616,0,270,.96,5)
call CreateDestructableZ('WTst',-7040,-7680,0,270,.83,4)
call CreateDestructableZ('WTst',-6848,-7808,0,270,1.07,3)
call CreateDestructableZ('ITtw',1216,-7744,16,270,.81,0)
call CreateDestructableZ('ITtw',960,-7232,128,270,.86,0)
call CreateDestructableZ('ITtw',1600,-7488,128,270,.93,0)
call CreateDestructableZ('ITw2',-1888,-4704,112,270,1,0)
call CreateDestructableZ('ITw2',-1568,-4960,112,270,1,1)
call CreateDestructableZ('NTtc',-992,-2656,128,270,1.03,0)
call CreateDestructableZ('NTtc',-1056,-2912,128,270,1.02,0)
call CreateDestructableZ('NTtc',2208,-7200,128,270,.9,0)
call CreateDestructableZ('NTtc',1696,-6944,128,270,.92,0)
call CreateDestructableZ('NTtc',1376,-6624,128,270,1.18,0)
call CreateDestructableZ('ITtc',2336,-7200,128,270,1,0)
call CreateDestructableZ('ITtc',1760,-6688,128,270,1.11,0)
call CreateDestructableZ('ITtc',1568,-7008,128,270,1.14,0)
call CreateDestructableZ('ITtc',1056,-6624,128,270,.98,0)
call CreateDestructableZ('ITtc',1952,-7264,128,270,1.11,0)
call CreateDestructableZ('ITtw',1856,-7744,0,270,.98,0)
call CreateDestructableZ('ITtw',1216,-7232,0,270,.85,0)
call CreateDestructableZ('ITtw',1344,-6976,0,270,.9,0)
call CreateDestructableZ('ITtw',-2496,-5184,0,270,1,0)
call CreateDestructableZ('ITtw',-2368,-5184,0,270,.93,0)
call CreateDestructableZ('ITtw',-2496,-5056,0,270,.96,0)
call CreateDestructableZ('ITtw',-1984,-5056,0,270,.84,0)
call CreateDestructableZ('NTtc',-1696,-4960,128,270,.81,0)
call CreateDestructableZ('NTtc',-1632,-5088,128,270,1.17,0)
call CreateDestructableZ('NTtc',-2080,-5088,0,270,.95,0)
call CreateDestructableZ('ITtc',-1760,-4960,128,270,1.13,0)
call CreateDestructableZ('ITtw',-5312,-4288,0,270,.87,0)
call CreateDestructableZ('ITtw',-5312,-4096,0,270,.91,0)
call CreateDestructableZ('ITtw',-5632,-3392,0,270,.83,0)
call CreateDestructableZ('ITtw',3712,-6400,128,270,.95,0)
call CreateDestructableZ('ITtw',3648,-6528,128,270,.8,0)
call CreateDestructableZ('ITtw',3584,-6656,128,270,.81,0)
call CreateDestructableZ('ITtw',3840,-6784,128,270,.81,0)
call CreateDestructableZ('ITtw',3904,-6656,128,270,.96,0)
call CreateDestructableZ('ITtw',4160,-6912,128,270,.89,0)
call CreateDestructableZ('ITtw',4288,-7616,128,270,.83,0)
call CreateDestructableZ('ITtw',4416,-7616,128,270,.81,0)
call CreateDestructableZ('ITtw',4544,-7552,128,270,.9,0)
call CreateDestructableZ('ITtw',4800,-7488,128,270,.85,0)
call CreateDestructableZ('WTst',7424,5952,0,270,.83,9)
call CreateDestructableZ('WTst',4288,-7296,128,270,.86,0)
call CreateDestructableZ('WTst',4032,-7744,128,270,1.03,0)
call CreateDestructableZ('WTst',2944,-5504,128,270,.93,0)
call CreateDestructableZ('WTst',2880,-5376,128,270,.89,0)
call CreateDestructableZ('WTst',-64,-4032,128,270,1.17,0)
call CreateDestructableZ('WTst',-64,-4160,128,270,.92,0)
call CreateDestructableZ('WTst',-64,-4288,128,270,1.06,0)
call CreateDestructableZ('WTst',-64,-4800,128,270,.94,0)
call CreateDestructableZ('WTst',-64,-4672,128,270,.93,0)
call CreateDestructableZ('WTst',-64,-4544,128,270,.81,0)
call CreateDestructableZ('ITtw',448,-5184,128,270,.95,0)
call CreateDestructableZ('ITtw',320,-5312,128,270,.83,0)
call CreateDestructableZ('ITtw',192,-5312,128,270,1,0)
call CreateDestructableZ('ITtw',448,-5312,128,270,.83,0)
call CreateDestructableZ('ITtw',64,-5312,128,270,1,0)
call CreateDestructableZ('LTba',-2752,-4416,0,180,.87,0)
call CreateDestructableZ('ITtw',576,-5184,128,270,.81,0)
call CreateDestructableZ('WTst',704,-5056,128,270,1.04,0)
call CreateDestructableZ('WTst',704,-4928,128,270,1.08,0)
call CreateDestructableZ('WTst',832,-4928,128,270,1.13,0)
call CreateDestructableZ('WTst',832,-4032,128,270,1.16,0)
call CreateDestructableZ('WTst',960,-4032,128,270,.89,0)
call CreateDestructableZ('WTst',960,-4160,128,270,.95,0)
call CreateDestructableZ('WTst',960,-4288,128,270,1.19,0)
call CreateDestructableZ('WTst',960,-4416,128,270,.94,0)
call CreateDestructableZ('WTst',960,-4544,128,270,1.06,0)
call CreateDestructableZ('WTst',960,-4672,128,270,.83,0)
call CreateDestructableZ('WTst',960,-4800,128,270,1.04,0)
call CreateDestructableZ('WTst',960,-4928,128,270,1.08,0)
call CreateDestructableZ('WTst',1984,-4544,0,270,.83,0)
call CreateDestructableZ('WTst',-1600,-2816,0,270,.83,0)
call CreateDestructableZ('WTst',-1984,-3008,72,270,.92,0)
call CreateDestructableZ('WTst',-2112,-3072,32,270,1.05,0)
call CreateDestructableZ('WTst',-2240,-3136,0,270,1.18,0)
call CreateDestructableZ('ITtw',-1984,-3264,96,270,.89,0)
call CreateDestructableZ('ITtw',-2432,-3584,0,270,.98,0)
call CreateDestructableZ('WTst',-1856,-3264,128,270,.88,0)
call CreateDestructableZ('LTw0',-2272,-5088,-6,270,1,3)
call CreateDestructableZ('ITtw',-2560,-3776,0,270,.95,0)
call CreateDestructableZ('ITtw',-2112,-3200,32,270,.81,0)
call CreateDestructableZ('ITtw',-2432,-3712,0,270,.91,0)
call CreateDestructableZ('ITtw',-2624,-4032,0,270,.92,0)
call CreateDestructableZ('ITtw',-2752,-4032,0,270,.89,0)
call CreateDestructableZ('ITtw',-2880,-4160,0,270,.95,0)
call CreateDestructableZ('ITtw',-3072,-4160,0,270,.81,0)
call CreateDestructableZ('ITtw',-3008,-4032,0,270,.8,0)
call CreateDestructableZ('ITtw',-3200,-4160,0,270,.95,0)
call CreateDestructableZ('WTst',-3328,-4224,0,270,1.16,0)
call CreateDestructableZ('WTst',-3456,-4288,0,270,.83,0)
call CreateDestructableZ('WTst',-3584,-4352,0,270,.84,0)
call CreateDestructableZ('WTst',-3712,-4416,0,270,.99,0)
call CreateDestructableZ('WTst',-3840,-4480,0,270,1.06,0)
call CreateDestructableZ('ITtc',-2464,-3424,0,270,1.1,0)
call CreateDestructableZ('WTst',-4032,-4736,0,270,1.03,0)
call CreateDestructableZ('WTst',-4096,-4864,0,270,1.17,0)
call CreateDestructableZ('WTst',-4288,-4864,0,270,.86,0)
call CreateDestructableZ('WTst',-4224,-5120,0,270,1.01,0)
call CreateDestructableZ('WTst',-4608,-4544,0,270,1.13,0)
call CreateDestructableZ('WTst',-832,-3008,128,270,1.14,0)
call CreateDestructableZ('WTst',-960,-3008,128,270,.94,0)
call CreateDestructableZ('WTst',-1088,-3008,128,270,1.02,0)
call CreateDestructableZ('WTst',-192,-3776,128,270,.87,0)
call CreateDestructableZ('WTst',-192,-3904,128,270,.82,0)
call CreateDestructableZ('WTst',-192,-4032,128,270,1.03,0)
call CreateDestructableZ('WTst',-1088,-4416,96,270,1.13,0)
call CreateDestructableZ('WTst',-960,-4416,96,270,1.14,0)
call CreateDestructableZ('WTst',-832,-4416,104,270,.85,0)
call CreateDestructableZ('WTst',-704,-4416,120,270,1.13,0)
call CreateDestructableZ('WTst',-576,-4416,128,270,1.14,0)
call CreateDestructableZ('WTst',-448,-4416,128,270,.85,0)
call CreateDestructableZ('WTst',-448,-4288,128,270,1,0)
call CreateDestructableZ('WTst',-320,-4288,128,270,.91,0)
call CreateDestructableZ('WTst',-192,-4288,128,270,.85,0)
call CreateDestructableZ('WTst',-192,-3136,128,270,.91,0)
call CreateDestructableZ('WTst',-192,-3264,128,270,1.08,0)
call CreateDestructableZ('WTst',-192,-3648,128,270,.87,0)
call CreateDestructableZ('WTst',-192,-3392,128,270,1.11,0)
call CreateDestructableZ('WTst',-1600,-3072,128,270,1.12,0)
call CreateDestructableZ('WTst',-1600,-3200,128,270,.85,0)
call CreateDestructableZ('WTst',-1600,-3328,128,270,.83,0)
call CreateDestructableZ('WTst',-1600,-3456,128,270,.85,0)
call CreateDestructableZ('WTst',-1600,-3584,128,270,1.09,0)
call CreateDestructableZ('WTst',-1600,-3712,128,270,.9,0)
call CreateDestructableZ('WTst',-1600,-3840,128,270,1.16,0)
call CreateDestructableZ('WTst',-1600,-3968,128,270,.81,0)
call CreateDestructableZ('WTst',-1600,-4096,128,270,1.17,0)
call CreateDestructableZ('WTst',-1600,-4224,128,270,.96,0)
call CreateDestructableZ('WTst',-1600,-4352,128,270,.9,0)
call CreateDestructableZ('WTst',-1472,-4416,128,270,1.2,0)
call CreateDestructableZ('WTst',-1600,-4480,128,270,.87,0)
call CreateDestructableZ('WTst',-2944,-2368,0,270,.88,0)
call CreateDestructableZ('WTst',-2752,-2688,0,270,1.01,0)
call CreateDestructableZ('WTst',-1920,-1920,0,270,.92,0)
call CreateDestructableZ('WTst',-1728,-2560,0,270,.98,0)
call CreateDestructableZ('WTst',-2496,-2304,0,270,1.06,0)
call CreateDestructableZ('WTst',-2240,-2432,0,270,1.07,0)
call CreateDestructableZ('WTst',-2240,-2240,0,270,.84,0)
call CreateDestructableZ('WTst',-1664,-1920,0,270,1.15,0)
call CreateDestructableZ('WTst',-1664,-1472,0,270,.94,0)
call CreateDestructableZ('WTst',-3072,-3008,0,270,1.08,0)
call CreateDestructableZ('WTst',-2944,-3328,0,270,.93,0)
call CreateDestructableZ('ITtw',-2432,-2816,0,270,.94,0)
call CreateDestructableZ('ITtw',-2560,-2944,0,270,.94,0)
call CreateDestructableZ('ITtw',-1728,-3264,128,270,.83,0)
call CreateDestructableZ('ITtw',-1984,-3136,96,270,.89,6)
call CreateDestructableZ('ITtw',-3072,-2048,0,270,.83,0)
call CreateDestructableZ('ITtw',-3392,-1984,0,270,.9,0)
call CreateDestructableZ('ITtw',-3520,-2112,0,270,.9,0)
call CreateDestructableZ('ITtw',-3328,-2496,0,270,.82,0)
call CreateDestructableZ('ITtw',-1984,-1088,0,270,.99,0)
call CreateDestructableZ('ITtw',-1984,-1216,0,270,.97,0)
call CreateDestructableZ('ITtw',-2112,-1344,0,270,.98,0)
call CreateDestructableZ('ITtw',-2176,-1472,0,270,.96,0)
call CreateDestructableZ('ITtw',-2240,-1600,0,270,.86,0)
call CreateDestructableZ('ITtw',-2112,-1216,0,270,.89,0)
call CreateDestructableZ('NTtc',-1888,-2336,0,270,1.17,0)
call CreateDestructableZ('NTtc',-2464,-1888,0,270,1.07,0)
call CreateDestructableZ('NTtc',-2592,-2528,0,270,.87,0)
call CreateDestructableZ('NTtc',-1120,-2016,0,270,1.09,0)
call CreateDestructableZ('ITtw',2880,1344,-128,270,.99,0)
call CreateDestructableZ('ITtw',2752,1472,-128,270,.93,0)
call CreateDestructableZ('ITtw',1344,-2624,0,270,.81,0)
call CreateDestructableZ('ITtw',1344,-2880,0,270,.97,0)
call CreateDestructableZ('ITcr',2048,-1344,128,55,1.12,0)
call CreateDestructableZ('ITtw',1344,-3008,0,270,.82,0)
call CreateDestructableZ('ITtw',1344,-3136,0,270,.92,0)
call CreateDestructableZ('ITtw',1344,-3264,0,270,.81,0)
call CreateDestructableZ('ITtw',1344,-3392,0,270,.9,0)
call CreateDestructableZ('ITtw',-1472,-5696,0,270,.86,0)
call CreateDestructableZ('ITtw',-1024,-5312,0,270,.97,0)
call CreateDestructableZ('ITtw',-768,-5504,0,270,.87,0)
call CreateDestructableZ('ITtw',-576,-5760,0,270,.84,0)
call CreateDestructableZ('ITtw',-512,-5504,0,270,.81,0)
call CreateDestructableZ('ITtw',-384,-5632,0,270,.87,0)
call CreateDestructableZ('ITtw',-192,-5056,0,270,.96,0)
call CreateDestructableZ('ITtw',-1344,-4672,0,270,.97,0)
call CreateDestructableZ('ITtw',-1344,-4800,0,270,.91,0)
call CreateDestructableZ('ITtw',-1344,-4928,0,270,.86,0)
call CreateDestructableZ('ITtw',-1216,-4928,0,270,.9,0)
call CreateDestructableZ('ITtw',-1344,-5056,0,270,.93,0)
call CreateDestructableZ('ITtw',-384,-6464,0,270,.9,0)
call CreateDestructableZ('ITtw',-256,-6592,0,270,.87,0)
call CreateDestructableZ('ITtw',-256,-6208,0,270,.92,0)
call CreateDestructableZ('ITtw',-384,-6144,0,270,.95,0)
call CreateDestructableZ('ITtw',-832,-6080,0,270,.81,0)
call CreateDestructableZ('ITtw',-704,-6144,0,270,.9,0)
call CreateDestructableZ('ITtw',-832,-6336,0,270,.96,0)
call CreateDestructableZ('ITtw',-832,-6464,0,270,.95,0)
call CreateDestructableZ('ITtw',128,-6336,0,270,.89,0)
call CreateDestructableZ('ITtw',576,-6848,0,270,.81,0)
call CreateDestructableZ('ITtw',64,-5696,128,270,.99,0)
call CreateDestructableZ('ITtw',-64,-5952,24,270,.88,0)
call CreateDestructableZ('ITtw',896,-5696,128,270,.87,0)
call CreateDestructableZ('ITtw',1024,-5376,128,270,.89,0)
call CreateDestructableZ('ITtw',704,-5184,128,270,.83,0)
call CreateDestructableZ('ITtw',1792,-4928,128,270,.83,0)
call CreateDestructableZ('ITtw',1344,-4544,128,270,.97,0)
call CreateDestructableZ('ITtw',1344,-4736,128,270,.83,0)
call CreateDestructableZ('ITtc',1376,-5280,128,270,1.16,0)
call CreateDestructableZ('ITtc',1760,-4320,128,270,1.09,0)
call CreateDestructableZ('ITtc',2336,-4960,128,270,1.19,0)
call CreateDestructableZ('ITtc',1376,-5600,128,270,1.01,0)
call CreateDestructableZ('ITtc',1760,-5152,128,270,.83,0)
call CreateDestructableZ('ITtc',1248,-3680,128,270,.98,0)
call CreateDestructableZ('WTst',6400,6528,-128,270,.96,7)
call CreateDestructableZ('ITtc',2720,-5728,128,270,1,0)
call CreateDestructableZ('ITtc',3936,-7072,128,270,.84,0)
call CreateDestructableZ('ITtc',4576,-6688,128,270,1,0)
call CreateDestructableZ('ITtc',4384,-6432,128,270,1.11,0)
call CreateDestructableZ('WTst',7168,5696,0,270,.87,6)
call CreateDestructableZ('ITtc',2592,-4704,128,270,.87,0)
call CreateDestructableZ('ITtc',5088,-7584,128,270,.96,0)
call CreateDestructableZ('ITtc',5024,-7584,128,270,1.09,0)
call CreateDestructableZ('ITtc',4960,-7584,128,270,1.11,0)
call CreateDestructableZ('ITtc',4960,-7648,128,270,.82,0)
call CreateDestructableZ('ITtc',4960,-7712,128,270,1.16,0)
call CreateDestructableZ('ITtc',5024,-7712,128,270,1.12,0)
call CreateDestructableZ('ITtc',5088,-7712,128,270,.84,0)
call CreateDestructableZ('ITtw',4800,-7744,128,270,.9,0)
call CreateDestructableZ('ITtw',4992,-7104,128,270,.92,0)
call CreateDestructableZ('ITtw',5184,-6848,96,270,.95,0)
call CreateDestructableZ('ITtw',4928,-6848,128,270,.95,0)
call CreateDestructableZ('ITtw',5568,-7360,0,270,.99,0)
call CreateDestructableZ('ITtw',5376,-7744,128,270,.87,0)
call CreateDestructableZ('ITtw',3392,-6912,128,270,.83,0)
call CreateDestructableZ('ITtw',3648,-7104,128,270,.97,0)
call CreateDestructableZ('ITtw',4032,-5824,128,270,.91,0)
call CreateDestructableZ('ITtw',3392,-6080,128,270,.86,0)
call CreateDestructableZ('ITtw',3392,-6272,128,270,.87,0)
call CreateDestructableZ('ITtw',320,-3712,0,270,.93,0)
call CreateDestructableZ('ITtw',512,-3584,0,270,.86,0)
call CreateDestructableZ('ITtw',640,-3392,0,270,.83,0)
call CreateDestructableZ('ITtw',704,-3264,0,270,1,0)
call CreateDestructableZ('WTst',6464,5696,0,270,.89,4)
call CreateDestructableZ('WTst',6464,5824,0,270,1.1,9)
call CreateDestructableZ('WTst',6720,5248,0,270,1.09,7)
call CreateDestructableZ('ITtw',256,-2560,0,270,.94,0)
call CreateDestructableZ('ITtw',0,-2432,0,270,.81,0)
call CreateDestructableZ('ITtw',-320,-2432,0,270,.89,0)
call CreateDestructableZ('ITtw',-448,-2496,0,270,.88,0)
call CreateDestructableZ('ITtw',128,-2816,0,270,.95,0)
call CreateDestructableZ('ITtw',-448,-2816,0,270,.86,0)
call CreateDestructableZ('ITtw',576,-2368,0,270,.88,0)
call CreateDestructableZ('ITtw',1216,-2496,0,270,.83,0)
call CreateDestructableZ('ITtw',1216,-2624,0,270,.96,0)
call CreateDestructableZ('ITtw',960,-2880,0,270,.96,0)
call CreateDestructableZ('ITtw',1088,-2944,0,270,.82,0)
call CreateDestructableZ('ITtw',448,-3136,0,270,.96,0)
call CreateDestructableZ('ITtw',256,-3392,0,270,.9,0)
call CreateDestructableZ('ITtw',-128,-2752,0,270,.85,0)
call CreateDestructableZ('ITtw',128,-2112,0,270,.83,0)
call CreateDestructableZ('ITtw',-320,-1728,-128,270,.9,0)
call CreateDestructableZ('ITtw',-704,-2432,0,270,.94,0)
call CreateDestructableZ('ITtw',384,-2304,0,270,.85,0)
call CreateDestructableZ('ITtw',-384,-2112,0,270,.94,0)
call CreateDestructableZ('ITcr',1408,-1920,128,85,1.17,0)
call CreateDestructableZ('ITcr',1664,-1920,168,237,1.18,1)
call CreateDestructableZ('ITcr',1984,-1600,128,279,1,3)
call CreateDestructableZ('ITtw',1472,-2624,0,270,.92,2)
call CreateDestructableZ('ITtw',1600,-2624,0,270,.94,5)
call CreateDestructableZ('ITtw',1728,-2624,0,270,.99,7)
call CreateDestructableZ('ITtw',2112,-2624,0,270,.85,2)
call CreateDestructableZ('ITtw',2432,-4288,128,270,.82,9)
call CreateDestructableZ('ITtw',2496,-1472,0,270,.9,6)
call CreateDestructableZ('ITtw',2496,-1600,0,270,.82,7)
call CreateDestructableZ('ITtw',2496,-1728,0,270,1,3)
call CreateDestructableZ('ITtw',1856,-4288,128,270,1,7)
call CreateDestructableZ('ITtw',1856,-4160,128,270,.89,5)
call CreateDestructableZ('ITtw',2496,-2112,0,270,.8,4)
call CreateDestructableZ('ITtw',2496,-2240,0,270,.92,4)
call CreateDestructableZ('ITtw',2496,-2368,0,270,.88,4)
call CreateDestructableZ('ITtw',2496,-2496,0,270,.91,0)
call CreateDestructableZ('ITtw',2496,-2624,0,270,.98,8)
call CreateDestructableZ('ITtw',2496,-2752,0,270,.87,3)
call CreateDestructableZ('ITtw',2496,-2880,0,270,.99,9)
call CreateDestructableZ('ITtw',2496,-3008,0,270,.9,6)
call CreateDestructableZ('ITtw',2496,-3136,0,270,.87,8)
call CreateDestructableZ('ITtw',2496,-3264,0,270,.9,0)
call CreateDestructableZ('ITtw',2496,-3392,0,270,.84,4)
call CreateDestructableZ('ITtw',2496,-3520,0,270,.96,1)
call CreateDestructableZ('ITtw',2496,-3648,0,270,.94,1)
call CreateDestructableZ('ITtw',2496,-3776,0,270,.94,9)
call CreateDestructableZ('ITtw',2240,-2624,0,270,.8,6)
call CreateDestructableZ('ITtw',2368,-2624,0,270,.97,1)
call CreateDestructableZ('ITtw',1344,-2752,0,270,.9,8)
call CreateDestructableZ('ITtw',1856,-2624,0,270,.86,5)
call CreateDestructableZ('ITtw',1856,-2752,0,270,.97,4)
call CreateDestructableZ('ITtw',2112,-2752,0,270,.97,2)
call CreateDestructableZ('ITtw',1856,-2880,0,270,1,5)
call CreateDestructableZ('ITtw',2112,-2880,0,270,.97,5)
call CreateDestructableZ('ITtw',1984,-3904,0,270,.95,3)
call CreateDestructableZ('ITtw',3392,-4416,0,270,.83,6)
call CreateDestructableZ('ITtw',3264,-4288,0,270,.98,1)
call CreateDestructableZ('ITtw',3008,-4288,0,270,.92,6)
call CreateDestructableZ('ITtw',3136,-4288,0,270,.89,3)
call CreateDestructableZ('ITtw',3008,-4160,0,270,.99,7)
call CreateDestructableZ('ITtw',2880,-4160,0,270,.85,6)
call CreateDestructableZ('LTba',1984,-2624,0,80.52,.9,0)
call CreateDestructableZ('ITtw',3776,-3392,0,270,.81,6)
call CreateDestructableZ('ITtw',3776,-3520,0,270,.86,4)
call CreateDestructableZ('ITtw',6336,-6080,-128,270,.94,8)
call CreateDestructableZ('ITtw',6976,-6336,0,270,.87,4)
call CreateDestructableZ('ITtw',5312,-5952,0,270,.99,8)
call CreateDestructableZ('ITtw',5056,-5312,0,270,.88,3)
call CreateDestructableZ('ITtw',5184,-5440,0,270,.94,9)
call CreateDestructableZ('ITtw',5824,-7232,0,270,.98,5)
call CreateDestructableZ('ITtw',5952,-7360,0,270,.98,6)
call CreateDestructableZ('ITtw',3904,-4544,0,270,.89,3)
call CreateDestructableZ('ITtw',4032,-4672,0,270,.95,2)
call CreateDestructableZ('ITtw',4672,-4736,0,270,.88,5)
call CreateDestructableZ('ITtw',4672,-4864,0,270,.88,3)
call CreateDestructableZ('ITtw',4800,-4928,0,270,.91,9)
call CreateDestructableZ('ITtw',4352,-4864,0,270,.95,3)
call CreateDestructableZ('LTrc',-2624,-4416,0,251,1,0)
call CreateDestructableZ('ITtw',4864,-5312,0,270,.87,7)
call CreateDestructableZ('ITtw',4736,-5376,0,270,.87,8)
call CreateDestructableZ('ITtw',4544,-5184,0,270,.9,5)
call CreateDestructableZ('ITtw',4416,-5120,0,270,.92,2)
call CreateDestructableZ('ITtw',4032,-5120,0,270,.89,4)
call CreateDestructableZ('ITtw',4160,-5056,0,270,.97,9)
call CreateDestructableZ('ITtw',4288,-5376,0,270,.91,5)
call CreateDestructableZ('ITtw',4480,-5568,0,270,.94,1)
call CreateDestructableZ('ITtw',4992,-5568,0,270,.95,3)
call CreateDestructableZ('ITtw',4672,-6016,128,270,.88,1)
call CreateDestructableZ('ITtw',3648,-4800,96,270,.91,0)
call CreateDestructableZ('ITtw',4672,-6336,128,270,.89,3)
call CreateDestructableZ('ITtw',3968,-6208,128,270,.85,6)
call CreateDestructableZ('ITtw',2880,-1856,0,270,.97,0)
call CreateDestructableZ('ITtw',2624,-3520,0,270,.83,6)
call CreateDestructableZ('ITtw',3200,-3776,-96,270,.98,2)
call CreateDestructableZ('ITtw',3520,-3904,-128,270,.86,5)
call CreateDestructableZ('ITtw',3008,-3456,0,270,.96,8)
call CreateDestructableZ('ITtw',4416,-2496,0,270,.95,3)
call CreateDestructableZ('ITtw',4160,-3136,0,270,.94,3)
call CreateDestructableZ('ITtw',4288,-3008,0,270,.87,1)
call CreateDestructableZ('ITtw',4416,-1984,0,270,.9,2)
call CreateDestructableZ('ITtw',4096,-2752,0,270,.97,9)
call CreateDestructableZ('ITtw',3968,-2624,0,270,.88,1)
call CreateDestructableZ('ITtw',4224,-2240,0,270,.87,9)
call CreateDestructableZ('ITtw',4160,-2368,0,270,.94,4)
call CreateDestructableZ('ITtw',3968,-1984,0,270,.83,3)
call CreateDestructableZ('ITtw',4416,-2368,0,270,.94,6)
call CreateDestructableZ('ITtw',3968,-3008,0,270,.95,1)
call CreateDestructableZ('ITtw',4160,-3904,0,270,.92,9)
call CreateDestructableZ('ITtw',4160,-4416,-128,270,.9,0)
call CreateDestructableZ('ITtw',4288,-4544,-128,270,.99,0)
call CreateDestructableZ('WTst',1216,3136,0,270,.81,6)
call CreateDestructableZ('WTst',1088,4160,0,270,1.01,2)
call CreateDestructableZ('WTst',1024,3648,0,270,.94,0)
call CreateDestructableZ('WTst',1152,3776,0,270,1.14,3)
call CreateDestructableZ('WTst',1536,2560,0,270,1.13,8)
call CreateDestructableZ('WTst',1024,2880,0,270,1.17,0)
call CreateDestructableZ('WTst',1728,3584,0,270,1.01,5)
call CreateDestructableZ('WTst',1856,3520,0,270,.93,8)
call CreateDestructableZ('WTst',1984,3328,0,270,1.04,4)
call CreateDestructableZ('WTst',2432,3584,0,270,1.19,5)
call CreateDestructableZ('WTst',2560,3712,0,270,1.08,1)
call CreateDestructableZ('WTst',2688,3840,0,270,1.07,2)
call CreateDestructableZ('WTst',3136,4032,0,270,.91,1)
call CreateDestructableZ('WTst',2816,4416,0,270,.82,9)
call CreateDestructableZ('WTst',2496,4672,0,270,.87,1)
call CreateDestructableZ('WTst',2560,4288,0,270,1.1,9)
call CreateDestructableZ('WTst',2624,4416,0,270,1.09,4)
call CreateDestructableZ('WTst',6592,5248,0,270,1.14,0)
call CreateDestructableZ('WTst',6784,5120,0,270,.84,9)
call CreateDestructableZ('WTst',6976,5056,0,270,.83,1)
call CreateDestructableZ('WTst',2432,5440,0,270,1.08,0)
call CreateDestructableZ('WTst',2368,5568,0,270,1.19,4)
call CreateDestructableZ('WTst',2368,5696,0,270,.84,5)
call CreateDestructableZ('WTst',2432,5824,0,270,1.04,9)
call CreateDestructableZ('WTst',2432,5056,0,270,1.14,0)
call CreateDestructableZ('WTst',6912,5248,0,270,.95,9)
call CreateDestructableZ('WTst',3200,5056,0,270,1.12,2)
call CreateDestructableZ('WTst',4416,5568,0,270,1.02,5)
call CreateDestructableZ('WTst',4160,5696,0,270,1.02,2)
call CreateDestructableZ('WTst',3904,5568,0,270,.89,2)
call CreateDestructableZ('WTst',3648,5696,0,270,.8,0)
call CreateDestructableZ('WTst',3392,5568,0,270,1.05,2)
call CreateDestructableZ('WTst',3520,5952,0,270,.81,8)
call CreateDestructableZ('WTst',3200,5824,0,270,.82,0)
call CreateDestructableZ('WTst',3136,5504,0,270,1.04,4)
call CreateDestructableZ('WTst',2944,5632,0,270,1.16,0)
call CreateDestructableZ('WTst',2816,6144,0,270,1.18,5)
call CreateDestructableZ('WTst',2816,6464,0,270,1.09,8)
call CreateDestructableZ('WTst',2688,5824,0,270,.97,7)
call CreateDestructableZ('WTst',3008,4800,0,270,1.13,1)
call CreateDestructableZ('WTst',3008,3584,0,270,1.01,8)
call CreateDestructableZ('WTst',2944,3392,0,270,1.09,7)
call CreateDestructableZ('WTst',2240,4032,0,270,1.1,6)
call CreateDestructableZ('WTst',2112,3712,0,270,.85,2)
call CreateDestructableZ('WTst',4544,1984,0,270,.82,4)
call CreateDestructableZ('WTst',6336,-512,0,270,1.06,9)
call CreateDestructableZ('WTst',6592,-1024,0,270,1.1,6)
call CreateDestructableZ('WTst',5760,-512,0,270,1.12,7)
call CreateDestructableZ('WTst',4160,3264,0,270,1.03,0)
call CreateDestructableZ('WTst',4288,1472,0,270,1.13,2)
call CreateDestructableZ('WTst',4160,1344,0,270,1.13,2)
call CreateDestructableZ('WTst',4160,2112,0,270,.87,1)
call CreateDestructableZ('WTst',4032,2176,0,270,1.19,9)
call CreateDestructableZ('WTst',7424,5504,0,270,1.08,1)
call CreateDestructableZ('WTst',5184,-960,0,270,1,0)
call CreateDestructableZ('WTst',7296,5440,0,270,1.14,9)
call CreateDestructableZ('WTst',3712,2688,0,270,1.03,2)
call CreateDestructableZ('WTst',3648,2496,0,270,1.14,9)
call CreateDestructableZ('WTst',3520,2240,0,270,.85,6)
call CreateDestructableZ('WTst',3904,3072,0,270,1.09,3)
call CreateDestructableZ('WTst',3776,3072,0,270,1.08,8)
call CreateDestructableZ('WTst',3648,3136,0,270,1.04,4)
call CreateDestructableZ('WTst',3328,2880,0,270,1.18,0)
call CreateDestructableZ('WTst',3328,2752,0,270,.89,9)
call CreateDestructableZ('WTst',3328,3136,0,270,1.18,4)
call CreateDestructableZ('WTst',3392,2624,0,270,.85,3)
call CreateDestructableZ('WTst',2112,448,0,270,1.07,5)
call CreateDestructableZ('WTst',2240,576,0,270,1.04,6)
call CreateDestructableZ('WTst',2368,704,0,270,1.01,5)
call CreateDestructableZ('WTst',2496,832,0,270,1.1,5)
call CreateDestructableZ('WTst',2624,960,0,270,1.05,1)
call CreateDestructableZ('WTst',2752,1088,0,270,1.15,3)
call CreateDestructableZ('WTst',2112,-576,0,270,.9,0)
call CreateDestructableZ('WTst',2240,-704,0,270,1.09,1)
call CreateDestructableZ('WTst',2368,-832,0,270,1.16,3)
call CreateDestructableZ('WTst',2496,-960,0,270,.98,1)
call CreateDestructableZ('WTst',2624,-1088,0,270,.86,6)
call CreateDestructableZ('WTst',2880,-1216,0,270,1.1,5)
call CreateDestructableZ('WTst',3008,-1344,0,270,1.19,9)
call CreateDestructableZ('WTst',3136,-1472,0,270,.9,1)
call CreateDestructableZ('WTst',3264,-1600,0,270,.93,1)
call CreateDestructableZ('WTst',3392,-1728,0,270,1.17,9)
call CreateDestructableZ('WTst',5184,3264,0,270,1.18,8)
call CreateDestructableZ('WTst',5312,3264,0,270,.87,6)
call CreateDestructableZ('WTst',5568,3264,0,270,1.05,5)
call CreateDestructableZ('WTst',5440,3264,0,270,.85,1)
call CreateDestructableZ('WTst',5184,5696,0,270,.94,7)
call CreateDestructableZ('WTst',5056,5568,0,270,1.14,5)
call CreateDestructableZ('WTst',5696,5696,0,270,1.06,9)
call CreateDestructableZ('WTst',5824,5184,0,270,.88,7)
call CreateDestructableZ('WTst',7616,-4160,0,270,1.04,4)
call CreateDestructableZ('WTst',7488,-4160,0,270,1.12,3)
call CreateDestructableZ('WTst',7232,-4160,0,270,.9,6)
call CreateDestructableZ('WTst',7104,-4160,0,270,1.19,0)
call CreateDestructableZ('WTst',6976,-4160,0,270,1.14,1)
call CreateDestructableZ('WTst',6848,-4160,0,270,1.02,8)
call CreateDestructableZ('WTst',6720,-4160,0,270,.98,1)
call CreateDestructableZ('WTst',7232,-4288,0,270,1.12,2)
call CreateDestructableZ('WTst',7488,-4288,0,270,1.11,5)
call CreateDestructableZ('WTst',7488,-4416,0,270,1.03,3)
call CreateDestructableZ('WTst',7488,-4544,0,270,1.18,9)
call CreateDestructableZ('WTst',7360,-4544,0,270,.84,0)
call CreateDestructableZ('WTst',7232,-4544,0,270,.87,5)
call CreateDestructableZ('WTst',6592,-4160,0,270,.85,2)
call CreateDestructableZ('WTst',6592,-4288,0,270,1.09,6)
call CreateDestructableZ('WTst',6592,-4416,0,270,.83,0)
call CreateDestructableZ('WTst',6592,-4544,0,270,.99,2)
call CreateDestructableZ('WTst',7360,-5952,0,270,.91,1)
call CreateDestructableZ('WTst',6592,-4800,0,270,1.12,1)
call CreateDestructableZ('WTst',6592,-4928,0,270,.88,6)
call CreateDestructableZ('WTst',6592,-5056,0,270,1.05,2)
call CreateDestructableZ('WTst',7104,-5312,0,270,.91,1)
call CreateDestructableZ('WTst',7104,-5184,0,270,1.09,0)
call CreateDestructableZ('WTst',6976,-5184,0,270,1.12,3)
call CreateDestructableZ('WTst',6848,-5184,0,270,.96,7)
call CreateDestructableZ('WTst',6720,-5184,0,270,.89,5)
call CreateDestructableZ('WTst',7616,-6080,0,270,1.01,8)
call CreateDestructableZ('WTst',7104,-5440,0,270,.84,6)
call CreateDestructableZ('WTst',7232,-5440,0,270,.87,9)
call CreateDestructableZ('WTst',7360,-5440,0,270,.83,4)
call CreateDestructableZ('ITtw',7360,-6080,0,270,.98,0)
call CreateDestructableZ('WTst',7232,-5568,0,270,.9,0)
call CreateDestructableZ('WTst',7232,-5696,0,270,.91,2)
call CreateDestructableZ('WTst',7232,-5824,0,270,1.06,4)
call CreateDestructableZ('WTst',7232,-5952,0,270,1.05,5)
call CreateDestructableZ('WTst',7616,-5952,0,270,1.11,7)
call CreateDestructableZ('WTst',6592,-5184,0,270,.81,0)
call CreateDestructableZ('WTst',6336,-5696,0,270,.98,0)
call CreateDestructableZ('WTst',6336,-5568,0,270,1.15,6)
call CreateDestructableZ('WTst',6336,-5440,0,270,.98,6)
call CreateDestructableZ('WTst',6336,-5184,0,270,1.19,9)
call CreateDestructableZ('WTst',6080,-3904,0,270,1.09,2)
call CreateDestructableZ('WTst',6208,-3904,0,270,.97,4)
call CreateDestructableZ('WTst',6336,-3904,0,270,.94,6)
call CreateDestructableZ('WTst',6464,-3904,0,270,.99,3)
call CreateDestructableZ('WTst',6592,-3904,-24,270,1.17,8)
call CreateDestructableZ('WTst',6720,-3904,-72,270,.98,1)
call CreateDestructableZ('WTst',6848,-3904,-96,270,.97,4)
call CreateDestructableZ('WTst',6336,-5312,0,270,1.19,4)
call CreateDestructableZ('LTw0',6688,-6944,-16,270,1,3)
call CreateDestructableZ('LTw0',7008,-6944,-16,270,1,1)
call CreateDestructableZ('WTst',6848,-1088,0,270,.84,5)
call CreateDestructableZ('WTst',6848,-960,0,270,.98,9)
call CreateDestructableZ('WTst',6848,-832,0,270,.99,8)
call CreateDestructableZ('WTst',6848,-704,0,270,.93,8)
call CreateDestructableZ('WTst',6848,-576,0,270,.88,7)
call CreateDestructableZ('WTst',6592,-320,0,270,.83,5)
call CreateDestructableZ('WTst',6592,-448,0,270,1,5)
call CreateDestructableZ('WTst',6592,-576,0,270,.93,7)
call CreateDestructableZ('WTst',6976,-576,0,270,.87,4)
call CreateDestructableZ('WTst',6592,-704,0,270,1,6)
call CreateDestructableZ('WTst',6336,-1088,0,270,.96,6)
call CreateDestructableZ('WTst',5184,-1216,0,270,.97,9)
call CreateDestructableZ('WTst',4928,-832,0,270,1.03,7)
call CreateDestructableZ('WTst',5952,7360,0,270,.91,2)
call CreateDestructableZ('WTst',5952,7104,0,270,1.03,0)
call CreateDestructableZ('WTst',5824,7104,0,270,.86,3)
call CreateDestructableZ('WTst',5824,7360,0,270,1.17,8)
call CreateDestructableZ('WTst',7232,6464,0,270,.97,9)
call CreateDestructableZ('WTst',7360,6464,0,270,.85,2)
call CreateDestructableZ('WTst',7616,6464,0,270,1.03,2)
call CreateDestructableZ('WTst',7360,6592,0,270,.99,1)
call CreateDestructableZ('WTst',7360,6720,0,270,.89,1)
call CreateDestructableZ('WTst',7488,6720,0,270,1.13,7)
call CreateDestructableZ('WTst',5440,1728,0,270,1.16,0)
call CreateDestructableZ('WTst',5568,1856,0,270,1.12,4)
call CreateDestructableZ('WTst',5056,64,0,270,.96,0)
call CreateDestructableZ('WTst',5184,64,0,270,.82,9)
call CreateDestructableZ('WTst',5312,-192,0,270,1.08,6)
call CreateDestructableZ('WTst',5184,-192,0,270,.85,3)
call CreateDestructableZ('WTst',5184,-64,0,270,1.02,2)
call CreateDestructableZ('WTst',5440,-192,0,270,.95,2)
call CreateDestructableZ('WTst',5440,-320,0,270,1.2,6)
call CreateDestructableZ('WTst',5568,-320,0,270,1.08,6)
call CreateDestructableZ('WTst',5696,-320,0,270,.91,4)
call CreateDestructableZ('WTst',5824,-320,0,270,.95,7)
call CreateDestructableZ('WTst',5952,-320,0,270,1.13,9)
call CreateDestructableZ('WTst',5952,-192,0,270,.88,4)
call CreateDestructableZ('WTst',5952,-64,0,270,1.03,3)
call CreateDestructableZ('WTst',5952,64,0,270,1,3)
call CreateDestructableZ('WTst',5952,192,0,270,1.15,9)
call CreateDestructableZ('WTst',5824,704,0,270,1.16,9)
call CreateDestructableZ('WTst',5952,704,0,270,1.09,6)
call CreateDestructableZ('WTst',5952,576,0,270,.8,0)
call CreateDestructableZ('WTst',5952,448,0,270,.96,3)
call CreateDestructableZ('WTst',5824,-960,0,270,1.08,4)
call CreateDestructableZ('WTst',6080,-640,0,270,.94,9)
call CreateDestructableZ('WTst',6144,-768,0,270,1.19,3)
call CreateDestructableZ('WTst',5120,-512,0,270,.98,7)
call CreateDestructableZ('WTst',5568,2368,-256,270,.96,9)
call CreateDestructableZ('WTst',5568,2240,-256,270,1.19,9)
call CreateDestructableZ('WTst',5440,2112,-256,270,.8,0)
call CreateDestructableZ('WTst',4672,2240,-256,270,1.06,5)
call CreateDestructableZ('WTst',4672,2368,-256,270,1.1,3)
call CreateDestructableZ('WTst',4288,3008,-256,270,1.05,2)
call CreateDestructableZ('WTst',6464,2880,-256,270,1.06,0)
call CreateDestructableZ('WTst',5952,2496,-256,270,.88,3)
call CreateDestructableZ('WTst',7616,5696,0,270,1.15,5)
call CreateDestructableZ('WTst',7552,5568,0,270,1.2,5)
call CreateDestructableZ('ITtw',3520,1280,0,270,.96,2)
call CreateDestructableZ('ITtw',3584,960,0,270,.92,4)
call CreateDestructableZ('ITtw',3904,1472,0,270,.82,1)
call CreateDestructableZ('ITtw',3264,1024,0,270,.92,4)
call CreateDestructableZ('ITtw',3904,768,0,270,.92,1)
call CreateDestructableZ('ITtw',3968,896,0,270,.9,4)
call CreateDestructableZ('ITtw',3776,1152,0,270,.81,4)
call CreateDestructableZ('ITtw',3904,1856,0,270,.93,0)
call CreateDestructableZ('ITtw',4288,1984,0,270,.82,4)
call CreateDestructableZ('ITtw',3584,2944,0,270,.92,8)
call CreateDestructableZ('ITtw',4160,-1344,-256,270,.94,3)
call CreateDestructableZ('ITtw',4544,-1472,-240,270,.93,9)
call CreateDestructableZ('ITtw',4416,-1344,-240,270,.84,6)
call CreateDestructableZ('ITtw',6720,1472,0,270,.85,0)
call CreateDestructableZ('ITtw',6912,1472,0,270,.98,0)
call CreateDestructableZ('ITtw',7040,1472,0,270,.84,6)
call CreateDestructableZ('ITtw',7168,1472,0,270,.82,9)
call CreateDestructableZ('ITtw',7296,1472,0,270,.91,8)
call CreateDestructableZ('ITtw',7360,1600,0,270,.91,3)
call CreateDestructableZ('ITtw',7360,1728,0,270,.84,9)
call CreateDestructableZ('ITtw',6464,1472,0,270,.85,1)
call CreateDestructableZ('ITtw',6272,1472,0,270,.85,2)
call CreateDestructableZ('ITtw',6592,1088,0,270,.85,4)
call CreateDestructableZ('ITtw',6720,1152,0,270,.89,8)
call CreateDestructableZ('ITtw',6144,1152,0,270,.94,5)
call CreateDestructableZ('ITtw',6080,1024,0,270,.99,4)
call CreateDestructableZ('ITtw',5440,1344,-128,270,.99,4)
call CreateDestructableZ('ITtw',5440,832,-128,270,.99,0)
call CreateDestructableZ('ITtw',4544,704,-256,270,.82,6)
call CreateDestructableZ('ITtw',4992,1600,-256,270,.9,2)
call CreateDestructableZ('YTpb',-1760,-5408,-128,270,1,0)
call CreateDestructableZ('YTpb',-1696,-5408,-128,270,1,0)
call CreateDestructableZ('ITtw',-1728,-5312,-128,270,.93,9)
call CreateDestructableZ('ITtw',-704,5952,256,270,.89,7)
call CreateDestructableZ('ITtw',-960,5952,256,270,.86,1)
call CreateDestructableZ('ITtw',6848,3136,-96,270,.89,3)
call CreateDestructableZ('ITtw',6848,3264,-32,270,.8,4)
call CreateDestructableZ('ITtw',-704,5824,256,270,.81,8)
call CreateDestructableZ('ITtw',-5568,1344,0,270,.91,8)
call CreateDestructableZ('ITtw',-5824,-2752,-128,270,.94,7)
call CreateDestructableZ('YTpb',992,-1952,0,270,1,0)
call CreateDestructableZ('YTpb',992,-2016,0,270,1,0)
call CreateDestructableZ('YTpb',928,-2016,0,270,1,0)
call CreateDestructableZ('YTpb',800,-1888,0,270,1,0)
call CreateDestructableZ('ITcr',1728,-1664,144,44,.98,5)
call CreateDestructableZ('LTba',-7552,-7680,0,74,1.09,1)
call CreateDestructableZ('ITtw',-2752,-4288,0,270,.85,7)
call CreateDestructableZ('ITtw',-2752,-4160,0,270,.98,7)
call CreateDestructableZ('WTst',-2624,-4288,0,270,.81,8)
call CreateDestructableZ('NTtc',-2976,-4128,0,270,.83,0)
call CreateDestructableZ('ITtw',-1728,-3136,128,270,.94,2)
call CreateDestructableZ('ITtw',-1856,-3136,128,270,.97,5)
call CreateDestructableZ('WTst',-2240,-3392,0,270,.82,0)
call CreateDestructableZ('ITtw',-2240,-3264,0,270,.95,0)
call CreateDestructableZ('ITtw',-2624,-3904,0,270,.87,0)
call CreateDestructableZ('ITtw',-2368,-3456,0,270,.89,0)
call CreateDestructableZ('ITtw',-2368,-3328,0,270,.94,0)
call CreateDestructableZ('ITtw',7232,-6080,0,270,.99,3)
call CreateDestructableZ('WTst',7488,-6080,0,270,.99,9)
call CreateDestructableZ('WTst',7488,-5952,0,270,.85,5)
call CreateDestructableZ('NTtc',6560,-4640,0,270,.87,1)
call CreateDestructableZ('NTtc',6560,-4704,0,270,.88,2)
call CreateDestructableZ('NTtc',7328,-2016,0,270,.84,2)
call CreateDestructableZ('NTtc',5408,-2336,-128,270,1.02,0)
call CreateDestructableZ('NTtc',6560,-2400,-256,270,1.11,1)
call CreateDestructableZ('NTtc',7136,-2080,-256,270,1.15,0)
call CreateDestructableZ('NTtc',7648,-2784,-256,270,.96,1)
call CreateDestructableZ('NTtc',6624,-2720,0,270,1.05,0)
call CreateDestructableZ('NTtc',5664,-2912,0,270,1.2,2)
call CreateDestructableZ('NTtc',5728,-3808,-128,270,1.1,2)
call CreateDestructableZ('NTtc',7136,-3552,-128,270,1.16,2)
call CreateDestructableZ('ITtc',7520,-1312,-128,270,.88,0)
call CreateDestructableZ('ITtc',5984,-1568,0,270,.81,2)
call CreateDestructableZ('ITtw',5312,-1728,0,270,.92,6)
endfunction
function config takes nothing returns nothing
call SetMapName("|cFF99FFFF生化狂潮Ⅱ-荒芜雪原v1.10B")
call SetMapDescription("|cFFFFFF00感谢玩家们的大力支持...\n感谢以下助手：\n|cFF0066CC神经の洨鬼\n|cFF33FF66神经の小新\n|cFFCC6633神经の狂草\n|cFFFE9FD8①号QQ群：48192644\n|cFFFE9FD8②号QQ群：254844126\n|cFFCCFF66PS：如大家觉得这图好玩，请加QQ群")
call SetPlayers(12)
call SetTeams(12)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,.0,.0)
call DefineStartLocation(1,.0,.0)
call DefineStartLocation(2,.0,.0)
call DefineStartLocation(3,.0,.0)
call DefineStartLocation(4,.0,.0)
call DefineStartLocation(5,.0,.0)
call DefineStartLocation(6,.0,.0)
call DefineStartLocation(7,.0,.0)
call DefineStartLocation(8,.0,.0)
call DefineStartLocation(9,.0,.0)
call DefineStartLocation(10,.0,.0)
call DefineStartLocation(11,.0,.0)
call InitCustomPlayerSlots()
call InitCustomTeams()
call InitAllyPriorities()
endfunction
